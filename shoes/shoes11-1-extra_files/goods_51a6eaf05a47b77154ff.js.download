(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[1459],{46900:function(e){e.exports={dialog:"_30ROJrsv",goodsItemWrap:"xv2kaBdM",goodsItem:"jk6XbH_1",goodsListWrap:"RgwLBFeQ",optTabWrapSkeleton:"_2dUsua1n",subOptsList:"_13_UEl1V",skeletonList:"_3mGM9iYR",cardWrap:"XDq2FBHu",listClassName:"un3ncFiT",goodsCardClassName:"_1CvpLOd5"}},41439:function(e){e.exports={textHidden:"_10BLpIEG"}},59659:function(e){e.exports={appStoreIcons:"_2rM4eHp6",iconList:"_2gkkG7CH",iconItem:"_2RK3iaaM",icon:"_2kspQWi6",darkIcon:"_2T5XEInY",desc:"_3_mxJKqp",subTitle:"_2nJxsLjL",title:"PFnDMZo9"}},37151:function(e){e.exports={smsModal:"j39XM26-",smsModalSecond:"_1QefJglS",smsModalInner:"R_3Bz_zp",modalCloseIcon:"_1zvCqWYG",closeIcon:"_2MxanPSh",modalMain:"GSBWZfOh",modalMain2:"_3ek41u8W",modalMain3:"hRAWFkwC",topTitle:"_2F2Aax1H",modalSMS:"_1qBxuOlx",smsHeader:"_3sT7Ev31","bg-pc-benefit-download-modal-fadein":"_2dg0dpR1",headerRuleBtn:"_31e5YI2J",giftCardWorth:"_3nKh6IJy",giftCardWorthUnit:"_1UQcdmIp",giftCardTips:"_3vxfk9fA",smsHeader2:"_1JI-va3l",smsHeaderEmage:"_2NusaB7B",animationGiftCard:"_2h_2uH5z","bg-pc-benefit-download-modal-coupon-scale":"_1vgl2rbt",smsFloatCoupon:"kfw4y4zW",ruleModal:"fDqCJ10H",ruleTitle:"N947cDZd",ruleBody:"_8H04FEs1",ruleSection:"_3R7O4G64",ruleSectionStart:"_2gu7fzA2",ruleSectionContent:"-hPwAx8P",ruleConfirmButton:"_3g0HkPC6"}},29412:function(e){e.exports={baseStyle:"uwSVVnDv",turnTableWrap:"U73mRrkv",turnTableTitle:"_1W-ImJ9y",turnTableShowAni:"JIatLZnC",titleText:"_3uoSzGl2",newUser:"_2CmcTTAw",newUserText:"_3LEwNXGB",circle:"i8PJejG9",turnTable:"_1eVn64bc",anchor:"CIDzbaSM",basePlate:"Tr5J2q9B",centerSpin:"_2OR9ysJf",spinText:"_2tLM7s4N",spinButton:"_3yCwS0W_",spinButtonAni:"_2C50Z3af",breath:"TaV-AMLe",minimun:"_3Kx46GQQ",couponPrice:"_2_E4__5F",dollar:"_35BPtrNj",priceCount:"_3g41jZ5V",floatTurnTable:"_22_5EMll",floatContentWrapper:"_3PfVjTcU",floatBgImg:"_1Ribvr9E",floatContent:"_3-Yl9HT4",floatClose:"qSX7K67Q",floatTurnTableWrap:"_3DtCz9xl",floatTurnTableTimer:"_3nss5yT3",timerWrap:"_2Z62E-q3",floatDropAni:"_1RRq7Dxt","bg-pc-benefit-download-modal-float-drop":"_1iEg79KF",light:"_2XoruZ9x",modalCloseIcon:"SiqnACHc",closeIcon:"_3DcrdH9H",bendCoupon:"_3TzHiTaq",firstItem:"vN32QGwl",bonus:"_30E9TbJ5",bonusBorder:"_3t5gEWsF",bonusText:"_1XRA7KLG",turnTableFiveItems:"_31wrG3_u",plateComponentWrapper:"_2VSGE_PF",slowSpin:"_1z5Y_ARk",rotateBeforeSpin:"_1obYFANm",spin:"_35DLVrqW",turnTableRotateAni:"_2Wu0MpGX",basePlateCloseAni:"_1YfK6oRT",plateFiveItemsSpin:"_153DDbfU",turnTableRotateAniFiveItems:"_1fbd9vAE",turnTableRotateAniFiveItemsSlowReturn:"_3BQyskNO",basePlateEndPosition:"OdRVGyMZ",basePlateEndPosition2:"_3U4MIuL-",endAni:"yv1mXRWL",anchorCloseAni:"_2rgP-FN7",lightAni:"_3iROoj8O",lightRotate:"_2_6kDizU"}},37690:function(e){e.exports={resultPopWrap:"_1mXzpmMa",couponShowAni:"_3r-35fIx",popWrapHide:"_1B3AWknU",couponWrapHide:"_18GVMViQ",resultPopContent:"_3vzAM-4g",popBackImage:"nMm-UeLU",couponTitle:"_1UfWPqkL",couponWrap:"_1GbzSsvp",coupon:"W5Xb1gMu",couponHide:"_2EWMsC0R",couponHideAni:"_MKtcLnN",couponBackImage:"_3vK_B9hY",floatSlip:"_1RaDYuwl",flip:"_1kdtOTRp",couponPrice:"_2i_jUSZA",dollar:"_2PAkDiGh",couponBenefit:"_1y1Ivm9j",button:"_2XSZyDdA",bottomText:"_1fu91G7_",mainCounter:"_2Wj3OZ9k",counterLabel:"_3ttLQ9l5",counterTime:"Yu1qzrXJ",milliseconds:"_16nQfMC6",counterSep:"_1bdVOLGQ",modalCloseIcon:"_2qNhkX_3",closeIcon:"Y9vqXMDJ"}},88048:function(e){e.exports={newQrcodeWrapper:"_2qXbwGMK","bg-pc-benefit-download-modal-fadein":"_2vMiweWB",pcDownloadQrCodeLogo:"_2aWhqfGV",leftWrapper:"_1VTOdNnq",qrCodeContainer:"_2aakEUN9",pcDownloadQrCodeImage:"_1bOiCkGJ",appStoreWrapper:"_1lF-GwLc",appStoreList:"OotOjU4P",appStoreItem:"F2Df9n2a",storeIcon:"_3-fso-Jw",title:"_131REvle",subTitle:"_3IpW9IHL",rightWrapper:"_1QjZc8tr",carousel:"_39b4lkH_",carouselBody:"_1DPhd9kH",sysBtnWrapper:"_1orTNe81",slipper:"_2cy5Nmo0",sysBtn:"_1DA2PG3t",active:"_3IOU2tQX",mainTip:"kgY2C8vL",steps:"_2APYbOU5",stepItem:"_31Su2e8y",android:"_3TkjL7kU",stepItem0:"_1SZY7PHI",stepItem1:"_29QDqtEg",stepItem2:"_1UYxEJE9",stepImg:"wPtVDQNT",ios:"_3p8P7d9n"}},82365:function(e){e.exports={qrCodeContainer:"_2zv8eibU",pcDownloadQrCodeImage:"_3PzEsjb1",pcDownloadQrCodeLogo:"_21xrcRWM",scanHintBottom:"p26k2zXY",scanHintBottomIcon:"_2bHe7V8t",overscrollBehaviorNone:"VBN0r9qx",floatSlip:"_1OYNvwxL",flip:"_1k4h2W5v",qrV1Tip:"_2D0kAEAj","bg-pc-benefit-download-modal-fadein":"_2kr7MtbY",qrV1Tip2:"_1bLfCV-U",qrV1Wrapper:"_2puD9Jac",floatContentWrapper:"vqHuXlB7",floatBgImg:"_3gN9yzKo",floatContent:"fUmxr6yG",floatClose:"_23lU8acG",floatTurnTableWrap:"_3c3Dz3Vv",floatTurnTableTimer:"_2bdSNOPA",timerWrap:"_367rEiyI",floatDropAni:"_1PxhDkFu","bg-pc-benefit-download-modal-float-drop":"_2t6jS8cf",closeIconHasTitle:"WPngwAhs",closeIconHasBottomList:"Dh4trpxU",closeIconHasTitleAndBottomList:"_3Gw6TaFn",topTitleHasBubbleList:"-M66U6v4",modalCloseIcon:"_3UgtSzYj",closeIcon:"_1X_afJEN",giftCardWorthUnit:"vm-G9OQr",pcDownloadPwaIntroPwa:"_13Et4n6K",pwaImage:"_2CR62a3r",pwaText:"_1WxWpJGp",pwaEntry:"_2bfOvTEk",arrow:"_3E9qm4rO",splitLine:"_2LoYy2Gd",pcDownloadIntroQrCode:"_1Q2ZRATI",qrCodeImage:"YuIUyLCH",qrCodeInfo:"_4wvyX7et",qrCode:"_1PeWq1u_",phoneLogo:"_3d-tK0fP",temuLogo:"_3IheEN1E",bottomText:"FwLuKTv6",modalBody:"_3-Y4bj_a",modalBody2:"_1bEOq0b3",priceCount:"_1Jgx12cK",currency:"_3iXwFbXl",coupons:"KK7YzGyv",columnStyle:"_1jhRT4zP",floatTurnTablePriceWrap:"_1uJrCXC6",showAppStoreIcons:"_3lW_jszk",qrCodeLeft:"_15n0II3Q",pcDownloadQrCodeImage2:"_3lBJZCsj",pcDownloadQrCodeLogo2:"BFbyLwmH",scanHintBottom2:"_1BhWYFkW",scanHintBottomIcon2:"_2hYqdbrK",scanHintBottomText:"_1NVs9D_B",qrCodeRight:"_2qUxwC-S"}},74266:function(e){e.exports={baseStyle:"_15pd1_FN",baseWrap:"_8TZ38Y40",isHasBubbleContainer:"RgfdprWD",closeIcon:"_3mIROZiU"}},99276:function(e){e.exports={basePlateWrapper:"_1R9PZE-P",ringWrapper:"lomMJCNB",plateInnerImg:"_323_QVKR",plateOutterImg:"_3v5ZPnY1",basePlatePlaceholder:"JI9W3Siw",basePlatePlaceholder2:"vxW0Mk7y",basePlateImage:"_3BqS1xHp"}},54603:function(e){e.exports={bubbleListContainer:"_3rF5mSlB",isShow:"_3_F5IRDZ",container:"ZdWuW6RM",bgWrapper:"_2MtQsr9b",BX_Class4:"_33HwMbHj",BX_AniKey4_OpaAni:"CvmjV9q8",BX_AniKey4:"_3JCTegL0",contentContainer:"_2SmiLwRr",avatar:"pFxHoIgQ",item:"_1noGB8fw",name:"_2T9Mw0pM",tipValue:"_2l156L0S"}},49448:function(e){e.exports={basePlate:"_3k1osL0X",basePlateImage:"UTBWp-O4",couponPrice:"_1iN9LaJg",dollar:"bB5aPqes",priceCount:"_2k4dmg8P",bendCoupon:"_1hZxmYwC",firstItem:"_2v8bQV3o",couponPriceFiveItems:"byCDMkO1",bendCouponFiveItems:"_22R_pL7S",couponWrapper:"_32l72Xq_",firstCouponWrapper:"_13LCAAZB",dollarFiveItems:"_2UBhUwAI",priceCountFiveItems:"_2ctr8Gkg",currencyOnBefore:"_2k6FFhk3",currencyOnAfter:"_4FK2JtRY"}},84828:function(e){e.exports={ringWrapper:"_3AD5YtwH"}},77573:function(e){e.exports={spinWrapper:"_3uq_siM7"}},25539:function(e){e.exports={progressBar:"zBy2fdRi",text:"_2PtPJfa0",amount:"_24CvzMsT",outerProgress:"_3REyk7nR",innerProgress:"Ojid5HZW",minAmount:"_2yHhVWP7",capped:"_2sIG0gfj",money:"AnwzwM78"}},16277:function(e){e.exports={iconWrap:"_3wb3LU5u",iconBg:"_18Mm_JkG",discountWrap:"_2T_cHBAc",couponDetail:"_1VrAzixp",discount:"-b3EpgsU",offWrap:"_3N5kTDlS",precent:"JMK_YAA2",off:"_2qwtBP9o",countDown:"_1u3tW_OX",loginCountDown:"_1IhUD3Xg",loginBtn:"_1XQoNsmJ",closeIcon:"_3g54njUG",progressBar:"_1wZXwDI4",text:"_3f743AFw",amount:"_3OPLnRod",outerProgress:"_35Sdi5GV",innerProgress:"_1rnPfFNK",minAmount:"UzWfNheH",capped:"db1Cp1vN",money:"_1vlCHF3T"}},49330:function(e){e.exports={wrap:"DoOTI9mx",riskTitle:"_1_6ti69E",riskSubtitle:"Ctm9xDTK",btn:"_1Ce6rX5b",close:"_5HsW5EKw"}},31255:function(e){e.exports={baseStyle:"_1PS2l54o",modalWrap:"_2gmMU6Ih",couponBg:"_1DKqBe5c",closeIcon:"Xc2PYTHn",title:"KUWBj5u7",leftStar:"_3nNZYVub",yellowLight:"_3ySiylj-",rightStar:"edvjJOsz",couponDetail:"_38BxnFJB",discount:"ANggW6GY",offWrap:"_3-1uDVKp",precent:"_1OvwurFi",off:"_3reVGog5",countDown:"_259gpjDi",loginBtn:"JX6X-3DZ",orders:"_2lmfwRCr",discountWrap:"B6-onans"}},71705:function(e){e.exports={collapse:"_7co2YUlZ",header:"_1mZz-Ca-",title:"MVC-qu7w",arrow:"Tjnp2lQl",collapsed:"_10hmiL_h"}},43430:function(e){e.exports={bordered:"_3cEK0EKa",gray:"_2GrjAMUZ",green:"_1fZcj5Zr",row:"_2IabzVKz",col:"_277zEwxd",top:"_1rBXypAE",left:"_2aaopOcB",right:"_5-9Y_trm",bottom:"_3eDbLz8c"}},64727:function(e){e.exports={header:"_2VbmlT3y",title:"_1CiXCCc0",paragraph:"_3UoWsoCm",link:"_3dUtEnr_",table:"_3_kg0cRA",tableText:"_1hi0hAd6",tip:"_2--FGnmO",tableIcon:"_2DQx0soE",info:"_1Jzyadgy",infoIcon:"_3N8gSY5P"}},65115:function(e){e.exports={wrap:"_1pK0UGON",btns:"_1FBa8uIt",btn:"_1JCcsSpj",singleBtn:"_3V2wVcOm",title:"_2Rrnszve",desc:"S-eaMYfO",point:"_1n4hccRg",goods:"_3mwIGRQ3",img:"_10fh97_3",price:"_1bZznfYe",salePrice:"_3zF7s0_V",linePrice:"DRrDIfsL",subTitleWrapper:"_1Zyiz-r5"}},85213:function(e){e.exports={wrap:"_3-lOj0q-",btns:"_1HOP6BBT",btn:"_3JBsDnGs",bg:"_2r6ELpcc",popupShow:"_3qf66Gfr",popupShow1:"gNw_ft1e",closeIcon:"_2VqoHGAk",header:"_2RoH7cUT",title:"_1ucCdQ0K",desc:"_-22niQmQ",point:"_29FhdhLb",goods:"_2ItPn-p6",img:"XtlsLXU_",price:"_1pz_PTgA",salePrice:"uQi0UOha",linePrice:"_2zX_rzSh",time:"XpVDGIp5",colon:"_33pi5_7H",countdown:"SCR-l0rf",bg1:"_3KaSjUGF",title1:"_3W7-ct0r",title1Content:"hc_SUgKm",goods1Wrapper:"gSj5gVcX",goods1:"_25UfGSSi",goodsImgWrapper:"_TIxC1Qw",img1:"_2_qxHRVB",goodsHat:"_1vKKmZml",priceText1:"_1m98LkMj",countdown1:"K34zyZnv",rtl:"_3oIsDoJG",countDownWithDay:"_1avZa16a",timeWraper1:"_1Uecgsc3",rtlReverse:"_2RdkiTmx",time1:"_9G7fb0pU",colon1:"_3scYujzs",desc1RichText:"RQ0D1zND",btn1:"YX4uyk2r",closeIcon1:"_1CXMJopl"}},70535:function(e){e.exports={wrap:"_2Fkk_bmp",fadeIn:"_dVr0sj5",left:"_32WOqYbM",goodsName:"HZ_BBbqn"}},35846:function(e){e.exports={wrap:"_2uZR_ez4",top:"_3A_gfW2x",goodsImg:"_3VNV-f1n",tag:"_1oRhFv-s",defaultTagStyle:"_1EviTEsW",icon:"fM_xQLwF",saleInfo:"_15kmTES-"}},97559:function(e){e.exports={wrap:"_2SJgabDI",title:"_2PC7Ej-q",bg:"_2qZk2XRR",titleContent:"_-56XH4jY",textLeft:"_2pk-S4mx",textRight:"_3fpOSnmV",textLeftArrow:"_3rTj5-qp",rightIcon:"_2jOUISpx",list:"_1Y1b3WF4",splideArrowMask:"QjNUVL2-",arrow:"KoKJUCt-",baseArrow:"_3yXJ709j",rightArrow:"KWCb73C1",leftArrow:"_3KJXXgUg"}},71400:function(e){e.exports={title:"_1hB8e82w",titleText:"_2evTIJj1",explainIcon:"_3KiIaOJ9",list:"_85rO3G4s",item:"_22p7YMDn",itemLeft:"KI8h0Ujv",itemLeftText:"_2y0FUJsr",gap:"c9CFNTqE",arrow:"_1mcrwzsR",itemIcon:"_1pT5Ijcg",explain:"_3Df0aMk5",explainArrow:"_3vBSoyFU"}},84408:function(e){e.exports={title:"_3GFYLDXq",explainIcon:"_LPcEd6j",list:"_2ZoksOdz",item:"h1T_G-hY",itemLeft:"L1b3BAEx",itemRight:"_1iC9Iu0r",itemLeftText:"G3KSSFbT",gap:"pMMvZoxP",arrow:"CVdJPyi9",itemIcon:"_1mm2AS7H",view:"_1h2nlfz0"}},32941:function(e){e.exports={wrap:"_15DkLOgC",item:"_3zqdyJA0"}},50667:function(e){e.exports={addCartBtn:"_2mRd3DZR",inner:"h4MAp8Q0",addCartBtn4BorderButtonStyle:"_2Y-vKfWF",operationIcon:"_24Tm7A3l",operation:"zDUx7ag8",operation4BorderButtonStyle:"_2KE_bFml",mid:"IZHOLYpV",midContainer:"_1JF_DBmJ",midTop:"_1jo_6tOo",buttonTextStyle12:"_1TXgBaAd",buttonTextStyle3:"_2WrA_QUf",buttonTextStyle4:"_1YNTtQic",mid4BorderButtonStyle:"Emlqz4Bk",added:"_2pGHsULg",spec:"_1z03u0Wj",spec1:"_2qSxzeth",spec2:"_3k86YBg-",spec3:"_38skywgu",listWrap:"_3G67NJOi",listX:"_7_HNrBwP",listY:"_2fNccJXJ",listItem:"_33fMtMQU",activeItem:"_1DigQGY2",disableItem:"_35YfV2iF",arrowIcon:"_3yoxN8Rf",bubble:"djn42KaX"}},20252:function(e){e.exports={wrap:"_2lvFjjbc",itemWrap:"_2LbUCDfJ",itemTop:"_2Wem5yN1",explainIcon:"_3BrPPDsn",itemContent:"_20h-NWqZ",itemContentPaddingTop:"Z27e2m83",expandedContent:"QoQKIZRt",arrow:"_3qqPLLGr",expandedArrow:"aHb_hTYT"}},60525:function(e){e.exports={wrap:"JjJ06Oqi",icon:"_1s-h0Ele",rightArrow:"_2t8bHi_F",dialogWrap:"_2zrujixc",dialogTitle:"_3BYDAt83",content:"_2jNsmRLu",dialogItem:"_4cmnTwy8",confirm:"_2MpkBPw0"}},33590:function(e){e.exports={placeholder:"_2C4JFdsK",wrap:"_1i_Dm6uq",crumbs:"_2LmAUJYN",arrow:"_2hphVuol",purchase:"jC2ZkoyY",picArrow:"_25zTto9i",breadCrumb:"_3YTayS2z"}},71651:function(e){e.exports={wrap:"_1kVHzVQt",richTextWrap:"_2N9tya3Y",richText:"_1Mrm7qDA",contentWrap:"_1iGQsL9G",title:"_3QKhMGsL",arrow:"_2MimenVM",itemWrap:"_2b64mZGk",dot:"_2eLWfTBy",item:"_3AwjJSMC"}},60995:function(e){e.exports={wrap:"_1DIWD9y_",contentItem:"_37L5TFo2",arrow:"_3VOJ_lqo",leftArrow:"_2VBStR_n",baseArrowBtn:"_1HcXUFDw",innerArrowIcon:"_3hH-pbmk",rightArrow:"_2EOVSZ-v",arrowMask:"O5-aDLQD",trackClassName:"KJIRbZok",arrowSpace:"AsyzuvvP",infoItem:"_4LOzIaxl",infoTitle:"_3R51Fcsc",list:"_2nhSzVbB",left:"_2DgqJ8kK",halfLeft:"_31X67LNC",right:"aQLForjD",item:"_34JTApvl",titleIcon:"_3X7LrTW6"}},12377:function(e){e.exports={wrap:"_3h1wJ8hj",multipleText:"P0ceVZK6",singleText:"_2GkQK7vY",nowrap:"_2BgpQoxj",subText:"AabsIsps",dot:"_3kjnGbNQ",etcWrap:"_3tpTimXT"}},18972:function(e){e.exports={wrap:"_2T33KuRn",img:"_1D7ciyw8",text:"_3TePv8Qy"}},73055:function(e){e.exports={title:"_2MAV13Hc",subTitle:"PrA_YvMT",icon:"_1qUi_3xF",item:"NJajLuUA",deliveryBubble:"_17jqqlKx",questionIcon:"_2PXiHtcU",bubble:"_2pZ-JHzJ",bubbleTitle:"_2mGQVYHn",bubbleContent:"_3X6IPQ8O",contentItem:"_3IKaHdsG",richFlex:"_2fr46wit",arrow:"_1niWaGNW",leftArrow:"_3nb0qi5P",baseArrowBtn:"_2HeKj3og",innerArrowIcon:"_1Kpx_CuB",rightArrow:"_1MMbHRqL",arrowMask:"_1-wu3GRL",trackClassName:"_19aZcmOb",newContentItem:"_2ROonD9q",arrowSpace:"_1Q5l1mf-",infoList:"mkWioFti",infoItem:"_3oOyYWvr",infoText:"_28XXQslQ",content:"_21TQctPw",expressTableWrap:"_1t2Yftw7",timeList:"_1BhLQ15G",labelCls:"U3kK7oyo",numCls:"_24sKtNu8",processCls:"_3qv3G_kV",richTitle:"_2H888XIh",richTitleWrap:"_23hcVfpy",localTitle:"_36uyU_h5",cooperateInfo:"_1Rvdu_Dk",cooperateInfoText:"_1jpdhUSO",cooperateInfoImg:"_2VyRZAgD",estShipWrap:"rC4p08qv",estShipText:"_3w0ltGek",expectShippingPopup:"_3-HeTjEE",expectShippingTitle:"_3CTexySB",expectShippingTextInterval:"_24mCHbVL",estShipIcon:"_3eD_6ME8"}},80932:function(e){e.exports={wrap:"_15FwGJtp",localWrap:"_25Z-Sw75",detailContent:"_68UGaXuG",headWrap:"_1NZQFyva",localHead:"WzOVKQqz",localTitle:"_3q5ah9QG",localTabTitle:"_23LOv67Y",active:"_2WA3XaNH",single:"_3E_7cwku",head:"Scb6TT0p",title:"_3BrJEdh-",bar:"_1Uc5hDAG",containerWrap:"CD2N5wRS",container:"_1SpTkfhZ",tabContent:"_3aE2su8f",tableContainer:"_1Oc3QlM4",extInfo:"_12Z75YEI",extBox:"_3pJ0lEl6",extIcon:"_2cFLMMNc",informationIcon:"_-5zJHxYc",extHide:"_1RHYhV4f",extText:"_1ouwnGxX",cell:"_1P2_eNUH",mustCell:"A3ITw3Lv",openFlex:"_2vjSO9A8",openFlexImg:"_3ukIFFkW",content:"_1TkHxvCm",timeTop:"m427rwWx",timeTopNoContent:"_95As_NPf",newTable:"DwVq3sCQ",rowLeft:"_32-wpYii",rowLeftText:"_382SpkyI",rowRight:"_3bTW9bT6",costValueDot:"R8S7O-T9",companyCell:"_2bRqLgPo",companyWrap:"_3xhnrSW9",arrowWrap:"_2HfO7w4N",mask:"_2Q_PfsS6",downArrow:"n5nklke8",company:"_3gOwH1TG",companyIcon:"_26PoBhYX",etc:"_1MJ-WHZC",howClickWorks:"_2xaKgMzE",rightArrow:"_2CGVUj5Z",environment:"_1MLieR-F",environmentIcon:"_2kMU1WtI",environmentText:"_3yGXF0R6",environmentDesc:"x6l6asbk",extraInfoV2:"_2fFx0hXA",extraInfoV2Title:"_2wLBUfT6",extraInfoV2Detail:"_1sXDHXUX",cooperateInfo:"y0feZsZt",cooperateInfoRight:"_2crOQKbT",cooperateInfoText:"_14SSTUKH",cooperateInfoImg:"_2g_iKGwq",cooperateInfoArrow:"_2nO3Ag6W",cooperateInfoBottom:"_1GEDROBo",seaExplain:"_1LgFLr3g"}},63622:function(e){e.exports={wrap:"_1G6xhyZq",title:"_26owdurS",index:"uKWMmUWO",subTitle:"_1XHP-pM_",desc:"_3Eb4KP8Q",part:"_1So3UcoD"}},62605:function(e){e.exports={title:"_1EWV_wKz",infoItem:"_1gh9thY8",explainInfo:"ZfaED6ph",contentText:"_2Uf5tnBc",timeDistributedTitle:"_2GcHllGg",timeDistributedExplain:"_1V9aYpm2",deliveryTagExplain:"_2X1epPe5",deliveryTag:"EnDc3z6Z",extInfoRich:"_1mhQMqk4",extInfoRichItem:"_2Z78Oa4a",hasRichExplain:"_17UhSXP_",threshold:"_39jDevpb",thresholdContent:"_2i3nttKQ",thresholdRich:"_3IDKlH7I",thresholdContentShowAll:"_3E-4w9A4",arrowWrap:"_23LrPx4T",arrow:"_3L-zC_ls",bubbleArrow:"_2npk3e3H",clickable:"t3YeAdN_"}},70941:function(e){e.exports={richTextWrap:"UtiYAn5h",richText:"_1P4Wbai0",wrap:"_3NiN5aa6",icon:"_3j9lKB6o",arrow:"lbtB_KN1",part:"_1vtOf3_i",title:"EO-_Lbsu",text:"_2Y07v7dn",titleIcon:"ilCfXVD4",contentList:"NbgmeX5M",listItem:"_1UbUJusQ",learnMore:"_3JoaJ-ax",rightIcon:"_2kRuiken"}},77211:function(e){e.exports={wrap:"_2pJjDGlh",richText:"_29vcry7V",arrow:"_3Fp18rTn",popContent:"_3WJtjie4"}},12449:function(e){e.exports={progress:"_2kHCVhk2",progressBar:"_3go5DL9k"}},89383:function(e){e.exports={wrap:"_3ice6QH3",richTextWrap:"_2DicYdBP",richText:"_1_jea12m",contentWrap:"_7IdElC4z",title:"_3ZWgJJIt",arrow:"_3pETi-d4"}},70408:function(e){e.exports={timeList:"dxAWlHWP",timeItem:"_2jbe-bxB",label:"_3MnBy7iN",highlight:"_3s2zVNlP",num:"RIcsk8HN",timeRawItem:"f_vq9fbL",timeBarList:"_3cHNsW5y",timeNameList:"_1D_Dzabb",percentageList:"_9rU8AOoJ"}},50544:function(e){e.exports={timeList:"_3bnh2mbu",label:"_1IOBZkib",highlight:"_2sO5T9mU",process:"_3im-suTm",processWrap:"jQ-HaDM8",num:"_1MLkrjMx",seeMore:"_3pgu2LBM",seeMoreText:"_33H1-non",arrow:"_3bsYqLVd"}},83427:function(e){e.exports={leftTitle:"_21oxO5Bb",clickable:"_1jjVDU1R",titleIcon:"D1oZQdPu",itemTitle:"_13czWA7A",arrow:"_1VDbay5B"}},43071:function(e){e.exports={deliverInfo:"p6ACBVL-",item:"_16ZzkLMc"}},73846:function(e){e.exports={wrap:"_2TnAoLC5",icon:"_2anJkbtP",arrow:"_21r9ldnX",clickable:"_1k0-h9Jr"}},14414:function(e){e.exports={wrap:"_21HQTiOr",certificationItem:"_1WW0oRC7",click:"_1LGiCNsf",name:"_2Q-ZCHED",icon:"_3MB-Jzmn",valueRich:"_27qH06si"}},89919:function(e){e.exports={wrap:"hsh6QVpq",relationItem:"_3Ln255JV",relationName:"_378CymG9",relationIcon:"cL-G1dC9"}},47101:function(e){e.exports={wrap:"_3EAEXG99",list:"aRd9GthB",item:"_1PpZWiqt",itemIcon:"_2eDPKLNd",itemKey:"_3KSAaXXG",itemValue:"_1k6CujJJ"}},37437:function(e){e.exports={wrap:"_2CTN8pG5",textRich:"_3ZLwIkAx"}},81119:function(e){e.exports={wrap:"_2JYAImSO",title:"_3dPbvxSo",titleIcon:"_20LGg0pq",listWrap:"_2k0clWTB",left:"_21bZML_Y",listItem:"_1bx0-ATP",subTitle:"_16L1FQZj",subTitleIcon:"_15F__FgO",popupItem:"_1cIjVe0i",popupItemIcon:"_2vDA0z78",popupTitleBlock:"_3CP7Yk8h",popupTitle:"_3TwwfVcT",popupDesc:"_1OLcVAcq"}},65913:function(e){e.exports={goodsDetail:"_151rnt-L",title:"lrb8rZQJ",titleV2:"FSPfUoK9",favAndReportWrap:"_8O63Jowt",divider:"_1_ldiYMh",titleWrap:"_2R_25RK2",report:"_2yTA5nwz",reportItem:"_8yFr6bEJ",arrow:"wPvUXoqt",videoItem:"_289KmyNH",imgWrap:"_2jCYETGt",imgBox:"_1JEUQB2s",videoPlayed:"_1Xi5d6wT",img:"_1utFCyM0",videoImg:"_3tS9ghgK",video:"_2ccnEfSf",videoIcon:"HDw-QXbu",icon:"_33IqP4pl",largeIcon:"ODm5ZTRb",textDetail:"_2lHZTmSd",containerShowAllPic:"_23UQG0mN",containerHideAllPic:"_3NKWJjn8",sentinel:"_3tqj-GMO",seeMoreContainer:"A0xWLYEC",seeMoreMask:"_3h-FgyjU",seeMore:"NZxx3AXl",downArrow:"UwGeB8k4",complianceInstructions:"_2Ee7eH5B"}},27708:function(e){e.exports={wrap:"_3wnpEDgn",quickLookIcon:"_2YpC87fb",inSidebar:"_3OzWOolX"}},54099:function(e){e.exports={time:"_3-0Nn13l",colon:"_283UiaLY"}},92143:function(e){e.exports={wrap:"_11T9J_Np",friday:"Q98UN0a1",fridayIcon:"_1cAaYthz",fridayIconImg:"v2Mnc4eV",isBlackFriday:"_1ozVjK0k",icon:"_3kHW-IFn",time:"hubd_Tq_",titleWrapper:"_26dSgK_Z",subTitleWrapper:"_3MAMRFsL",promotionSubTitleWrapper:"jiqa5mNn",title:"_2Vz8KEzv",oneLineEllipsis:"_1SEx4SK_",twoLineEllipsis:"_3nCujrQk",threeLineEllipsis:"_2T7jZisf",divider:"_3bZecnPt",pureTextSubTitle:"_1Jc0i1yp",subtitleItem:"_1q7bGyTl",subtitleContainer:"Lq2C2aT_",subtitle:"l0SsK7lj",countdown:"_1DTZ21cM",dot:"_2qU0mGNR",subtitleItemText:"_3h7UFVwl",subtitleItemFlex:"_2eIO-zxs",colon:"_3skZu0Fc",squareFriday:"_3gD7_CxP",squareFridayIcon:"_11PabBrc",isSquareBlackFriday:"AQx03T0Q",bg:"_8uS1iOxX",bigBgImg:"_3XvpRgS1",smallBgImg:"jheXX6ph",promotionMask:"ARTl3Sel",promotionInnerMask:"_1QHTnL_I",arrow:"_3u5ShU4u",click:"_3wV9bwI4",textTag:"NfTNhms9",skelton:"_3BaSZ87m"}},25832:function(e){e.exports={benefit:"_35X4rVJf",arrowIcon:"_32lldFCe"}},9975:function(e){e.exports={wrap:"SC0RY6fg"}},24805:function(e){e.exports={min:"_1MQdv80K"}},41889:function(e){e.exports={wrap:"_2kwFIITC",discountInfo:"I5CCajYd",buttonTextStyle1:"_2kdKGD-k",buttonTextStyle2:"_31VWyR_u",buttonTextStyle3:"_1vHl3nZn"}},4455:function(e){e.exports={wrap:"_37H0XeIF",coupon:"_2wElcii3",couponBg:"_2mzq84Wm",couponContent:"_8YNeM8uL",title:"_17dD-KKr",buttonDesc:"_2_LWzWKq",discountInfo:"gTwvvaho",useDescInfo:"_22kMZWp6",codeInfo:"_2Wzw0fsz"}},36286:function(e){e.exports={wrap:"RiLRwnUM",icon:"cJI6yELE"}},26357:function(e){e.exports={wrap:"hEOhneHg",freeShipping:"_1bU6NfhY",icon:"_3KW_xQlN",endTime:"_2gAefPgR",timeContent:"_1bhpo3wR",time:"_2iQPv68y",colon:"_1JenjeiN"}},75261:function(e){e.exports={content:"_3hTsQyCR",top:"_2JkWU7cr",title:"_1141HpN1",statusInfo:"FLL-nRBm",orderInfo:"fZ2JQFQr",amount:"_2m5F8B_2",orderList:"_124p3Kr5",listWrap:"_2UzN7VK7",listContent:"_27X-oQ7j",orderItem:"_2XcM5Hgf",orderContent:"_3BrQjDmw",placeholderOrder:"k-t9kZ_3",fadeIn:"_2OVGjb6x",contentFadeIn:"_38ckRuwR",orderImg:"_1LBtUr2W",img:"Y3jaoXi4",orderNum:"_3xqjWiRo",pageBtn:"_2emrCKgD",arrow:"_2DNjb5Lz","arrow-left":"_1p_y_CSY","arrow-right":"wVUbDe7w",hide:"rhfwVS0p",leftArrow:"_3dnR9_ez",rightArrow:"_2_UXMoPB",arrowHide:"_30klqjTj",colon:"_1MLL7EgO",timeContent:"xRjyEs40"}},39226:function(e){e.exports={wrap:"_2BY647Z8",flex:"kfk0AfSK",line:"_2tysGKNh",before:"_1pJ1_VSB",after:"_3oAg4MQY",none:"_2Coh_ymL",time:"_26abhBGM",colon:"_1gSx7WDX"}},27216:function(e){e.exports={goods:"_2QgHMydL",goodsImg:"_1cjFoYB2",errorTip:"_1NvzEyZJ",error:"_2Ix55EfB",icon:"XaqGTntX",errorText:"_2Ibpl4ky",errorColor:"Xk2k3S1Q",goodsInfo:"_292ylpkH",titleBlock:"_33vPpQJP",goodsName:"_3FgtW8DG",goodsSpecs:"_3z3pbwyd",goodsPrice:"_3uoJLvuv",curPrice:"_27NxhuU9",linePriceWrap:"EIoCg5-e",linePrice:"_1ajktyNn",reduction:"_9NAK_uIG",lightningIcon:"_3WCqyTe_",suffixRich:"cTt0nJHn",suffixRichDis:"_2Nt5aqPl"}},8732:function(e){e.exports={bar:"_2K0tfH4s",max:"_2JW2cy7S",text:"_1cT7KrP1",firstLine:"_12TqB1X_",withSecondLine:"_1IdSYNcc",secondText:"_2Idr0XEf",icon:"_3h-0xR_W",placeholder:"_7SMJkLzr"}},22758:function(e){e.exports={wrap:"_2XlzpgEP",text:"_2qbHvEqM",progress:"_3F32yjLG",inner:"_3etOVh7H"}},35144:function(e){e.exports={item:"UQ3wsBYd",quickLook:"_3Lj8RjUM",showQuickLook:"_1IHGgjZC",right:"lzfwtHc8",goodsImg:"_1UET7zdy",goodsName:"_2nBd7tZy",skuList:"_1zDEx0zN",sku:"i1ARY6aX",priceWrap:"_2nguKPhq",goodsPrice:"_2hzBoLVx",linePrice:"_3G0AUNC_",marketPriceStr:"OmRzTIs5",minOnSalePriceStr:"gZ2JspoE",sellInfo:"_1zOyTAv_",sold:"_1B6m_6-s",verticalLine:"RyXng6lM",bottom:"_2SYiklZA",cart:"_3VAIfuSg",amount:"_3IcqIox6",lightningColor:"_2zhHSHrM",lightningIcon:"_1MLw5ll6",soldItem:"a8iCbTtU"}},95594:function(e){e.exports={container:"_2w-mSj5c",extend:"_2r4KxhoT",core:"UNfVHBB_",padding:"_3_i8kXqC",transition:"piJsmIAd",head:"_39k32deH",headTitle:"_2FmsXD3M",iconWrap:"_3Mc4YA3A",headIcon:"_2YWjkcmN",promoToasts:"_2g9mllwq",delivery:"YWwb3AVM",cartBtn:"_2d2SqM1f",gap:"_2UwU8pkc",goodsList:"VWGP5D9G",title:"vxfJEJpB",sticky:"_1EtUr3TX",bottomBtn:"_12Fulzwm",gotoCart:"_17pwARcZ",keepShoppingWrap:"JiGi3yF3",promoImg:"_2sK7vvrx",checkoutPromo:"_1VSzah5Z",btnTopPromo:"_2Kgry5D1",btnTopPromoImg:"_10KXQeOY"}},36059:function(e){e.exports={lightImgWrap:"nshsdMNv",lightImg:"_1aUH4iiy",smallIcon:"_1oxWRyp1"}},26479:function(e){e.exports={wrap:"_1NLnoWrL",title:"_2Ozp43lp",banner:"_3hSiyLGz",bannerContent:"_1OX1Q7lG",bgUrl:"_2oLOhQWg",desc:"ruKIR7y9",item:"ELpNT0fm",itemContent:"_3H5B_Jas",itemTitle:"zROhz_rx",btn:"_2G-Zuzx4",subText:"_1ezTCeKv",icon:"_3KJTv6hg",flower:"_2vB7PDtQ",rightFlower:"HTV_vqHL",brandPexfixIcon:"_1wnQkejV",brandLogoIcon:"_320rF6LA",bannerTitle:"_39t2rFPo",blueBanner:"_3bvxBT86",icon1:"_2gto2vJm",icon2:"_3vLNDP5j",icon3:"_3guliboI",titleDivideLine:"qqPWipeI"}},19363:function(e){e.exports={wrap:"_1bwcsyvR",clickable:"_2SpO0JQ2",direct:"tFwnFqTR",authorized:"_3fR08iqe",content:"RWif4CUN",name:"_2iTnxBTB",desc:"_17MlyEKy",arrow:"feputj9c",descContent:"_1uT1OjvC",bg:"_3LlkOviP",line:"p92V2Mod"}},21854:function(e){e.exports={wrap:"_2IdZwar1",changeHeight:"_1Ttp-ZWB",unvisible:"_1_LbNKYc",dot:"_326PffuQ",none:"_3dZuav8b",transitionText:"vJD3SHFD",richText:"_49LCF8Gy",richTextWithTransition:"_2oLtTgyX"}},77102:function(e){e.exports={wrap:"_1jhCaQnS",btnText:"_3LJciQ3a",benefit:"_3jKb-nXL",icon:"_3qx_gKGJ",promotion:"_1GA_NuMN",promotionWithInstallmentBenefit:"_2zWjH1yB",btn:"_2DggVTup"}},94976:function(e){e.exports={wrap:"_3MShBxZE",title:"_10eYY7Ep",content:"nJdU9Wyy",infoItem:"_1mu7igWy",btnWrap:"_2FprZst2",btn:"_1CqyrG_r"}},2484:function(e){e.exports={wrap:"_9CkevA_5",contentWrap:"_1O75avGp",line:"_3jpwQ_aI",icon:"_6tRblcOa",digits:"_lhmCeDu"}},52062:function(e){e.exports={wrap:"B_OB3uj0",title:"_2jCcFRkJ",item:"_1YBVObhm",itemWithClick:"_3SW-LUS7",copyButton:"_3x3YIfTG",more:"_3xcJKtRB",arrow:"Op08wvRF",arrowRight:"_1zb1BrOi",itemIcon:"_1uU-tuKx",dimensionEntry:"_1TaDf_9h",certification:"CcBfyrWj"}},44252:function(e){e.exports={highlight:"_2PnV4G1F"}},25650:function(e){e.exports={wrap:"_2tVJUTuv",title:"_3L8WzSkm",item:"_1-Caexem",copyButton:"_2bY6LFEn",more:"pzcnhEma",arrow:"I5jn0wfb"}},26102:function(e){e.exports={favBtn:"_2Fjw5cay",favIcon:"_33rzYinL",unfavIcon:"_2AVgRYhs",withTips:"_2XdTxTLN",favBtnWrap:"_2LXGjERB",gallery:"_3_4D_1x9",galleryFavBtn:"_2jF80E06",btnFav:"_2tsGLe5k",unFavAnimation:"_dUy90_h",unFavKeyframes:"_2ROkNy7s",favAnimation:"_3LjZ1fyq",favKeyframes:"_3ihxp11f",icon:"_1fz1FGuI",newFavIcon:"_3sIyyWCk",newUnFavIcon:"_2Wnwv7y1",showIcon:"knKHRvkt",hideIcon:"_1U-VdF8d",toastWrap:"_1xM7hsSN",toastImg:"_3Jk9xjFV"}},16808:function(e){e.exports={wrap:"_9DIkgBgO",giftImage:"_1tYAAya1",giftText:"_1lMu07bS"}},27383:function(e){e.exports={wrap:"_1Zf27vaY",goodsName:"_2rn4tqXP",oneMoreLine:"_7js9hKIQ",prefix:"F0TkTpTc",suffix:"_2TwjCZgy",used:"ODeHvbEr",right:"_3UPHaDv7",line:"_3oSy7cJk",fontSize14:"_1r2-KDjZ",fontSize15:"_1XZO30gP",arrowWrap:"_2DR4rlum",seeAllArrow:"sQvshoaD",goodsNameWithHighlight:"TgwjURQE",highlight:"_3ufdVW2v"}},34077:function(e){e.exports={wrap:"vd-NrRvD"}},19615:function(e){e.exports={wrap:"_-506MgBi",title:"_1HaFe-d7",item:"_2S05K1W3",itemWrap:"e7O5lb-4",arrow:"_1Of0aaSN",right:"_3utYs2uB",text:"_3Ed4LaKt",link:"QXMIW1vB",suffixIcons:"_20LaNRnn",actionIcon:"_12Uqn0jE",dialogContent:"-S5vu4EI",icons:"_3YC9Fb1d",clickable:"_1Wmb7X6M"}},59595:function(e){e.exports={wrap:"_3tH0Ltel",optList:"_7mJ3VE-W",goodsList:"_26n4nD5I",goodsCardClassName:"iL8Cn5Mb",goodsContainer:"tVhU2csW",goodsItemWrap:"_3L-puJlD"}},47111:function(e){e.exports={content:"_2rZLBmEF",scrollWrap:"_1-D_d0-U",title:"E8NBaI5F",desc:"_3eOBgDsN",timeList:"joUG0r5b",labelCls:"_1H8jMMN6",numCls:"_2yrxxZAy",processCls:"_3ZIro3ym",timeTitle:"_3EGu-2bH",timeDesc:"_3rnGlgPR",timeDistributedExplain:"_3m3YjNoV"}},43935:function(e){e.exports={wrap:"_2CSv3p6o",greenStyle:"_3h8PbiHU",left:"_3CFmdGbv",line:"_1hs6LUvO",txt:"_3uvkpag2",transition:"_2FhSrhGf",leftMaskClassName:"_1Ajja-gf",rightMaskClassName:"_1n0yr_QV",icon:"_3zUCJOd7",clickAble:"_3WeJ7BGF",right:"_23OlXhQQ"}},19167:function(e){e.exports={wrap:"_2ptJfHDM",clickAble:"_2LlLNEjI",icon:"_2Dpp5Kh7",content:"_3KIdeneO",line:"_3u_XdGCQ"}},55993:function(e){e.exports={promotion:"_1NIdwwYq",clearanceBtn:"T3YPASLQ",buyNowButton:"_1a8xy5AC",addedButton4Gotocart:"_2FV23OaZ"}},70581:function(e){e.exports={memberPromotion:"_2IGnYDiA"}},7417:function(e){e.exports={wrap:"_3WFxzCH_",text:"_1EAcN6pA",arrow:"_2z_CLMYA"}},46546:function(e){e.exports={wrap:"_3nqdx0Xk",payImage:"_5zW-sQMv",payAfterText:"_3zBbHebA",showIcon:"_13kLAsKZ",icon:"_20LAdZGP",contentBorder:"_1a_1U5vU"}},88969:function(e){e.exports={wrap:"_3f4WnWNH",slideTrackWrap:"_3dSP6HsE",rightArrow:"_3oqkBI6u",singleWrap:"_1NnGfdPe",itemWrap:"nc6-laLv",arrow:"_3vJl6gYP",leftArrow:"_1wwzOpPh",baseArrowBtn:"_2YGIJGm9",innerArrowClassName:"_3NIjk7Jv",arrowMask:"_1nwbbp4W",imgRight:"_1VZCVVmH",icon:"_1i-C2Exo",activeAnimation:"_1KOXBCEC"}},45278:function(e){e.exports={wrap:"_2mmjR_so",arrowWrap:"_1nT5oNkp",show:"q5phUgVH",arrow:"uLd5ZLH1",contentWrap:"_2DP21F7i",richImg:"_3BvvuI20",richText:"_2C7zFuyt",contentMask:"_3XHjLs9m",content:"o41DcseM",scrollContent:"_1GvIfgRk",showIcon:"_34t2iOoE",icon:"-I-Nkh-C",click:"_3DL5d_kD",animation:"_3myHw2rc",carousel:"_2PVAT4Hs",animationBack:"_17A4xURS",carouselBack:"m3Xi4qu9"}},90524:function(e){e.exports={wrap:"_3qrcNm-E",tipContent:"_36EbuNiJ",icon:"g2p4ujGv",question:"_3My3DiSl",dialogWrap:"nowxoFfb",title:"_2np-ybpb",content:"_1iAYvqfh",confirm:"_1F2j28He"}},52081:function(e){e.exports={bestRichWrap:"_3HoYrgtH",suffixRich:"_2wEgFFPz",countdown:"_1UZsKxA5"}},4940:function(e){e.exports={price:"_1vkz0rqG"}},741:function(e){e.exports={container:"_1x59iCix",price:"_3cZnvUvE",priceSuffix:"_1uBm3nsD",priceWrap:"_15o2bYpT",activityPriceWrap:"_1f8Dasod",memberPromotionWrap:"_2qu4cm5Y",priceWrapGift:"mMDDZrPD",curPrice:"_846po5_T",linePrice:"GOWbDXV2",linePriceGift:"_10u_C8o-",regularPrice:"_3ROhKb2f",priceSuffixWrap:"_1Wa8coQN",infoPrice:"_1S5p9WC-",linePriceExplain:"_2cfQW-0G",recentlyLowestPrice:"_1_h3N2FW",suffixRichWrap:"dsFjp8hK",prefixRichWrap:"FOdTQtPm",suffixRich:"_2AmP6_7S",suffixRichDis:"_2cZSTyuL",suffixRichVer:"_1fSEMjNB",center:"_1SQrG5Fp",newLinePriceExplain:"_2os8J_pM",playLaterPriceWrap:"_17TY6eyJ",playLaterPrice:"IK6RfiWE",priceAfterCouponSuffix:"FF_aPhzC",couponPrice:"eVpa6IyZ",couponNewPrice:"_2yMeTRhu",couponPriceText:"_1C-IgPgI",couponNewPriceText:"_11-iZToo",extraPriceArrow:"_1fMRWlWq",extraPriceNewArrow:"_2rCOydJD",optCouponText:"_27lHgyi4"}},52462:function(e){e.exports={explainPopup:"_1jFLTa8q",clickable:"_3K4S0NLW",itemWrap:"_2X3ifjxs",tips:"_1uEVAbEs",tipsTitle:"x9XZgq3e",tipsContent:"_1ne6ZCza"}},2903:function(e){e.exports={suffixRichDis:"_1w0BaETF",suffixRichVer:"_2KQka027",suffixRich:"_188rnzBo"}},96616:function(e){e.exports={priceLabelWrap:"ruUJg9tk",priceLabel:"_3X07KO-z",arrow:"_3dSoZ103",enableClick:"_20A0QHjK"}},33733:function(e){e.exports={wrap:"_2OQsGuQA",head:"_12NFKo80",container:"BR8E0OyG",btn:"_6etvsHtR"}},68799:function(e){e.exports={prefixRichWrap:"_2jzwWqqi",suffixRich:"_1xoMD3-o"}},67539:function(e){e.exports={wrap:"_35YISwkO",top:"dBvv5xub",content:"ZNK0SuXE",infoDisplay:"J0qQTDY-",info:"_3XvGlGSj",threshold:"_1wlBeI34",line:"_1U9hEoi3",rule:"_3DyeOTG3",ruleImg:"Yub6YAKd",ruleText:"WaCkcexq"}},70291:function(e){e.exports={wrap:"_3w5kHfjR",infoDisplay:"KmIvFqi_",right:"_362ze2Nx",countdown:"zkG7yboY",offer:"_12e35bBX",question:"_1tqm7ypX",offerText:"lTibWMUn",time:"_1q8nuIyS",popupWrap:"_2oTPdhpk"}},30255:function(e){e.exports={wrap:"_1HoNGFIK",title:"_2-6PmMTe",priceBlock:"_1tt3yNJr",descLine:"_2m1FnH_R",totalLine:"hvmWSPgR",addInfo:"_3TVxDcEP",addIcon:"_3Qa3ctDU",addText:"_2nwZzWox",listTitle:"_1k_lOLmh"}},97536:function(e){e.exports={wrap:"c6B8bsFL",content:"_1Uqhk_0K"}},41157:function(e){e.exports={wrap:"-_dgEvGj"}},71998:function(e){e.exports={wrap:"_2Hg_xpJc"}},90705:function(e){e.exports={wrap:"_1ROzSuw_"}},57157:function(e){e.exports={wrap:"_3Cfvtl-3"}},99372:function(e){e.exports={reviewNumWrap:"_2HjLjpq5",reviewStar:"_3zdHsURE",reviewNum:"WVvmDCE3",score:"_3u85Dflj",rateWrap:"fAT7GSj0",percentWrap:"_3MegzESY",progress:"_3pEuTyaQ",progressBar:"_1oaunRCM",rate:"_31lEoquY",rateItem:"_1kHTtHq9",scoreWrap:"_13W44a-n",scoreNum:"_1fqB35ff",rateSm:"_2hqs8zhZ",startClass:"_3c9pSaGh"}},1307:function(e){e.exports={oldSalesTip:"_3EO0MDag",wrap:"n91-8QH3",review:"_23Bdb5qg",wrapLeft:"_1gWFXtkM",left:"WSu-sds6",mallInfoWrapLink:"_3KCYDTdQ",mallInfo:"_1fOAQiEo",mallNameAndSalesTip:"_4ahGQ8YP",mallLogo:"_3RWgzNSK",mallName:"_3eJGEFuW",salesTip:"_1FfJhhv_",arrow:"DtIbqpho",tipsWrap:"_9w7_P5u7",tipsLogo:"_3RzHspSC",tipsName:"_2Voe-ZgS",tipsRight:"_3_ivVYZs",tipsInfo:"_1jbHQPKO",infoItemWrap:"_1hwRlkQP",infoItem:"ktEGl-7o",infoItemNum:"x5jNwc8F",infoItemText:"-sVX2059",tipsAfter:"_3MX1FGET",mallSalesTip:"_3ayt9mdU",providedByWrap:"_9HFPI1Qn",providedBy:"_19IYhdXI",mallCarouselWrap:"oV-fRN-b",mallCarouselContainer:"_1lXw8Ruu",hotSaleRich:"_3lyXFerr",mallInfoWrap:"_1sr5tM-Y",beforeLine:"aUjJmJV1",logoRight:"_1ffsyza6",mallTag:"_2FkGM_TT",tagTexture:"_2Dplq4Is",tagIcon:"_3-wrxWkC",tagText:"_1fCbu4E3"}},63101:function(e){e.exports={faqItem:"_2dl3KCWh",question:"_27xa3vW_",user:"_6wmPswJd",avatar:"_1dCwCNWR",name:"_3cgil32s",answer:"_3R5Q6qSy",text:"_1g9U1cLA",boldText:"XguL9rbK"}},32964:function(e){e.exports={wrap:"_1XlZzN1f",title:"DXKLbxKO",list:"_Fn2Pp5Z"}},67513:function(e){e.exports={wrap:"_23MWSdyK",head:"_1gN8mfMq",container:"_3XF0arDN",policy:"tR5V5A7J",title:"_2sxo28KM",nameIcon:"_3UyObcfu",desc:"_3u1RswAI",dot:"_3MZ27Zzu",channelWrapper:"_9aG6kBuj",align:"_3Wf_B6-0",channelTitle:"_1KaU7yIu",channelImgs:"_2bl-2-gg",channelSmallImg:"pbDboPgM",channelBigImg:"_1S4UlxHs",channelContentWrapper:"k3wCug7V",channelContent:"GjPBD2hK",channelContentItem:"_1utZHX2o",channelContentItemIcon:"_2NjL-koS",channelContentItemText:"oEO2YhDD",more:"_1T3u4AYD",moreWithoutMarginLeft:"_2lm8A5cr",arrow:"FxaYDqKB",blank:"_1KusUeuz"}},22024:function(e){e.exports={wrap:"GrDxAlg8",title:"_1PDCR6OS",list:"_1UrUWx5k",left:"_3l6xUpz1",item:"_1TEcSp-g",more:"_3IqI8Men"}},42158:function(e){e.exports={container:"YddCVDy4",icon:"oJHUBnmT",iconWrap:"R-oqYE8H"}},49510:function(e){e.exports={sharePanel:"_3bA87xMN",itemId:"_1ZPb60oI",copyButton:"_20uArl_R",shareEntry:"_35dFhe_o",shareEntryWrapper:"_2iWa3IAw",shareWrap:"_2vJ1AyTW",shareContent:"_3DLJwTaq",sharePop:"_10O30Bok"}},31111:function(e){e.exports={colorItem:"_2bzGqXzH",colorItem4to3V2:"TrGUv4Nu",colorItem4Pad:"D30c6Ngz",selected:"_363EuJDX",disabled:"fndtZHjj",specContainer:"F_dmbyoQ",content:"_2Zcgxpmt",content4to3:"_2JECwe0T",content4to3V2:"_1zxpd9RP",spec:"PKOvX2_k",specContainerWithUnitPrice:"HzEwgMpX",specValueContainer:"_3yv4bBtK",fireIcon:"x8Fu-X02",carouselTextContent:"_3C8PPtdS",highestRateIcon:"_1IBj1bq-",clearanceIcon:"_1BOj_n0H",soldoutTag:"HIEq5oST",isSoldoutItemTag:"_3Hfz0nkf",contentImg:"_2F5wHDYz",tag:"zrUx-CKR",tagContent:"_32zk83SQ",unitPriceRich:"TaxCB60z",selectedEnhance:"nnLrHsgT"}},37348:function(e){e.exports={fireIconWrap:"_24rHXcOO",skcFireIcon:"_1JeHLMet",fireIcon:"_2lX5xXpa",iconWrap:"_2re4e8zn"}},56703:function(e){e.exports={colorHead:"_2ccoHkp8",colorItems:"_20PH8eAG",spec:"_3ahj1iso",newSpec:"_2t9k5tsc",specHead:"_1Ca5O2MA",prominentColor:"XSdBw-33",remindTip:"lpOESU8s",remindTipIcon:"_1q_nRmwp",remindBorder:"C5XWP-wr",colorRemindBorder:"_2Y2rdOgK",specText:"_3xAeViXW"}},10232:function(e){e.exports={similarArrow:"_3aQ7lmwk",similar:"_2W-C2pWL",toastWrap:"_1K5430gN",toast:"_3Y-Fjwbq",arrow:"Xs628wWN"}},86603:function(e){e.exports={btns:"_26kyen3K",btnItem:"_2OifnZxd",activeBtnItem:"_2dxeKkiB",selectListWrap:"_2lTy-vRi",selectList:"_1JLpAg8i",inner:"_3RR6y-0E",arrow:"_3DRQ3ju7",listWrap:"gXX6JWTM",selectedIcon:"_1sDwadwi",listItem:"tfvwwKyL"}},90787:function(e){e.exports={reverse:"_1XDjFogs",remindTip:"_2Yv5-fQY",remindTipIcon:"_2yYco_tx",top:"aZN7lGU3",prominentColor:"_8CurHXBw",specName:"_2dreqxrt",specHead:"_2ySMk7Hk",sizeGuide:"_1505PIwU",contentClassName:"sFsjPn7Q",topRightSizeGuide:"_6KlGAnog",rightTotalNewLineSizeGuide:"_2WgC7Rt6",specHeadMarginBottom:"GJjoLCKr",bottom:"vDMVFAEm",flexGrow:"_1mUDhJ_3",textAlignLeft:"_1RpOmjIs",countrySelectWrap:"_2PiHnyMg",styleTipsWrap:"_3p7bgHA0",remindTipWrap:"_1DIf92CE",rightTotalNewLineRemindTipWrap:"_3g0USv5f"}},26824:function(e){e.exports={wrap:"_3EYbafAJ",left:"_2Hv5_A5z",realSizeTipWrap:"_25XApTW7",leftTop:"VtyQKbnp",arrow:"_1SCI7dQ9",sizeReccTip:"_2twSRRdN",clickable:"_2hrHRFLb",textAlignLeft:"_3UikKwN1",recommendTips:"GHN5YYWG",recommendTipsText:"wAdT1QK1",realSizeTipsMarginBottom:"_3orPnDn5",sizePropertyItemText:"a8zSwBj6",sizePropertyItem:"_36d6hDu7"}},31094:function(e){e.exports={wrap:"_2ZDZJTUw",wrapMargin:"_3jdBAjf7",skuItem:"_2MDh6s4q",selected:"_3TnD_ytg",disabled:"_2WCorLM7",skuItemContent:"p9maYisg",disableSkuItemHover:"_2mb-23aS",skuContentWrap:"TRsi3mNY",skuSaleInfo:"_25kRqGwa",unActiveSkuSaleInfo:"_2Eq4ojTm",skuItemContentShrink:"_379AbgrP",skuItemContentSelected:"_2h7DRiiJ",saleTip:"_2dAbU_Jz",highestRateIcon:"_2o68hBLO",soldoutTag:"_3Rgz7Twl",unitPriceRich:"_1KG5O-JK",tag:"_1nJcQpaV",tagContent:"dH9cyC6d",marginLeft:"_2Ist96th",selectedEnhance:"_1EhItyGs"}},193:function(e){e.exports={wrap:"sCivIcE0",innerColorItem:"_3RDFi0HJ",right:"_1XNG91Jx",mask:"_3KzrgFvI",count:"_3gIApGu0",arrow:"_3ej9Db-8",line:"_2dAmSYrv",init:"_3nykwlji"}},59650:function(e){e.exports={newSpec:"_3q6jobfd",specHead:"_8aLsRZYA",prominentColor:"_38e2A3TP",spec:"_2hZnt8Kx",specSelector:"_3zQ1oKv9",remindTip:"_33--NSdD",remindTipIcon:"_2Nk8HxPB",remindBorder:"_4s9mxRUh",specText:"_2l8F4xq2"}},16299:function(e){e.exports={wrap:"_2_a8eehM",cont:"XCNjhuyi",showAni:"_2VSrIy-B",move:"_1hB2QoNw",txt:"_2AuAhfkJ",content:"_2w2rj6xg",leftMask:"_2ayM7xzH",rightMask:"_1sqJfsFK"}},74507:function(e){e.exports={wholeSingleSku:"_2zqZP145",spec:"_3cTw9-q9",specHead:"_3yn4tvoO",sizeDes:"_3sb7XorG",measurementInfoWrap:"_30jgsWBu",measurementTitle:"_1ClwoKFE",measurementInfo:"_3ISY_lKU",oneLineTextEllipsis:"Cfu0VCxa",fireIconContent:"xmBz61w0",fireIcon:"_2Q3HpfvA",unitPriceRich:"_34TAIHlw"}},11579:function(e){e.exports={item:"_1peI2FpX",itemText:"_2xlHeoaP",hover:"_3lTNc_CU",questionIcon:"_3I4umYoV",explainIcon:"_300bKV8h",clothFitReview:"_368KYJit",newClothFitReview:"CMRvsoMZ"}},50834:function(e){e.exports={wrap:"p-2cp0Qh",close:"_2miDUpxu",container:"_3M70hZXx",content:"_2CgzO_Qu",title:"_31OQuhNw",left:"_35Bviudx",desc:"_22jLOMaR",label:"_3zA7lRsz",progress:"_3UYb8O18",progressBar:"pt7bdcHs",num:"_2Kb7B0nh",unit:"_2bYX0p7L",more:"_1UM3zP0V"}},29194:function(e){e.exports={wrap:"_2iwRxB0V",explainIcon:"_2-uwORHp"}},64561:function(e){e.exports={wrap:"_3p8jwXtj",guide:"XQyBaKbL",sizeIcon:"_1pAk6pyD"}},24631:function(e){e.exports={wrap:"pTcK25yo"}},32919:function(e){e.exports={wrap:"Pu9Ha_gL"}},51064:function(e){e.exports={container:"_3VEgFkWT",icon:"jhcB7ovL",iconWrap:"_1G0xz8_d",rightArrow:"_23YrtZQn",containerMargin:"_1kMmHOAi"}},11934:function(e){e.exports={definition:"P86Esv3E",definitionTitle:"_2TydMftp",descItem:"_3oYZeRi1"}},75601:function(e){e.exports={qty:"_14q1XDBx",qtyTop:"a-jAYTZc",qtyTitle:"_2ghqgZex",qtyContentWrap:"_1r1Z7WPj",qtyContent:"_3eRQyJnk",qtyInput:"_2JC_KERH",qtySelect:"_2t7Dy3gc",qtySelectItem:"CGe0Jj8V",qtyIcon:"_2drop4IA",added:"GRf1gyWp"}},94501:function(e){e.exports={shaking:"SMoHbxIq",wrap:"_2ZET87n8",content:"kEsvWw-N",showContentTransition:"_1ApA7ELK",mask:"_3NY7JOwF",titleWrap:"NhsUfVvY",titleWrapNoShare:"_3bNeSUaQ",endTag:"tcaB5ew8",sku:"_3csHYvw1",actionWrap:"_100Uy0HO",action:"_2oQzGmQe",similarTop:"Q3LHMGJR",actionBtns:"_2oPZebLl",actionWithPaymentInfo:"_3wV_qyKn",soldOut:"hcv_v0bi",addedPopup:"_2oNadoX5",addIcon:"_30vz6fhg",hidden:"_2eZGCSXX",fixedActionWrap:"_1fbWh4fZ",activity:"_3K63c6Fe",shipping:"_3p1wuyo2",activityTop:"_2Z6iM40Q"}},15634:function(e){e.exports={wrap:"_3gHnwoEK",btnContainer:"_1UZYnP8d",addOrderBtn:"fziM_14b",bottom:"_2QsJ4Ozk",footerBtn:"_1P03vt2H",small:"c6iRhQUr",cartsSmall:"-UWaOfGc",borderInnerCls:"_18vLQ9Ow",clearanceBtn:"_3O2GgCzs"}},7045:function(e){e.exports={contentItem:"_34CDdrnH",contentActive:"_2EHMKv2A",imgWrap:"_3XlLMMhN",videoIcon:"_3dijZoJC",icon:"HOCeMlpd",largeIcon:"_1Cx8u7Zn",videoPlay:"Yz6HFBfR"}},14273:function(e){e.exports={spec:"qBx964Fd",tag:"AL7hoqqV",fireIcon:"_1yRCHof_"}},67187:function(e){e.exports={wrap:"_3aN8NUh6",mainContent:"_1akEu-IZ",close:"_1XTG3Izn",closeIcon:"_1UkczooD",popupWrap:"TSa07irO",popupShow:"_2mjtjNtJ",content:"_3LUgPgM4",right:"TLSNeydZ",big:"ZgWTeK07",single:"_1OqHmUav",mediaContent:"_24GUgMHb",bigImage:"_20GnaLQY",imgWrap:"S_19krrR",showBig:"Q-b0BNY-",thumb:"_3wqfmx9C",thumbInner:"_7adBPW94",spec:"_1zwGlW9K",active:"_1TO1fC0J",videoIcon:"_2GupDz0K",icon:"_1A2EO9Iq",slideWrapper:"_3XMpguE-",arrow:"_1RFB8u_y",arrowLeft:"nOpvlk7y",arrowRight:"_2rR8-RLn",picArrow:"_2y2k8Dm9"}},56208:function(e){e.exports={scrollPage:"_18lG-4NT",rtl:"dj79t2dk",videoPlayed:"_1mqj2HPK",img:"_3eDhqCfZ",hideVideo:"_2oKxcF9P",video:"_1-vx9VXQ",videoIcon:"_30rqAyfn",icon:"_3wyiS118",largeIcon:"_1zLfV-ht"}},52493:function(e){e.exports={bg:"_2wvsZ7bQ",wrap:"_3H8B3sWp",header:"_2Zenecrd",icon:"_2499uJWC",num:"_1bSkBV3S",headerContent:"eObftByK",headerReview:"_DkGTnG7",headerRate:"_1hvBZUJl",content:"_2P58C9BQ",reviewItem:"_2ZupYQ6-",reviewItemTop:"_1vfg6uZ2",avatarWrap:"_1pLSMkHn",avatar:"_14h_hJHT",nickname:"_3TuvvT9X",reviewItemRate:"_1qLJiYaM",reviewItemCountry:"_3oqPeDiJ",reviewItemStar:"_2SJpa-S0",headerStar:"VrCayhJr",reviewItemBottom:"_7WzP6TIS",reviewItemContent:"_1jErR52p",imgs:"_2mfVrP4Q",img:"dVtirPMU",imgCntTag:"_1orFSiA8",unVisible:"_2tWt5QbW"}},30406:function(e){e.exports={wrap:"_1CQ4cRYC",thumb:"_2AKu-30-",thumbInner:"_2AOclWz7",spec:"_3ACovDZO",loading:"_30Z8VLZC",loadingCircle:"_1mOFwXqO",active:"_2KR3lLmI",pic:"_2hi762-Z",fixRatio:"_qc4rnOX",initGalleryItem:"_1MXB5Rhr",slideWrapper:"_3jdR47NP",arrow:"LxVCqKyi",arrowLeft:"_135BNdLg",arrowRight:"_11EBkvD1",picArrow:"_2kQDpym-",scrollContent:"ALsph7jA",scrollPage:"_2ftcdy74",rtl:"O5b1pdKi",videoPlayed:"bTT3M0n2",img:"_1n2y-rSd",hideVideo:"CVmcgVkH",video:"_1OOxuLPS",videoIcon:"_21okck4M",icon:"_2rsajpGm",largeIcon:"_2QrFJ1Q3",bubbleWithEfficiency:"_6xvDlhay",efficiencyCls:"_1yCu3gEa",thumbGalleryReview:"_2w_j6m6C"}},24113:function(e){e.exports={directMall:"_30NRNov-",bg1:"jBIxPNBN",bg2:"_2hjMNwrw",wrap:"_1AzL_Ueq",mallHeader:"_30BW60Sw",brandLogo:"_3FS_Q1RX",rightArea:"_1lQQwIiA",titleArea:"_3yk81QoB",mallName:"_3nBusaAC",chatBtn:"_2amS621L",innerCls:"_3VrQ8Oj2",messageIcon:"_21xJcO5h",btnContainer:"_24K9j9_M",mallInfo:"_1Y-3W7-8",mallItemText:"_3uYmBhvh",mallItem:"_3xYdARvP",star:"_2bTRlFov",starContainer:"_29uNIJJ0",body:"AHhQ0PPg",title:"_1YlN_aJI",blockItem:"_2aivEi5l",tag:"_2IdmJSTc",desc:"_3nmsrCnm",blocksep:"_3QXL0-3K",overflowContainer:"_29f1AqiS",showAuthorized:"_34h10AKh",seeMore:"_1b9kjU8e",seeMoreIcon:"_2MfhIA-4"}},12011:function(e){e.exports={wrap:"_8xOhc_Z-",inner:"_36s3TSIj",item:"_3x5Ga-ad",sep:"_3-kiJGL-",prefixLogo:"_2SVSYkUJ",content:"NnhOzIP_",icon:"_3Xop7f3d",explain:"gIKGXfHz",tagItem:"_1fWqOD3m",tagItem0:"s33yZ-T3"}},80348:function(e){e.exports={wrap:"_13MBGI95",subWrap:"_1lj4OPSz",item:"_3kUdR9Uc",sep:"_33UQ9xfQ",prefixLogo:"_2h0xH3I7",content:"_2I3uj2mO",icon:"_1tn_d1sH",explain:"_3VOQQTyT",tagItem:"_1QFoCSsl",tagItem0:"_2mU9Jfbu"}},85098:function(e){e.exports={wrap:"_1Z78CaX9",icon:"_1WORRC-Q",isDirect:"_2Bc-S2lv",content:"_3WfvEjpN"}},40726:function(e){e.exports={buttonWrap:"_2amFObIh",directShop:"WROmuCn1",bottomButton:"_1EVoZuV7",shopAllItemsLink:"_2o9PsA--",button:"ugo800bp",messageIcon:"_38OyOGU9",icon:"_2XhhuzVv",chatBtn:"_1pGdRd4x",btnContainer:"_3hy-hCjc",innerCls:"_2GpmaYCU",threeButtons:"_2hFgKoMd",chatBtnContainer:"_3plWXIpD",fav:"_3lJC6tnU",iconContainer:"_3PHDiTlH",favIcon:"_3c_EQyYl",chatNewStyle:"_3IaKfIpH",chatNewStyleInner:"_2EJ9nbuM",shadowButton:"fyTuFefB",outerClassName:"_15xae7aj",containerClassName:"_39TnDR_G",innerClassName:"_1uIIUZ5b"}},23225:function(e){e.exports={wrap:"_3KJbfFEg",icon:"_3snjxwq_",isDirect:"_3TQ_3RP3",inside:"_3E8U-qZM"}},24008:function(e){e.exports={wrap:"_36F9aw_t",mallName:"_27rsUDMt",mallImgWrapper:"_7sImkxdz",mallImgWrap:"jks_oz5M",contents:"_9KX2SNG9",onlyItemCenter:"_1v7GK2bn",contentTop:"S9ou_TEP",title:"_3A4F96VH",titleText:"_373TxnaS",mallScoreAndRate:"_3enVu4CV",withMallScore:"_1THpYHc4",rate:"_1D7ATVXs",gapShow:"_1Bfta7me",info:"_3w0HGO-f",desc:"_17Yv8HIu",line:"_1S2oq1Ee",visitedBtn:"_2X_D2vku",shopInfoNums:"_2_doduKi",followers:"_3xRkFxMQ",msgLength3:"_2Km53EYs",msgLength2:"_26XrbNJg",sold:"_1LohGXn2",items:"UQlld58V",onlyOneItem:"_3RZ9OTtR",topItemsShow:"eNVunnAW",itemText:"UEV1UjwU",topItemNum:"_1eegxUxA",followersNum:"_3NlmlXKl",soldNum:"H_rzgRhZ",itemNum:"zZp1Oh1b",followersText:"_2XuWHGrn",soldText:"_1xPcRWOL",onlyNum:"VSTXsUVz",bottomButtonWrap:"_1wvW2o3U",star:"tBivs94a",ratingText:"_2APS0r4o",ratingStar:"_2schwy08",buttonWrap:"_1jw4cT1P"}},8139:function(e){e.exports={wrap:"_1vfsJbN3",title:"_2uPDibVM",content:"_1IKJqIsD",left:"_3uM1j-u2",discountPrice:"_2nLs_Q1V",right:"_1FtPCDYc",listContainer:"_1OA-jig0",list:"_1FDz2FEe",goodsItem:"_3hhp7Arc",goodsImg:"_1etZVvBa",imgWrap:"_2nNBWwCM",majorItem:"EpgKifNy",add:"_3AvNGvOO",goodsName:"sQV_cGVy",goodsInfo:"_1W9kqaPo",thisItemTitle:"KIgeMkqg",arrow:"_2hNy2dpk"}},41860:function(e){e.exports={wrap:"fe9ckPXw",sizeDesc:"Mwqrel4p",item:"_2yH-7u_x",bodyDesc:"x7kSOAFl",content:"_3L0QwfsC"}},87126:function(e){e.exports={wrap:"_3OLqO1vw",title:"_3EiETZ5B",content:"_2QCE3OTu",desc:"SRVupU0S",name:"_3VZPlg6u",nameContent:"_179-tHxP",icon:"_35DKM1XH",pdfIcon:"_1Btd0nQx",right:"_2gvujOHn",rightArrow:"_2tE8yzwC",note:"_3bOUn8g1",noteIcon:"_1TlkXBYW",noteText:"_3WZcEXGN",pageInfo:"_3OSJFbGL",showPageInfo:"_1PcaUPjY",imgItem:"_15iBmEYr",descTop:"_1pKVDxJo"}},19918:function(e){e.exports={wrap:"_2z705OMN",wrap4SoldOut:"_2JqY635y",titlePlaceHolder:"_2Owi1_7T",title:"MgLdDewB"}},26294:function(e){e.exports={dialog:"_3BEIisQG",btnArea:"_18fhoTKF",btn:"_28Y2Jw99"}},27625:function(e){e.exports={wrap:"_1qgza1S3",title:"_1u3Ep2pS",list:"E1IuSoCg",listContent:"_1U9JrrF5",item:"GZr7RR5o",icon:"_3j_ZBJd8",text:"_2tsgPPIc",arrow:"_3idh9cME"}},93546:function(e){e.exports={container:"YYhlCdLB",title:"_181k7QyO",recommendItem:"jih0cJkx",activeAnimation:"_154sRsAm"}},14171:function(e){e.exports={wrap:"_1_fVfYJ7",crumbMargin:"_1l8EGJDM",image:"_2aSTbrC2",goodsImage:"_29o6n_d4",text:"_2woWWWUD",subText:"_1JOkBRL9",arrow:"_1DLzfHgI",clickable:"_1Bq8Ouhu",subscribeBtn:"_1uBUF-6e",notifyIcon:"_2xO6UeJN",unSubscribeTips:"UaZy_aho",rightArrow:"_1qWVUmr9",detailRichContent:"_gqvOrRC"}},93821:function(e){e.exports={topShop:"_2oF743HY",topShopLeft:"FOjI72iR",topShopRight:"_32Uk_Fg9",icon:"_1isIQS9b",mallIcon:"WAHciCgn",bigText:"_3K0A4LEQ",mallText:"_1pBAmVsa",text:"_3gbjKYJB",mall:"_3iyYX6Rz",arrow:"_1XY8R1tF",between:"ANXN8O5G",activeAnimation:"_34hUjnmD"}},64416:function(e,t,n){"use strict";const a={startClient:()=>n(38471).e,page:()=>n(38471).M,clientController:()=>n(86893).O};(0,n(9594).A)({initPage:e=>{let{startClient:t,page:n,clientController:a}=e;Promise.resolve("function"==typeof t&&t()).then((()=>a(n)))},defaultTasks:a})},24781:function(e,t,n){"use strict";n.r(t),n.d(t,{I18nContext:function(){return E.gJ},I18nextProvider:function(){return y.x},INITIAL_I18N_STORE_LOADED:function(){return x.m},RETRY_CDN_HOST:function(){return x.e},Trans:function(){return r.x},Translation:function(){return f},changeLanguage:function(){return a.v2},composeInitialProps:function(){return E.rz},createInstance:function(){return a.Q_},date:function(){return I},default:function(){return a.Ay},exists:function(){return a.t2},getConfig:function(){return P.z},getDefaults:function(){return E.rV},getFixedT:function(){return a.DJ},getI18n:function(){return E.TO},getInitialProps:function(){return E.Dz},getResolvedLanguage:function(){return T.Ph},getT:function(){return T.lW},hasLoadedNamespace:function(){return a.NM},init:function(){return a.Ts},initI18nClient:function(){return R.W},initReactI18next:function(){return E.r9},loadLanguages:function(){return a.GA},loadNamespaces:function(){return a.dM},loadOtherLanguages:function(){return T.MP},loadResources:function(){return a._H},number:function(){return k},plural:function(){return A},reloadResources:function(){return a.t0},select:function(){return N},selectOrdinal:function(){return C},setDefaultNamespace:function(){return a.bi},setDefaults:function(){return E.Pj},setI18n:function(){return E.Vx},t:function(){return a.t},time:function(){return w},ultimateFallbackLng:function(){return P.J},use:function(){return a.Yx},useSSR:function(){return _.a},useTranslation:function(){return o.B},withI18n:function(){return M.z},withSSR:function(){return v},withTranslation:function(){return g}});var a=n(84912),r=n(7638),o=n(97582),i=(n(44114),n(61877)),s=n(6356),l=n(56687),c=n(33514),u=n(89411),d=["forwardedRef"];function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,i.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){function a(a){var r=a.forwardedRef,i=(0,l.A)(a,d),u=(0,o.B)(e,i),m=(0,s.A)(u,3),g=m[0],h=m[1],f=m[2],y=p(p({},i),{},{t:g,i18n:h,tReady:f});return t.withRef&&r?y.ref=r:!t.withRef&&r&&(y.forwardedRef=r),c.createElement(n,y)}a.displayName="withI18nextTranslation(".concat((0,u.Mn)(n),")"),a.WrappedComponent=n;var r=function(e,t){return c.createElement(a,Object.assign({},e,{forwardedRef:t}))};return t.withRef?c.forwardRef(r):a}}var h=["ns","children"];function f(e){var t=e.ns,n=e.children,a=(0,l.A)(e,h),r=(0,o.B)(t,a),i=(0,s.A)(r,3),c=i[0],u=i[1],d=i[2];return n(c,{i18n:u,lng:u.language},d)}var y=n(69616),_=n(2945),E=n(59981),b=["initialI18nStore","initialLanguage"];function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function v(){return function(e){function t(t){var n=t.initialI18nStore,a=t.initialLanguage,r=(0,l.A)(t,b);return(0,_.a)(n,a),c.createElement(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,i.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r))}return t.getInitialProps=(0,E.rz)(e),t.displayName="withI18nextSSR(".concat((0,u.Mn)(e),")"),t.WrappedComponent=e,t}}var I=function(){return""},w=function(){return""},k=function(){return""},N=function(){return""},A=function(){return""},C=function(){return""},T=n(13496),x=n(42679),P=n(64917),R=n(88729),M=n(90460)},91343:function(e,t,n){"use strict";n.d(t,{A:function(){return L}});var a=n(33514),r=n(32485),o=n.n(r),i=n(97582),s=n(99117),l=n(13852),c=n(54011),u=n(75735),d=n.n(u),m=n(55373),p=n(15484),g=n(32850);var h=n(5460),f=n(24361),y=n(97347),_=n(12814),E=n(64491),b=n(68009),S=n(60632);const v=(0,b.tb)()?.isNativePlatform,I=()=>{};async function w(){return await C({method:"GET",params:{},url:"api/server/_stm"}).then((e=>e&&e.server_time)).catch((()=>Date.now()))}let k=null,N=null;async function A(){return N||(N=async function(){const[{default:e},t]=await Promise.all([n.e(7523).then(n.bind(n,76503)),w()]);return k=new e({serverTime:t}),k}()),k=await N,k.messagePackSync()}async function C(e,t){const n={pageInfo:{pageId:""}};if(t?.req&&t?.res){n.req=t.req,n.res=t.res;try{n.accessToken=t.req.cookies[S.eT.AccessToken]}catch(e){}}const a=(0,E.Km)(n);e&&!e.defaultErrorHandler&&(e.defaultErrorHandler=I),e.encodeNativeResponse=!1;const r={};if(e.useAntiToken&&v&&(r.useNativeAntiToken=!0),e.useAntiToken&&!v){const t=await A();r.data={...e.data||{},anti_content:t}}return a({...e,...r})}var T=n(44090);class x{constructor(e){this.strategy=void 0,this.noTracking=void 0,this.commonTrackingParams={},this.commonSearchParams={},this.initPromise=void 0,this.initialized=void 0;const{noTracking:t=!1,commonTrackingParams:n={},commonSearchParams:a={}}=e;this.noTracking=t,this.commonTrackingParams=n,this.commonSearchParams=a,this.initialized=!1}static create(e){const t=e.strategy,n=new x({...e,strategy:t}),{tracking:a={},strategy_name:r=_.QJ}=t||{};return n.init(e).then((()=>{try{(0,s.WW)({page_el_sn:_.q5,strategy_name:r,...a})}catch(e){}})),n}async click(e){!this.initialized&&this.initPromise&&await this.initPromise,this.initialized&&this.goStore({...e})}async goGooglePlayStore(e){!this.initialized&&this.initPromise&&await this.initPromise,this.initialized&&this.goStore({...e??{},platform:"android"})}async goAppStore(e){!this.initialized&&this.initPromise&&await this.initPromise,this.initialized&&this.goStore({...e??{},platform:"ios"})}async init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{commonTrackingParams:t={},commonSearchParams:n={},noTracking:a=!1,strategy:r,disableFetchStrategiesWhenEmpty:o}=e;return this.commonTrackingParams={...this.commonTrackingParams,...t},this.commonSearchParams={...this.commonSearchParams,...n},e.noTracking&&(this.noTracking=a),r||o?(this.initialized=!0,this.initPromise=Promise.resolve(this),this.setStrategy(r)):(this.initPromise=(async()=>{const t=await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;try{const n=e?.context?.req,a=e?.httpClient??C,r=await a({method:"POST",url:"/api/jade/neutrino/dnld/pc_direct_strategy/get",data:{...e.reqParams??{},referer:location?.href,...n?{penetrate_headers:{"sec-ch-ua":n?.get?.("sec-ch-ua"),"sec-ch-ua-mobile":n?.get?.("sec-ch-ua-mobile"),"sec-ch-ua-platform":n?.get?.("sec-ch-ua-platform"),"x-requested-with":n?.get?.("x-requested-with")}}:{},pkg_version:t,pkg_name:"lib-launch-pc"}},e.context);if((0,T.K)(r),!r?.success||!r?.result)return;const o=r?.result;return o}catch{return void console.error("load pc_direct_strategy error")}}(e,y.e);return this.setStrategy(t),this.initialized=!0,this.initPromise=Promise.resolve(this),this})(),await this.initPromise),this}setStrategy(e){const t=this.generateFallbackStrategy();this.strategy={...t,...e}}generateFallbackStrategy(){const e=`${d().hash(c.A()).slice(0,12)}`,t=e,n=(e=>d().hash(e))(e),a=(e=>{const{handledQueryParams:t,ads_channel:n}=(0,g.n5)(),{ads_sub_channel:a,ads_account:r,ads_set:o,ads_id:i,ads_creative_id:s,ads_csite:l,campaign:c,cid:u,bg_adid:d}=t,h={adg_reftag:e,ads_channel:n,ads_sub_channel:a,ads_account:r,ads_set:o,ads_id:i,ads_creative_id:s,ads_csite:l,campaign:c,cid:u,bg_adid:d};return m.stringify((0,p.HT)({...h}))})(n);return{adg_ptid:e,hash_token:n,clipboard:t,install_referer:a,app_store_url:(0,h.cx)({install_referer:a}),ios_app_store_url:(0,h.jO)(),tracking:{}}}goStore(e){const{app_store_url:t,ios_app_store_url:n}=this.strategy||{},{preventJumping:a=!1,openInNewWindow:r=!1,platform:o="android"}=e,i="ios"===o?n:t;"ios"!==o&&(this.trackingWhenAction(e),this.sendMetricsWhenAction(e)),a||(r?(0,h.bB)(e.strategyName??"default",i):window.location.href=i)}trackingWhenAction(e){if(this.noTracking)return;const{commonTrackingParams:t,commonSearchParams:n}=this,{install_referer:a,tracking:r={},adg_ptid:o,hash_token:i}=this.strategy||{},{searchParams:s={},jumpUrl:c="/index.html",componentJumpUrl:u,preventJumping:d,strategyName:m,trackingParams:p={}}=e,{region:h,currency:y,language:_}=(0,f.O)(),E=(0,l.rE)({...n,...s},c),b=u?(0,l.rE)({...n,...s},u):void 0,S={adg_ptid:o,launch_id:o,step:"click",cli_region:h,cli_currency:y,cli_language:_,prevent_jumping:!!d,hash_token:i,jump_url:E,...b?{cmpt_jump_url:b}:{},install_referer:a,...m?{strategy_name:m}:{},...t??{},...p,...r};(0,g.E5)({data:S})}sendMetricsWhenAction(e){const{adg_ptid:t,hash_token:n,tracking:a={}}=this.strategy||{};try{(0,s.E0)({page_el_sn:_.q5,btn:"click",step:"click",prevent_jumping:!!e.preventJumping,strategy_name:e.strategyName||_.QJ,adg_ptid:t,hash_token:n,...a})}catch{}}}x.versionNumber=y.e;var P=n(15572),R=n(46959);const M=e=>{let{lazy:t,...n}=e;return t?a.createElement(R.A,n):a.createElement(P.F,n)};var D=n(48158),B=n(59659),O=n.n(B);var L=e=>{let{pageSN:t,pageElSnGooglePlayStore:n,pageElSnIosStore:r,jumpUrl:l="",className:c,listClassName:u,itemClassName:d,titleClassName:m,subTitleClassName:p,iconClassName:g}=e;const{t:h}=(0,i.B)("bec-fe.popup-download-ui-pc",{keyPrefix:"AppStore"}),f=(0,a.useRef)(null);(0,D.A)((()=>{const e=x.create({commonTrackingParams:{page_sn:t},reqParams:{tracking:""}});f.current=e}),[]);const y=(0,a.useCallback)(((e,t)=>{f.current?.click?.({platform:e?"ios":"android",jumpUrl:l,searchParams:{},trackingParams:{page_el_sn:t},preventJumping:!1,openInNewWindow:!0})}),[]);(0,a.useEffect)((()=>{(0,s.WW)({page_el_sn:n}),(0,s.WW)({page_el_sn:r})}),[]);const _=(0,a.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return a.createElement("div",{className:o()(O().iconItem,d),role:"button",tabIndex:0,"aria-label":e.title,onClick:()=>y(t,e.pageElSn)},a.createElement(M,{src:e.imgSrc,className:o()(O().icon,t&&O().darkIcon,g),lazy:!0,alt:e.title}),a.createElement("div",{className:O().desc},a.createElement("div",{className:o()(O().subTitle,p)},e.subTitle),a.createElement("div",{className:o()(O().title,m)},e.title)))}),[]);return a.createElement(a.Fragment,null,a.createElement("div",{className:o()(O().appStoreIcons,c)},a.createElement("div",{className:o()(O().iconList,u)},_({imgSrc:h("Download.GooglePlayImage"),subTitle:h("Download.GooglePlayDesc"),title:h("Download.GooglePlayTitle"),pageElSn:n}),_({imgSrc:h("Download.AppStoreImage"),subTitle:h("Download.AppStoreDesc"),title:h("Download.AppStoreTitle"),pageElSn:r},!0))))}},17276:function(e,t,n){"use strict";var a=n(14242),r=n(33514),o=n(15572);t.A=e=>{let{src:t,alt:n,...i}=e;return r.createElement(o.F,(0,a.A)({},i,{src:t,alt:n||""}))}},33516:function(e,t,n){"use strict";n.d(t,{A:function(){return r}});var a=n(33514);function r(){return a.createElement(a.Fragment,null)}},32139:function(e,t,n){"use strict";n.d(t,{i:function(){return r}});var a=n(33514);function r(e){const[t,n]=(0,a.useState)(e),r=(0,a.useRef)(t);return[t,(0,a.useCallback)((e=>{if("function"==typeof e){const t=e(r.current);r.current=t,n(t)}else r.current=e,n(e)}),[]),r]}},74954:function(e,t,n){"use strict";n.d(t,{U3:function(){return o},yD:function(){return i}});var a=n(32470);function r(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":toString.call(e)}function o(e,t){const n=Number(e);return Number.isNaN(n)?"-":("number"==typeof(o=t)||function(e){return"object"==typeof e&&null!==e}(o)&&"[object Number]"===r(o))&&t&&t>0?parseFloat((0,a.U3)(n)).toFixed(t):(0,a.U3)(n);var o}function i(e){const t=window.getComputedStyle(e),n=t["-webkit-transform"]||t["-moz-transform"]||t.transform;if(!n||"none"===n)return 0;const a=n.split(","),r=a[0].indexOf("("),o=parseFloat(a[0].substr(r+1)),i=parseFloat(a[1]);let s=180*Math.atan2(i,o)/Math.PI;return s<0&&(s+=360),s}},5476:function(e,t,n){"use strict";var a=n(14242),r=n(33514),o=n(97582),i=n(54930);const s=(e,t)=>{const{t:n,i18n:s}=(0,o.B)("bec-fe.svg-icons-h5");return r.createElement(i.A,(0,a.A)({role:"button",tabIndex:0},e,{"aria-label":e["aria-label"]??(s.exists("aria-label.AlertsClose",{ns:"bec-fe.svg-icons-h5"})?n("aria-label.AlertsClose"):void 0),ref:t,path:"M512 34.1c263.9 0 477.9 213.9 477.9 477.9 0 263.9-213.9 477.9-477.9 477.9-263.9 0-477.9-213.9-477.9-477.9 0-263.9 213.9-477.9 477.9-477.9z m0 34.2c-245.1 0-443.7 198.7-443.7 443.7 0 245.1 198.7 443.7 443.7 443.7 245.1 0 443.7-198.7 443.7-443.7 0-245.1-198.7-443.7-443.7-443.7z m-153.5 254.5l2.7 2.3 150.8 150.8 150.8-150.8c10-10 26.2-10 36.3 0 9.2 9.2 9.9 23.5 2.2 33.5l-2.2 2.7-150.9 150.8 150.9 150.9c10 10 10 26.2 0 36.2-9.2 9.2-23.5 9.9-33.6 2.3l-2.7-2.3-150.8-150.9-150.8 150.9c-10 10-26.2 10-36.3 0-9.2-9.2-9.9-23.5-2.2-33.6l2.2-2.6 150.9-150.9-150.9-150.8c-10-10-10-26.2 0-36.2 9.2-9.2 23.5-9.9 33.6-2.3z"}))};t.A=r.forwardRef(s)},44101:function(e,t,n){"use strict";var a=n(14242),r=n(33514),o=n(97582),i=n(67388);const s=r.forwardRef(((e,t)=>{const{t:n,i18n:s}=(0,o.B)("bec-fe.svg-icons-pc");return r.createElement(i.i,(0,a.A)({ref:t,fill:"#0a8800"},e,{path:["M512 17.1c142.6 0 258.6 114.1 261.6 256l104 0c15.1 0 27.6 11.8 28.4 26.9l30.5 557.3c0.1 2.5 0.2 5 0.2 7.4 0 75.4-61.1 136.5-136.5 136.5l-580.1 0-3.7-0.2c-75.3-4.1-133-68.5-128.9-143.7l30.5-557.3c0.8-15.1 13.3-26.9 28.4-26.9l104 0 0.2-6.3c6.3-139 120.9-249.7 261.4-249.7z m170.7 457.9c-32.9 0-64.1 10.6-89.8 29.7-2 1.2-4 2.6-5.8 4.2l-196.3 175.5-3.5 2.9c-13.1 9.8-29.1 15.2-46 15.3-42.4 0-76.8-34.4-76.8-76.8 0-42.4 34.4-76.8 76.8-76.8 29.1 0 55 16.3 68.1 41.1l56.1-49.8c-27.5-40-73.5-65.3-124.2-65.3-83.3 0-150.8 67.5-150.7 150.8 0 83.3 67.5 150.8 150.7 150.7 38.5 0 74.9-14.6 102.5-40.3l185.8-166.2c14.3-13.4 33.1-21 53.1-21 42.4 0 76.8 34.4 76.8 76.8 0 42.4-34.4 76.8-76.8 76.8-8.7 0-17.2-1.4-25.2-4.2l8-41-126.9 56.5 96.5 99.8 8.2-42.4c12.7 3.4 25.9 5.2 39.4 5.2 83.3 0 150.8-67.5 150.7-150.7 0-83.3-67.5-150.8-150.7-150.8z m-170.7-361.2c-89.2 0-161.9 70.8-164.9 159.3l329.7 0-0.1-4c-5-86.6-76.8-155.3-164.7-155.3z"],"aria-label":e["aria-label"]??(s.exists("aria-label.ShangxiangHuanbaodai",{ns:"bec-fe.svg-icons-pc"})?n("aria-label.ShangxiangHuanbaodai"):void 0),rtlPath:[]}))}));s.supportRtl=!1,t.A=s},16087:function(e,t,n){n(25440),e.exports=function(){"use strict";const e=1e3,t=6e4,n=36e5,a=864e5,r=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,o=31536e6,i=2628e6,s=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,l={years:o,months:i,days:a,hours:n,minutes:t,seconds:e,milliseconds:1,weeks:6048e5},c=e=>e instanceof _;let u,d;const m=(e,t,n)=>new _(e,n,t.$l),p=e=>`${d.p(e)}s`,g=e=>e<0,h=e=>g(e)?Math.ceil(e):Math.floor(e),f=e=>Math.abs(e),y=(e,t)=>e?g(e)?{negative:!0,format:`${f(e)}${t}`}:{negative:!1,format:`${e}${t}`}:{negative:!1,format:""};class _{constructor(e,t,n){if(this.$d={},this.$l=n,void 0===e&&(this.$ms=0,this.parseFromMilliseconds()),t)return m(e*l[p(t)],this);if("number"==typeof e)return this.$ms=e,this.parseFromMilliseconds(),this;if("object"==typeof e)return Object.keys(e).forEach((t=>{this.$d[p(t)]=e[t]})),this.calMilliseconds(),this;if("string"==typeof e){const t=e.match(s);if(t){const e=t.slice(2).map((e=>null!=e?Number(e):0));return[this.$d.years,this.$d.months,this.$d.weeks,this.$d.days,this.$d.hours,this.$d.minutes,this.$d.seconds]=e,this.calMilliseconds(),this}}return this}calMilliseconds(){this.$ms=Object.keys(this.$d).reduce(((e,t)=>e+(this.$d[t]||0)*l[t]),0)}parseFromMilliseconds(){let{$ms:r}=this;this.$d.years=h(r/o),r%=o,this.$d.months=h(r/i),r%=i,this.$d.days=h(r/a),r%=a,this.$d.hours=h(r/n),r%=n,this.$d.minutes=h(r/t),r%=t,this.$d.seconds=h(r/e),r%=e,this.$d.milliseconds=r}toISOString(){const e=y(this.$d.years,"Y"),t=y(this.$d.months,"M");let n=+this.$d.days||0;this.$d.weeks&&(n+=7*this.$d.weeks);const a=y(n,"D"),r=y(this.$d.hours,"H"),o=y(this.$d.minutes,"M");let i=this.$d.seconds||0;this.$d.milliseconds&&(i+=this.$d.milliseconds/1e3,i=Math.round(1e3*i)/1e3);const s=y(i,"S"),l=e.negative||t.negative||a.negative||r.negative||o.negative||s.negative,c=r.format||o.format||s.format?"T":"",u=`${l?"-":""}P${e.format}${t.format}${a.format}${c}${r.format}${o.format}${s.format}`;return"P"===u||"-P"===u?"P0D":u}toJSON(){return this.toISOString()}format(e){const t=e||"YYYY-MM-DDTHH:mm:ss",n={Y:this.$d.years,YY:d.s(this.$d.years,2,"0"),YYYY:d.s(this.$d.years,4,"0"),M:this.$d.months,MM:d.s(this.$d.months,2,"0"),D:this.$d.days,DD:d.s(this.$d.days,2,"0"),H:this.$d.hours,HH:d.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:d.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:d.s(this.$d.seconds,2,"0"),SSS:d.s(this.$d.milliseconds,3,"0")};return t.replace(r,((e,t)=>t||String(n[e])))}as(e){return this.$ms/l[p(e)]}get(e){let t=this.$ms;const n=p(e);return"milliseconds"===n?t%=1e3:t="weeks"===n?h(t/l[n]):this.$d[n],t||0}add(e,t,n){let a;return a=t?e*l[p(t)]:c(e)?e.$ms:m(e,this).$ms,m(this.$ms+a*(n?-1:1),this)}subtract(e,t){return this.add(e,t,!0)}locale(e){const t=this.clone();return t.$l=e,t}clone(){return m(this.$ms,this)}humanize(e){return u().add(this.$ms,"ms").locale(this.$l).fromNow(!e)}valueOf(){return this.asMilliseconds()}milliseconds(){return this.get("milliseconds")}asMilliseconds(){return this.as("milliseconds")}seconds(){return this.get("seconds")}asSeconds(){return this.as("seconds")}minutes(){return this.get("minutes")}asMinutes(){return this.as("minutes")}hours(){return this.get("hours")}asHours(){return this.as("hours")}days(){return this.get("days")}asDays(){return this.as("days")}weeks(){return this.get("weeks")}asWeeks(){return this.as("weeks")}months(){return this.get("months")}asMonths(){return this.as("months")}years(){return this.get("years")}asYears(){return this.as("years")}}const E=(e,t,n)=>e.add(t.years()*n,"y").add(t.months()*n,"M").add(t.days()*n,"d").add(t.hours()*n,"h").add(t.minutes()*n,"m").add(t.seconds()*n,"s").add(t.milliseconds()*n,"ms");return(e,t,n)=>{u=n,d=n().$utils(),n.duration=function(e,t){const a=n.locale();return m(e,{$l:a},t)},n.isDuration=c;const a=t.prototype.add,r=t.prototype.subtract;t.prototype.add=function(e,t){return c(e)?E(this,e,1):a.bind(this)(e,t)},t.prototype.subtract=function(e,t){return c(e)?E(this,e,-1):r.bind(this)(e,t)}}}()},27136:function(e,t,n){"use strict";var a=n(33514),r=n(32485),o=n.n(r),i=n(43430),s=n.n(i);t.A=function(e){const{content:t,basis:n=["138px","calc(100% - 138px)"],padding:r=[16,20],type:i="gray",bordered:l=!0,className:c}=e,u=(0,a.useMemo)((()=>r?.reduce(((e,t)=>`${e}${t}px `),"")),[r]);return a.createElement("div",{className:o()(c,{[s().bordered]:l,[s().gray]:"gray"===i,[s().green]:"green"===i}),role:"table"},t?.map(((e,r)=>{const l=0===r,c=r===t.length-1;return a.createElement("div",{key:r,className:s().row,role:"row"},e?.map(((t,r)=>{const d=0===r,m=r===e.length-1,p=n[r]||"auto";let g;return"gray"===i&&0===r&&(g="#F3F3F3"),a.createElement("div",{role:"cell",key:r,className:o()(s().col,{[s().top]:l,[s().right]:m,[s().bottom]:c,[s().left]:d,[s().gray]:"gray"===i,[s().green]:"green"===i}),style:{flexBasis:p,background:g,padding:u}},t)})))})))}},99558:function(e,t,n){"use strict";n.d(t,{$n:function(){return i},tr:function(){return c},zS:function(){return s}});n(44114);var a=n(83836),r=n(64491),o=n(9274);const i=()=>(0,r.Km)(),s=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.Cb;return i().post(e,t,{useAntiToken:!0,errorCodeHandlers:{40001:()=>{}}}).then((e=>n?n(e):(0,a.Cb)(e))).catch((e=>({isError:!0,...(0,a.Cb)({...e.response?.data||{}})})))},l=e=>s("api/bg-morgan/confirm/quick/render/merge",e,(e=>(0,a.Cb)(e,["promotion_layer","extend_map","app_only_benefit_info","transfer_map","biz_transfer_map","po_transfer_map","benefits_track_map","pay_success_extra"]))),c=async e=>{const{goodsId:t,skuId:n,goodsNumber:a=1,isBestSkuId:r,extendMap:i,defaultSelectSpecs:s=[]}=e,c=[];return s.length&&s.forEach((e=>{const{specKeyId:t,specValueId:n}=e||{};t&&n&&c.push({spec_key_id:t,spec_value_id:n})})),l({cart_item_requests:[{goods_id:t,sku_id:n,goods_number:a,best_sku:r,extend_map:i,selected_spec_list:c}],source_channel:"22",first_render_from_pre_page:!0,payment_extra:(0,o.A)({userAgent:navigator?.userAgent})})};t.Ay={morgan:l,renderCallback:e=>s("/api/bg-morgan/confirm/render/callback",{...e,time:Date.now()})}},5778:function(e,t,n){"use strict";n.d(t,{x:function(){return r}});var a=n(63815);const r=()=>{(0,a.WU)("",{mask:!0})}},86482:function(e,t,n){"use strict";n.d(t,{FH:function(){return S},Hr:function(){return o},Hu:function(){return A},Lx:function(){return g},O$:function(){return T},Oq:function(){return _},Re:function(){return l},U_:function(){return s},Us:function(){return E},WK:function(){return h},X2:function(){return m},ZK:function(){return c},ah:function(){return f},dd:function(){return v},f6:function(){return d},hq:function(){return u},iJ:function(){return C},jW:function(){return p},lz:function(){return y},mC:function(){return k},pF:function(){return w},qx:function(){return i},sk:function(){return r},uO:function(){return b},vI:function(){return I}});var a=n(84912),r=function(e){return e[e.ApplePay=1]="ApplePay",e[e.Paypal=2]="Paypal",e[e.CardPay=3]="CardPay",e[e.BindCardPay=3]="BindCardPay",e[e.PaypalLater=4]="PaypalLater",e[e.Klarna=5]="Klarna",e[e.KlarnaPayIn30=11]="KlarnaPayIn30",e[e.KlarnaPayNow=12]="KlarnaPayNow",e[e.AfterPay=6]="AfterPay",e[e.GooglePay=7]="GooglePay",e[e.CashPay=8]="CashPay",e[e.Affirm=9]="Affirm",e[e.ClearPay=10]="ClearPay",e[e.IDeal=13]="IDeal",e[e.OXXO=14]="OXXO",e[e.Mercado=15]="Mercado",e[e.MbWay=16]="MbWay",e[e.Multibanco=17]="Multibanco",e[e.Blik=18]="Blik",e[e.CardInstallment=19]="CardInstallment",e[e.Bancontact=20]="Bancontact",e[e.Konbini=21]="Konbini",e[e.KakaoPay=22]="KakaoPay",e[e.KCP=23]="KCP",e[e.Boleto=34]="Boleto",e[e.Paidy=24]="Paidy",e[e.TabbyPayIn4=25]="TabbyPayIn4",e[e.Venmo=26]="Venmo",e[e.Tamara=27]="Tamara",e[e.PayNow=28]="PayNow",e[e.WebPay=29]="WebPay",e[e.CardInstallFree=30]="CardInstallFree",e[e.COD=31]="COD",e[e.ScalaPay=32]="ScalaPay",e[e.PIX=33]="PIX",e[e.Atome=35]="Atome",e[e.Touchngo=36]="Touchngo",e[e.FPX=37]="FPX",e[e.GrabPay=38]="GrabPay",e[e.GCash=39]="GCash",e[e.Twint=41]="Twint",e[e.Zip=42]="Zip",e[e.Przelewy24=43]="Przelewy24",e[e.Trustly=45]="Trustly",e[e.EPS=46]="EPS",e[e.Vipps=47]="Vipps",e[e.NaverPay=48]="NaverPay",e[e.TossPay=49]="TossPay",e[e.Mobilepay=50]="Mobilepay",e[e.Eft=51]="Eft",e[e.PSE=53]="PSE",e[e.PayPay=54]="PayPay",e[e.PagoEfectivo=55]="PagoEfectivo",e[e.PAY_PO=56]="PAY_PO",e[e.TrueMoney=57]="TrueMoney",e[e.E_Banking=58]="E_Banking",e[e.Prompt_Pay=59]="Prompt_Pay",e[e.Bizum=60]="Bizum",e[e.Nequi=62]="Nequi",e[e.Swish=63]="Swish",e[e.PAY_CASH=64]="PAY_CASH",e[e.Kueski=65]="Kueski",e[e.Satispay=66]="Satispay",e[e.AU_PAY=67]="AU_PAY",e[e.TWISTO=68]="TWISTO",e[e.TWISTO_PAY_IN_3=69]="TWISTO_PAY_IN_3",e[e.Easypaisa=71]="Easypaisa",e[e.JazzCash=72]="JazzCash",e[e.KlarnaFinancing=73]="KlarnaFinancing",e[e.MoMo=75]="MoMo",e[e.RivertyInvoice=76]="RivertyInvoice",e[e.PayFlex=77]="PayFlex",e[e.BankTransfer=78]="BankTransfer",e[e.MOBILE_BILLING=70]="MOBILE_BILLING",e[e.Opay=80]="Opay",e[e.RevolutPay=81]="RevolutPay",e[e.CreditPay=101]="CreditPay",e[e.FriendPay=998]="FriendPay",e[e.ComposePay=999]="ComposePay",e}(r||{}),o=function(e){return e.ApplePay="applepay",e.Paypal="paypal",e.CardPay="cardpay",e.CardInstallment="cardInstall",e.CardInstallFree="cardInstallFree",e.BindCardAndPay="cardpaybind",e.PaypalLater="paylater",e.Klarna="klarna",e.KlarnaPayNow="klarnaPayNow",e.KlarnaPayIn30="klarnaPayIn30",e.AfterPay="afterpay",e.ClearPay="clearpay",e.CashPay="cashapp",e.Affirm="affirm",e.GooglePay="googlepay",e.Credit="credit",e.IDeal="ideal",e.Blik="blik",e.MbWay="mbway",e.Mercado="mercado",e.OXXO="oxxo",e.Multibanco="multibanco",e.Bancontact="bancontact",e.Konbini="konbini",e.KakaoPay="kakaopay",e.KCP="kcp",e.Boleto="boleto",e.PIX="pix",e.Paidy="paidy",e.TabbyPayIn4="tabbyPayIn4",e.Venmo="venmo",e.Tamara="tamara",e.COD="cod",e.ScalaPay="scalapay",e.PayNow="paynow",e.WebPay="webpay",e.Atome="atome",e.Touchngo="touchngo",e.FPX="fpx",e.GrabPay="grabpay",e.GCash="gcash",e.Twint="twint",e.Zip="zip",e.Przelewy24="przelewy24",e.Trustly="trustly",e.EPS="eps",e.Vipps="vipps",e.NaverPay="naverpay",e.TossPay="tosspay",e.Mobilepay="mobilepay",e.Eft="eft",e.PSE="pse",e.PayPay="paypay",e.PagoEfectivo="pagoefectivo",e.PAY_PO="paypo",e.TrueMoney="trueMoney",e.E_Banking="eBanking",e.Prompt_Pay="promptPay",e.Bizum="bizum",e.Nequi="nequi",e.Swish="swish",e.FriendPay="friendPay",e.PAY_CASH="payCash",e.Kueski="kueski",e.Satispay="satispay",e.AU_PAY="aupay",e.TWISTO="twisto",e.JazzCash="jazzCash",e.TWISTO_PAY_IN_3="twistoPayIn3",e.MoMo="moMo",e.RivertyInvoice="rivertyInvoice",e.Easypaisa="easypaisa",e.KlarnaFinancing="klarnaFinancing",e.PayFlex="payflex",e.BankTransfer="bankTransfer",e.RevolutPay="revolutPay",e.Opay="opay",e.MOBILE_BILLING="mobileBilling",e}(o||{});const i=Object.keys(r).filter((e=>!!o[e])).reduce(((e,t)=>(e[r[t]]=o[t],e)),{});let s=function(e){return e.PaymentAuthAlreadyUsed="PaymentAuthAlreadyUsed",e.UserCanceled="UserCanceled",e}({});var l=function(e){return e[e.Unpayed=0]="Unpayed",e[e.Payed=1]="Payed",e[e.Canceled=2]="Canceled",e[e.Unkown=3]="Unkown",e}(l||{});let c=function(e){return e[e.UNCONFIRMED=0]="UNCONFIRMED",e[e.CONFIRMED=1]="CONFIRMED",e[e.CANCELED=2]="CANCELED",e}({});var u=function(e){return e[e.Invalid=0]="Invalid",e[e.Success=1]="Success",e[e.Processing=2]="Processing",e[e.Fail=3]="Fail",e[e.Canceled=4]="Canceled",e}(u||{}),d=function(e){return e.SUCCESS="S",e.FAIL="F",e.PROCESSING="P",e}(d||{}),m=function(e){return e.REDIRECT="redirect",e.JS_SDK="js_sdk",e.NATIVE_APP="native_app",e.NATIVE_FALLBACK_REDIRECT="native_fallback_redirect",e.OTP_SMS_VERIFY="otp_sms_verify",e.OTP_VERIFY="otp_verify",e.None="none",e}(m||{}),p=function(e){return e[e.UNPAYED=0]="UNPAYED",e[e.PAYED=2]="PAYED",e}(p||{});const g={VISITOR_TOKEN:"visitor_token",VISITOR_LOGIN_TS:"visitor_login_ts"},h={PAY_PREAUTH:"bgt_3ds_pay_callback_pre_auth",PAY_TRACKING_PARAMS:"bgt_3ds_tracking_params",PAY_3DS_QUICK_PAYPAL_BRAINTREE:"bgt_3ds_quick_paypal_braintree"},f={errorPayload:{viewStyle:"nothing"}};let y=function(e){return e[e.NOTHING=0]="NOTHING",e[e.FORWARD=1]="FORWARD",e[e.BACK=2]="BACK",e[e.GO_HOME=3]="GO_HOME",e[e.RELOAD=4]="RELOAD",e[e.REFRESH=7]="REFRESH",e[e.TRY_ANOTHER_CARD=8]="TRY_ANOTHER_CARD",e[e.PAY_WITH_PAYPAL=9]="PAY_WITH_PAYPAL",e[e.FORWARD2=10]="FORWARD2",e[e.OVERWRITE=1e4]="OVERWRITE",e[e.PAY_TRY_ANOTHER_CARD=101]="PAY_TRY_ANOTHER_CARD",e[e.PAY_SWITCH_PAYMENT_METHOD=102]="PAY_SWITCH_PAYMENT_METHOD",e[e.PAY_TRY_AGAIN=104]="PAY_TRY_AGAIN",e[e.PAY_EDIT_BILLING_ADDRESS=105]="PAY_EDIT_BILLING_ADDRESS",e[e.PAY_EDIT_CARD_INFORMATION=106]="PAY_EDIT_CARD_INFORMATION",e[e.PAY_TRY_AGAIN_1=109]="PAY_TRY_AGAIN_1",e[e.PAY_PAY_WITH_PAYPAL=110]="PAY_PAY_WITH_PAYPAL",e[e.TRY_ANOTHER_METHOD=113]="TRY_ANOTHER_METHOD",e[e.PAY_AVS_AUTH_THEN_PAY_AGAIN=114]="PAY_AVS_AUTH_THEN_PAY_AGAIN",e[e.EDIT_CARD_INFORMATION_WITH_CVV=115]="EDIT_CARD_INFORMATION_WITH_CVV",e[e.EDIT_BIRTH_DATE=116]="EDIT_BIRTH_DATE",e[e.EDIT_CVV_AND_PAY=117]="EDIT_CVV_AND_PAY",e}({});var _=function(e){return e.Message="4",e.Facebook="1",e.CopyLink="-2",e}(_||{});const E=()=>({serverTime:Date.now(),errorCode:1,errorType:1,errorPayload:{viewObject:{okLabel:a.Ay.t("try_again",{ns:"bec-fe.web-pay"}),onOk:{type:y.PAY_TRY_AGAIN_1,param:{}},cancelLabel:a.Ay.t("switch_payment_method",{ns:"bec-fe.web-pay"}),onCancel:{type:y.PAY_SWITCH_PAYMENT_METHOD,param:{}},title:a.Ay.t("pay_error_network",{ns:"bec-fe.web-pay"})},paymentInfo:{routeRetentionErrorStyle:!0},viewStyle:"confirm"}}),b=()=>({viewObject:{okLabel:a.Ay.t("try_again",{ns:"bec-fe.web-pay"}),onOk:{type:y.PAY_TRY_AGAIN_1,param:{}},cancelLabel:a.Ay.t("switch_payment_method",{ns:"bec-fe.web-pay"}),onCancel:{type:y.PAY_SWITCH_PAYMENT_METHOD,param:{}},title:a.Ay.t("create_and_pay_default_error_data",{ns:"bec-fe.web-pay"})},paymentInfo:{routeRetentionErrorStyle:!0},viewStyle:"confirm"});var S=function(e){return e.ADD_TO_ORDER="1",e.ORDER_CHECKOUT="2",e.PROCESSING_REPAY="3",e}(S||{});const v=[r.IDeal,r.FPX,r.EPS,r.PSE,r.E_Banking],I="bg_3ds_common_jump_urls",w="0.6.4",k={resultCode:u.Canceled,response:f},N=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[3];return t.map(((n,a)=>0===a?e.substring(0,n):e.substring(t[a-1],n))).concat([e.substring(t[t.length-1])]).filter((e=>!!e)).join(" ")||""},A={[r.Vipps]:{MobileReg:/^\d{0,8}$/,MobileValidReg:/^\d{8}$/,MobileLen:8,TelCode:47,encryptScene:"vipps_mobile"},[r.Bizum]:{MobileReg:/^\d{0,9}$/,MobileValidReg:/^\d{9}$/,MobileLen:9,TelCode:34,encryptScene:"bizum_mobile",mobileScene:115},[r.Nequi]:{MobileReg:/^\d{0,10}$/,MobileValidReg:/^\d{10}$/,MobileLen:10,TelCode:57,encryptScene:"payment_common",mobileScene:123},[r.Easypaisa]:{MobileReg:/^\d{0,10}$/,MobileValidReg:/^\d{10}$/,MobileLen:10,TelCode:92,encryptScene:"payment_common",mobileScene:136,formatMobile:e=>N(e)},[r.JazzCash]:{MobileReg:/^\d{0,10}$/,MobileValidReg:/^\d{10}$/,MobileLen:10,TelCode:92,encryptScene:"payment_common",mobileScene:137,formatMobile:e=>N(e)}};let C=function(e){return e.DEFAULT_FILL_PHONE_NUMBER="default_fill_phone_number",e.NOT_FILL_ADDRESS_PHONE_NUMBER="not_fill_address_phone_number",e.NOT_FILL_PHONE_NUMBER="not_fill_phone_number",e}({}),T=function(e){return e.OTP_SMS="otp_sms",e}({})},47743:function(e,t,n){"use strict";n.d(t,{L:function(){return h}});n(44114);var a=n(94971),r=n(38940),o=n(45820),i=n(43266),s=n(15193),l=n(86482),c=n(3962);const u={appId:"100616",bizSide:"consumer-platform-fe"};function d(e){return e&&!e.startsWith("/w/")?`/w${e}`:e}let m={tags:{},fields:{},longFields:{}},p=[];function g(){m=p.reduce((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.tags&&(e.tags={...e.tags,...t.tags}),t.fields&&(e.fields={...e.fields,...t.fields}),t.longFields&&(e.longFields={...e.longFields,...t.longFields}),e}),{tags:{},fields:{},longFields:{}})}function h(e){return p.push(e),g(),()=>{const t=p.length;p=p.filter((t=>t!==e)),t!==p.length&&g()}}h({tags:{pn:(0,s.T)((()=>function(){const e=window.__PageContext__?.pagePath;return e?`${d(`/${e}`)}.html`:d(window.location.pathname)}()),"unknown"),packageVersion:l.pF,pageName:(0,s.T)((()=>(()=>{let e="unknown";return e=window.__PageContext__?.pagePath?.replace?.("w/",""),e})()),"unknown"),platform:(0,r.uo)()}});t.A=e=>{try{const{event:t,payChannel:n,tags:r={},fields:l={},longFields:d={},data:p,...g}=e||{},h=90669,{amplifyRate:f}=((0,a.Ri)(),(0,o.pq)()),{screen:y,devicePixelRatio:_,innerWidth:E,innerHeight:b,outerHeight:S,outerWidth:v,scrollX:I,scrollY:w}=window,{width:k,height:N}=y||{};(0,i.Ez)([{groupId:h,amplifyRate:f,tags:{...m.tags,event:t,payChannel:n||m.tags?.payChannel,sessionId:(0,s.T)((()=>sessionStorage.getItem("x-session-id")),null),...r},fields:{url:location.href,type:"biz",screen_width:k,screen_height:N,dpr:_,outerWidth:v,outerHeight:S,devtoolOpen:v-E>=100||S-b>=180,inner_width:E,inner_height:b,scroll_x:I,scroll_y:w,...m.fields,...l,data:"string"==typeof p?p:(0,c.h)(p),...g},longFields:{...m.longFields,...d}}],u)}catch(e){false}}},9274:function(e,t,n){"use strict";n.d(t,{A:function(){return l}});var a=n(68009),r=n(64423),o=n(47743);var i=(e,t)=>{if(t)return!0;const n=window.ApplePaySession;if(!(a=e||window.navigator.userAgent,/^((?!chrome|android).)*safari/i.test(a)&&n))return(0,o.A)({event:"not support apple pay",data:JSON.stringify({applePaySession:!!n})}),!1;var a;const r=n.canMakePayments?.();return(0,o.A)({event:"apple pay check canMakePayments",data:JSON.stringify({canMakePayments:r})}),r};function s(e){return(0,a.uo)(e).platform!==r.i9.Browser}function l(){let{userAgent:e,supportApplePaySdk:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&"string"==typeof e?{forbid_google_pay:s(e),supported_apple_pay:i(e,t),supported_cash_app:!0}:{}}},3962:function(e,t,n){"use strict";n.d(t,{h:function(){return a}});const a=(e,t)=>{try{return JSON.stringify(e)}catch(e){return t||""}}},47137:function(e,t,n){"use strict";n.r(t),n.d(t,{observable:function(){return a.sH},observer:function(){return r.PA}});var a=n(37451),r=n(47116)},9594:function(e,t,n){"use strict";function a(e){let{initPage:t,defaultTasks:a}=e;if("1"===window._SPLIT_REQUIRE_FLAG_){(0,n(5789).A)({$react:()=>n(33514),$reactDOM:()=>n(89243),$mobx:()=>n(47137),$18n:()=>n(24781),...a},Object.keys(a)).then((e=>t(e)))}else t(Object.keys(a).reduce(((e,t)=>{const n=a[t]();return e[t]=n,e}),{}))}n.d(t,{A:function(){return a}})},5789:function(e,t){"use strict";const n=e=>new Promise((t=>{if("undefined"==typeof window||"undefined"==typeof MessageChannel)return e.forEach((e=>e())),void t();window._SPLIT_REQUIRE_WORK_="1";const n=window._SPLIT_REQUIRE_CONFIG_||{},a=n.strategy,r=Math.max(5,n.interval||5),o=new MessageChannel;let i=0;let s=!1;function l(){try{return s=s||function(){const e=window.__fsImgItems||[];for(let t=0;t<e.length;t++)if(!e[t].time)return!1;return!0}(),s}catch(e){return!0}}function c(e){return!l()&&Date.now()-e>r}const u=()=>"1"===String(a)&&navigator.scheduling?.isInputPending?.();function d(){const n=Date.now();for(;void 0!==e[i];)if(e[i++](),u()&&Date.now()-n>r||c(n))return void o.port1.postMessage(null);t()}o.port2.onmessage=()=>{d()},u()||!l()?o.port1.postMessage(null):d()}));t.A=async(e,t)=>{const a={},r=Object.keys(e).map((n=>()=>{const r=e[n]();t.includes(n)&&(a[n]=r)}));return await n(r),a}},94406:function(e,t,n){n(16280),function(e,t){"use strict";function n(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var a=n(t);function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}var i=function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=[]),e.length!==t.length||e.some((function(e,n){return!Object.is(e,t[n])}))},s={error:null},l=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state=s,t.resetErrorBoundary=function(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];null==t.props.onReset||(e=t.props).onReset.apply(e,a),t.reset()},t}o(t,e),t.getDerivedStateFromError=function(e){return{error:e}};var n=t.prototype;return n.reset=function(){this.setState(s)},n.componentDidCatch=function(e,t){var n,a;null==(n=(a=this.props).onError)||n.call(a,e,t)},n.componentDidUpdate=function(e,t){var n,a,r=this.state.error,o=this.props.resetKeys;null!==r&&null!==t.error&&i(e.resetKeys,o)&&(null==(n=(a=this.props).onResetKeysChange)||n.call(a,e.resetKeys,o),this.reset())},n.render=function(){var e=this.state.error,t=this.props,n=t.fallbackRender,r=t.FallbackComponent,o=t.fallback;if(null!==e){var i={error:e,resetErrorBoundary:this.resetErrorBoundary};if(a.isValidElement(o))return o;if("function"==typeof n)return n(i);if(r)return a.createElement(r,i);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},t}(a.Component);function c(e,t){var n=function(n){return a.createElement(l,t,a.createElement(e,n))},r=e.displayName||e.name||"Unknown";return n.displayName="withErrorBoundary("+r+")",n}function u(e){var t=a.useState(null),n=t[0],r=t[1];if(null!=e)throw e;if(null!=n)throw n;return r}e.ErrorBoundary=l,e.useErrorHandler=u,e.withErrorBoundary=c,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(33514))},18113:function(e,t,n){"use strict";n.d(t,{$g:function(){return l},IT:function(){return i},Pc:function(){return c},St:function(){return o},cl:function(){return s},wG:function(){return d}});n(44114);var a=n(96074),r=n(36513);const o=e=>({level:-999,pid:-999,pName:e||"",isFilter:!0}),i=e=>{let t=0;return Object.keys(e||{}).forEach((n=>{e[n]&&t++})),t},s=e=>(0,r.T)((()=>e?.length?e.reduce(((e,t)=>{if(t?.vValueList?.length){const n=t.vValueList.reduce(((e,t)=>({...e,[t.vid]:t.selected})),{});e[t.pid]={valueSelectMap:n,valueSelectCount:i(n),level:t.level}}return e}),{}):{})),l=(e,t)=>(0,r.T)((()=>{if(!e?.length||!t?.length)return[];const n=t.map((e=>e.level));return e.map((e=>{if(e?.valueDtolist?.length){const t=n?.map((t=>e.valueDtolist.find((e=>e.level===t))));return{...e,valueDtolist:t}}return e}))})),c=e=>{let{dependencyRelationMap:t={},currentOptionPid:n,dependencyRelation:o}=e;return(0,r.T)((()=>{const e=[];return Object.keys(t).forEach((r=>{const{valueSelectMap:i={},level:s}=t[r]||{},l=Object.keys(i).filter((e=>i?.[e])).map((e=>+e));if(l.length){const i={pid:+r,vid_list:l,level:s};if(n===+r){const{valueSelectMap:e}=t[n]||{},{vValueList:r}=o?.find?.((e=>e.pid===n))||{};r?.length&&(i.all_vid_list=(0,a.qi)(r.map((t=>({...t,selected:e?.[t.vid]})))||[]))}e.push(i)}})),{conditions:e}}))},u=(e,t)=>{if(!e||!t)return!1;const n=e.getBoundingClientRect(),a=t.getBoundingClientRect();return Math.floor(a.right)<=Math.floor(n.right)&&Math.floor(a.left)>=Math.floor(n.left)},d=e=>{(0,r.T)((()=>{if(e){const t={},n=e.Components.Slides.get(),{prev:a,next:r}=e.Components.Arrows.arrows,o=e.length||0;if(!o)return;const i=a?.style.opacity,s=r?.style.opacity,l=e.root,c=u(l,n[0].slide),d=u(l,n[o-1].slide);!c&&0!==e.index||"0"===i?c||"1"===i||(t.prev=1):t.prev=0,!d&&e.index!==o-1||"0"===s?d||"1"===s||(t.next=1):t.next=0,e.emit?.("updateArrowOpacity",t)}}))}},94813:function(e,t,n){"use strict";var a=n(14242),r=n(33514),o=n(32485),i=n.n(o),s=n(97582),l=n(2526),c=n(82370),u=n(40822),d=n(14786),m=n(17021),p=n(53075),g=n(53938),h=n(93821),f=n.n(h);const y=e=>{let{data:t,page_el_sn:n,cate2_id:o,type:h="mall",style:y,classname:_}=e;const{t:E}=(0,s.B)("mall"),b=(0,g.d)();return r.createElement(d.A,{page_el_sn:n,others:{cate2_id:o}},r.createElement(l.N_,{className:i()(f().topShop,f()[h],_),style:y,url:t.topShopGoToUrl,onClick:e=>{(0,p.MJ)(e,{openTarget:"_blank"})}},r.createElement("div",{className:f().topShopLeft},(()=>{switch(h){case"mall":return(()=>{const e=t.topShopText?.length,n=t.topShopColorRange?.[0],o=t.topShopColorRange?.[1],s={background:`linear-gradient(${n}, ${o})`,"-webkit-background-clip":"text"};return e?r.createElement(r.Fragment,null,t.topShopText.map(((n,o)=>5===n.type?r.createElement(c.Ay,(0,a.A)({className:f().mallIcon,src:n.textData,"aria-hidden":!0,alt:""},b)):1===n.type?o<e-1?r.createElement("span",{className:i()(f().bigText,f().mallText),style:s},n.textData):r.createElement("span",{className:i()(f().mallText,f().text),style:{color:t.categoryColor}},n.textData):void 0))):null})();case"goods":return(()=>{const{mainLeftImg:e,mainRightImg:n,mainText:o,rightDesc:i,topShopGoToUrl:s}=t||{};return s?r.createElement(r.Fragment,null,r.createElement(c.Ay,(0,a.A)({className:f().icon,src:e,"aria-hidden":!0,alt:""},b)),r.createElement(u.H3,{className:f().bigText},o),r.createElement(c.Ay,(0,a.A)({className:f().icon,src:n,"aria-hidden":!0,alt:""},b)),r.createElement("span",{className:f().text},i)):null})();default:return null}})()),r.createElement("div",{className:f().topShopRight},"goods"===h&&r.createElement("span",{className:f().text},E("seeAllShops")),r.createElement(m.X8,{className:f().arrow,style:{fill:t.arrowColor,color:t.arrowColor}}))))};t.A=(0,r.memo)(y)},38471:function(e,t,n){"use strict";n.d(t,{M:function(){return tI},e:function(){return nI}});var a=n(33514),r=n(32485),o=n.n(r),i=n(47116),s=n(24517),l=n(92014),c=n(34101),u=n(23860),d=n(94127),m=n(13852),p=n(97582),g=n(68376),h=n(64423),f=n(54638),y=n(25728),_=n(40355),E=n(26258),b=n(76280),S=n(12540),v=n(35614),I=n(40822),w=n(11263),k=n(42979),N=n(63962),A=n(74344),C=n(93949),T=n(96822),x=n(87047),P=n(79839);const R={FOUR_ARROW:"https://aimg.kwcdn.com/upload_aimg/bt/6d487958-e01f-4c04-a9d1-5d60254a2096.png.slim.png",BG_COLOR:"https://aimg.kwcdn.com/upload_aimg/bt/4636d621-6359-4d20-b657-922a39ee89f2.png.slim.png",FIRST_PIECE_BG:"https://aimg.kwcdn.com/upload_aimg/message/59e60b87-36f0-4605-a078-ea8d10f6ec39.png.slim.png",RING_SHADOW:"https://aimg.kwcdn.com/upload_aimg/bt/af714085-6503-4d63-a846-17b6034312fb.png.slim.png",TOP_ARROW:"https://aimg.kwcdn.com/upload_aimg/bt/2df2d6c3-4a9b-4c18-a46b-be2294c0036d.png.slim.png",OUTER_LIGHT:"https://aimg.kwcdn.com/upload_aimg/m-image/a8105cb5-d413-43a6-971e-ebb75a78d11c.png.slim.png",ANDROID_STEP_IMG:"https://aimg.kwcdn.com/upload_aimg/sc/9c23de69-02f8-4874-9136-447751744d38.png.slim.png",IOS_STEP_IMG:"https://aimg.kwcdn.com/upload_aimg/sc/4b2d0046-ff40-4807-ab9f-4020c8c826c0.png.slim.png"},M="turn-table-base-wrap";var D=n(34477),B=n(59825),O=n(11647);function L(e){try{(0,B.oN)({type:"PCBenefitDownloadModal",pkgInfo:O.z,tags:{...e?.customTags||{}},fields:{...e?.customFields||{},dTime:Date.now()},longFields:{...e?.customLongFields||{}}})}catch(e){(0,D.fL)(e)}}const W=()=>((0,P.xX)([...Object.values(R)]),(0,a.useEffect)((()=>{L({customTags:{subEvent:"preloadImage"}})}),[]),null);var z=n(94406),F=n(26247),U=n.n(F),G=n(16087),H=n.n(G),V=n(73662),j=n(33516),q=n(14242),K=n(23777),$=n(68342);const J=$.Bd&&!$.hQ;let Y=function(e){return e.PCPopImpr="dnld_pc_dnld_pop_impr",e.PCPendantClose="dnld_pc_pendant_close",e.PCTurntablePlay="dnld_pc_big_turntable_play",e.PwaInstallSuccess="dnld_pc_dnld_pwa_coupon_impr",e}({}),Q=function(e){return e.ModalTypeFloatLayer="float_layer",e.ModalTypeSMS="sms",e.ModalTypeDefault="default",e.QRV1="qr_v1",e.BigTurnTable="big_turntable",e.SmsPop="sms_pop",e}({}),X=function(e){return e.STEP_ONE="step1",e.STEP_TWO="step2",e.STEP_THREE="step3",e.STEP_FOUR="step4",e}({});const Z=206567,ee=206570,te=203540,ne=203622,ae=219299,re=219301,oe=215988,ie=215989,se="//aimg.kwcdn.com/upload_aimg/landing/5c0a7a7b-b2d8-451e-90ac-f0ec64a884ac.png.slim.png",le="https://aimg.kwcdn.com/upload_aimg/message/7745208f-bcd8-4e05-ae2b-abee545eaec1.png.slim.png";var ce=n(54603),ue=n.n(ce);var de=e=>{const{list:t,className:n}=e,[r,i]=(0,a.useState)(0),[s,l]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{const e=setTimeout((()=>{l(!0)}),400);return()=>{clearInterval(e)}}),[]),(0,a.useEffect)((()=>{if(t?.length){const e=setInterval((()=>{i((e=>e===t?.length-1?0:e+1))}),3e3);return()=>{clearInterval(e)}}}),[t]),t?.length?a.createElement("div",{className:o()(ue().bubbleListContainer,n,{[ue().isShow]:s})},a.createElement(B.s8,{className:ue().bgWrapper,"aria-hidden":!0,alt:"",src:"https://aimg.kwcdn.com/upload_aimg/bt/4d7adf62-c28c-4089-9913-befc478588c2.png.slim.png"}),t?.map(((e,t)=>{const{recipient_avatar_url:n,recipient_name:i,receive_coupon_text:{prefix:s,coupon_amount_text:l,suffix:c}={}}=e;return a.createElement("div",{key:t,className:o()(ue().container,{[ue().BX_Class4]:t===r})},a.createElement("div",{className:ue().contentContainer},n?a.createElement(B.s8,{src:n,alt:i,className:o()(ue().avatar)}):null,a.createElement("div",{className:o()(ue().item,ue().name)},i),a.createElement("div",{className:ue().item},s),a.createElement("div",{className:o()(ue().item,ue().tipValue)},l),a.createElement("div",{className:ue().item},c)))}))):null};const me=a.createContext({}),pe=()=>(0,a.useContext)(me);var ge=n(99117),he=n(50063);var fe=$.Bd?a.useLayoutEffect:a.useEffect;function ye(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{onEnd:t,counterInterval:n}=(0,a.useMemo)((()=>({counterInterval:500,...e})),[e]),[r,o]=(0,a.useState)(!1),[i,s]=(0,a.useState)(NaN),[l,c]=(0,a.useState)(NaN),u=(0,a.useMemo)((()=>U().duration(l)),[l]),d=(0,a.useCallback)((e=>{o(!0),s(e),c(e-Date.now())}),[]),m=(0,a.useCallback)((()=>{o(!1),s(NaN),c(NaN),"function"==typeof t&&t()}),[t]),{seconds:p,minutes:g,hours:h,days:f}=(0,a.useMemo)((()=>({seconds:Math.floor(l/1e3),minutes:Math.floor(l/6e4),hours:Math.floor(l/36e5),days:Math.floor(l/864e5)})),[l]),y=(0,a.useRef)({start:d,stop:m,seconds:p,minutes:g,hours:h,days:f,options:e,duration:u,isCounting:r,expireTime:i});return fe((()=>{y.current={start:d,stop:m,seconds:p,minutes:g,hours:h,days:f,duration:u,options:e,isCounting:r,expireTime:i}}),[f,h,r,g,e,p,d,m,u,i]),fe((()=>{if(r){if("raf"===n){let e;const t=()=>{const n=Math.max(i-Date.now(),0);n<=0?y.current.stop():c(n),e=requestAnimationFrame(t)};return e=requestAnimationFrame(t),()=>{e&&cancelAnimationFrame(e)}}const e=setInterval((()=>{const e=Math.max(i-Date.now(),0);e<=0?y.current.stop():c(e)}),n);return()=>e&&clearTimeout(e)}}),[i,r,n]),{seconds:p,minutes:g,hours:h,days:f,duration:u,isCounting:r,counterRef:y}}U().extend(H());var _e=n(32139),Ee=n(74954),be=n(82492),Se=n(58844);async function ve(e){let{eventName:t,axiosInstance:n=be.Ay}=e;return await Promise.all([n({method:"POST",url:"/api/jade/neutrino/dnld/frequency/report",data:{event_name:t}}),n({method:"POST",url:"/api/hugo/hertz/user_event/report",data:{data:{event_name:t,business_context:{pkg_version:O.z.pkgVersionNum,pkg_from:"popup"}}}})]).then((()=>({success:!0}))).catch((()=>null))}const Ie=e=>{let{text:t,radius:n=100,className:r,style:o}=e;const i=n,s=2*i,l=30,[c]=(0,a.useState)((()=>`circle-${String(Math.random()).slice(-5)}`));return a.createElement("div",{className:r,style:{width:`${s+60}px`,height:`${i+l}px`,...o||{}}},a.createElement("svg",{viewBox:`0 0 ${s+60} ${i+60}`},a.createElement("path",{d:`M30,${i+l} A${i},${i} 0 0,1 ${s+l},${i+l}`,id:c,fill:"transparent"}),a.createElement("text",{style:{fill:"currentColor",textAnchor:"middle"}},a.createElement("textPath",{startOffset:"50%",href:`#${c}`},t))))};var we=n(99276),ke=n.n(we);var Ne=e=>{let{isFiveCouponList:t,showFourArrow:n=!0}=e;return a.createElement("div",{className:ke().basePlateWrapper},a.createElement("div",{className:o()(ke().basePlatePlaceholder,t&&ke().basePlatePlaceholder2)},a.createElement(B.s8,{alt:"","aria-hidden":!0,className:ke().plateInnerImg,src:t?R.FIRST_PIECE_BG:R.BG_COLOR,enableResize:!1}),a.createElement(B.s8,{alt:"","aria-hidden":!0,className:ke().plateInnerImg,src:R.RING_SHADOW,enableResize:!1})),n?a.createElement(B.s8,{alt:"","aria-hidden":!0,className:ke().plateOutterImg,src:R.FOUR_ARROW,enableResize:!1,webpEnable:!0}):null)},Ae=n(49448),Ce=n.n(Ae);var Te=e=>{let{data:t,id:n,wrapClass:r=[],onAnimationEnd:i}=e;const{t:s}=(0,p.B)("bec-fe.popup-download-ui-pc",{keyPrefix:"PCBenefitDownloadModal.step1"}),l=[0,55,125,200,280],c=1===t?.style_config?.use_new_turntable_style,u=(t?.style_config?.big_turntable_price_str_list||[]).map(((e,t)=>({angle:l[t],coupon:e})));return a.createElement("div",{id:n,className:o()(Ce().basePlate,...r),onAnimationEnd:i},c?a.createElement(a.Fragment,null,u.map(((e,t)=>a.createElement("div",{key:t,className:o()(Ce().couponPriceFiveItems,Ce()[`couponPosition_${t+1}`]),style:{transform:`rotateZ(${e?.angle}deg)`}},a.createElement("div",{className:o()(Ce().couponWrapper,0===t&&Ce().firstCouponWrapper)},a.createElement("span",{className:o()(Ce().dollarFiveItems,Ce().currencyOnBefore)},e?.coupon?.[0]),a.createElement("span",{className:Ce().priceCountFiveItems},e?.coupon?.[1]),a.createElement("span",{className:o()(Ce().dollarFiveItems,Ce().currencyOnAfter)},e?.coupon?.[2])),a.createElement(Ie,{radius:80,text:s("plateCoupons"),className:o()(Ce().bendCouponFiveItems,!t&&Ce().firstItem)})))),a.createElement(Ne,{isFiveCouponList:c,showFourArrow:!1})):a.createElement(a.Fragment,null,[1e4,2e3,5e3,2e3].map(((e,n)=>a.createElement("div",{key:n,className:o()(Ce().couponPrice,Ce()[`couponPosition_${n+1}`]),style:{transform:`rotateZ(${90*n}deg)`}},a.createElement("span",{className:Ce().dollar},t?.style_config?.currency_display),a.createElement("span",{className:Ce().priceCount},`${(0,Ee.U3)(e)}`),a.createElement(Ie,{radius:80,text:s("plateCoupons"),className:o()(Ce().bendCoupon,!n&&Ce().firstItem)})))),a.createElement(Ne,null)))},xe=n(84828),Pe=n.n(xe);var Re=e=>{let{className:t}=e;return a.createElement("div",{className:o()(Pe().ringWrapper,t)})},Me=n(77573),De=n.n(Me);var Be=e=>{let{className:t}=e;return a.createElement("div",{className:o()(De().spinWrapper,t)})},Oe=n(29412),Le=n.n(Oe);U().extend(H());const We="https://aimg.kwcdn.com/upload_aimg/m-image/d4eb8b91-8f45-4e75-be94-1459e1f3efb2.png.slim.png",ze="https://aimg.kwcdn.com/upload_aimg/bt/1dc1886c-7658-43c5-be30-78055d030e80.png.slim.png",Fe=e=>{let{data:t,setShowModal:n,setStep:r,setShowFloat:i,hasAnimation:s,onFloatClose:l}=e;const{t:c}=(0,p.B)("bec-fe.popup-download-ui-pc",{keyPrefix:"PCBenefitDownloadModal.step1"}),{beginTime:u,setBeginTime:d}=pe(),{duration:m,counterRef:g}=ye({counterInterval:100}),[h,f,y]=(0,_e.i)(0),_={...t?.tracking||{}},E=(0,a.useCallback)((e=>{e&&("function"==typeof e.preventDefault&&e.preventDefault(),"function"==typeof e.stopPropagation&&e.stopPropagation()),l(),ve({eventName:Y.PCPendantClose})}),[]);return(0,a.useEffect)((()=>{h?g.current.start(h):g.current.stop()}),[g,h]),(0,a.useEffect)((()=>{t?.style_config?.countdown_time>0&&f(U()(u).add(t?.style_config?.countdown_time,"second").valueOf())}),[t]),a.createElement(B.jP,{containerId:"bg_pc_benefit_download_modal_container_id",containerClassName:Le().floatTurnTable,containerZIndex:999,containerAttributes:{"data-pc-download-benefit-modal":t?.style_config.style_version??"old"}},a.createElement(he.Ay,{payload:{page_el_sn:ee,..._}},a.createElement("div",{style:{"--coupon-float-start-bottom":"50%","--coupon-float-start-left":"50%"},className:o()(Le().floatContentWrapper,{[Le().floatDropAni]:t?.style_config.has_animation&&s}),"aria-label":c("floatTurntable"),role:"button",tabIndex:0,onClick:()=>{(0,ge.E0)({page_el_sn:ee}),n(!0),i(!1),r(X.STEP_TWO)}},a.createElement(B.s8,{alt:"",className:Le().floatBgImg,"aria-hidden":!0,src:t?.style_config?.big_turntable_bottom_text?ze:We}),a.createElement("div",{className:Le().floatTurnTableWrap},a.createElement("div",{className:Le().bonus},a.createElement("div",{className:Le().bonusBorder},c("floatTurntable")),a.createElement("div",{className:Le().bonusText},c("floatTurntable"))),!t?.style_config?.big_turntable_bottom_text&&a.createElement("div",{className:Le().floatTurnTableTimer},a.createElement("div",{className:Le().timerWrap},a.createElement("span",{className:Le().time},"NaN"===m.format("HH")?"00":m.format("HH")),a.createElement("span",{className:Le().dot},":"),a.createElement("span",{className:Le().time},"NaN"===m.format("mm")?"00":m.format("mm")),a.createElement("span",{className:Le().dot},":"),a.createElement("span",{className:Le().time},"NaN"===m.format("ss")?"00":m.format("ss")),a.createElement("span",{className:Le().dot},"."),a.createElement("span",{className:o()(Le().counterTime,Le().milliseconds)},Math.floor(m.milliseconds()/100)||0)))),a.createElement("div",{className:Le().floatClose,onClick:E}))))};var Ue=e=>{let{popupProps:t,turnTableStep:n,data:r,onStepChange:i,onClose:s}=e;const[l,c]=(0,a.useState)((r?.style_config?.big_turntable_delay_ms||0)/1e3),[u,d]=(0,a.useState)(!1),{beginTime:m,setBeginTime:p}=pe(),g=(0,a.useRef)(),[h,f]=(0,a.useState)(!1),y=n===X.STEP_ONE,_=n===X.STEP_TWO,E="common-plate-step1",b={...r?.tracking||{}},S=1===r?.style_config?.use_new_turntable_style,v=S,I=e=>{const t=document.getElementById(e),n=(0,Ee.yD)(t)||0;document.getElementById(M).style.setProperty("--commonPlateRotateStartAngle",`${n}deg`)},w=()=>{setTimeout((()=>{(0,ge.E0)({page_el_sn:Z})}),0),I(E),i?.(X.STEP_TWO),g.current&&clearTimeout(g.current)},k=()=>{(0,ge.E0)({page_el_sn:206569}),s?.()};(0,a.useEffect)((()=>{ve({eventName:Y.PCPopImpr}),m||p(r?.style_config?.countdown_begin_time||Date.now())}),[]),(0,a.useEffect)((()=>{if(r?.style_config?.big_turntable_delay_ms){if(l>0)return g.current=setTimeout((()=>{c(l-1)}),1e3),()=>clearTimeout(g.current);I(E),i?.(X.STEP_TWO),setTimeout((()=>{(0,ge.WW)({page_el_sn:206568,...b})}),0)}}),[l]),(0,a.useEffect)((()=>{n===X.STEP_TWO&&ve({eventName:Y.PCTurntablePlay})}),[n]);const N=(0,a.useRef)(0);return a.createElement(he.Ay,{payload:{page_el_sn:Z,...b}},a.createElement("div",{className:Le().turnTableWrap},_?null:a.createElement(a.Fragment,null,a.createElement("div",{className:Le().modalCloseIcon,onClick:k},a.createElement(B.s8,{className:Le().closeIcon,alt:"close icon",src:"//aimg.kwcdn.com/upload_aimg/lp/51fcda76-9f2e-4626-a483-d6baf96a290c.png.slim.png"})),a.createElement("div",{className:Le().turnTableTitle},a.createElement("div",{className:Le().titleText},r?.style_config?.big_turntable_title_text),a.createElement("div",{className:Le().newUser},a.createElement("div",{className:Le().circle}),a.createElement("div",{className:Le().newUserText},r?.style_config?.big_turntable_subtitle_text),a.createElement("div",{className:Le().circle})))),a.createElement("div",{className:S?Le().turnTableFiveItems:Le().turnTable,onClick:w,onAnimationEnd:()=>{d(!0)}},a.createElement(B.s8,{className:o()(Le().anchor,h&&Le().endAni),alt:"","aria-hidden":!0,src:R.TOP_ARROW}),a.createElement(Te,{id:E,wrapClass:[y&&S?Le().slowSpin:"",_&&!S?Le().spin:"",_&&S?Le().plateFiveItemsSpin:"",h&&!S?Le().basePlateEndPosition:"",h&&S?Le().basePlateEndPosition2:""],data:r,onAnimationEnd:()=>{N.current+=1,S&&N.current<=1||(f(!0),setTimeout((()=>{i?.(X.STEP_THREE)}),700))}}),a.createElement("div",{className:o()(Le().plateComponentWrapper,h&&Le().endAni)},a.createElement("div",{className:Le().centerSpin},a.createElement("span",{className:Le().spinText},r?.style_config?.big_turntable_button_text),a.createElement(Be,null)),a.createElement(Re,null),a.createElement(B.s8,{alt:"","aria-hidden":!0,className:o()(Le().light,_?Le().lightAni:""),src:R.OUTER_LIGHT}))),_?null:a.createElement(a.Fragment,null,a.createElement("div",{className:o()(Le().spinButton,u&&Le().spinButtonAni),onClick:w},a.createElement("span",null,r?.style_config?.big_turntable_button_text),a.createElement("span",null,l?`(${l}${v?"s":""})`:"")),a.createElement("div",{className:Le().minimun},r?.style_config?.coupon_comment))))},Ge=n(37690),He=n.n(Ge);U().extend(H());var Ve=e=>{let{data:t,onStepChange:n,onClose:r,onConfirm:i}=e;const{beginTime:s}=pe(),l=1===t?.style_config?.scan_pop_style,{duration:c,counterRef:u}=ye({counterInterval:100}),[d,m]=(0,_e.i)(0),{t:g}=(0,p.B)("bec-fe.popup-download-ui-pc",{keyPrefix:"PCBenefitDownloadModal"}),h={...t?.tracking||{}};return(0,a.useEffect)((()=>{d?u.current.start(d):u.current.stop()}),[u,d]),(0,a.useEffect)((()=>{t&&t?.style_config?.countdown_time>0&&m(U()(s).add(t?.style_config?.countdown_time,"second").valueOf())}),[t]),a.createElement(he.Ay,{payload:{page_el_sn:te,...h}},a.createElement("div",{className:He().resultPopWrap},a.createElement("div",{className:He().modalCloseIcon,"aria-label":g("closeBtn"),role:"button",tabIndex:0,onClick:()=>{(0,ge.E0)({page_el_sn:204392}),r?.()}},a.createElement(B.s8,{className:He().closeIcon,alt:"close icon",src:"//aimg.kwcdn.com/upload_aimg/lp/51fcda76-9f2e-4626-a483-d6baf96a290c.png.slim.png"})),a.createElement(B.s8,{src:"https://aimg.kwcdn.com/upload_aimg/m-image/adf16550-3b32-4ede-ab19-29572e1eda6c.png.slim.png","aria-hidden":!0,alt:"",className:He().popBackImage}),a.createElement("div",{className:He().resultPopContent},a.createElement("div",{className:He().couponTitle},t?.style_config?.big_turntable_result_text),a.createElement("div",{className:He().couponWrap},a.createElement("div",{className:He().coupon},a.createElement("div",{className:He().floatSlip}),a.createElement(B.s8,{className:He().couponBackImage,"aria-hidden":!0,alt:"",src:"https://aimg.kwcdn.com/upload_aimg/m-image/6f28ac76-488d-427d-bc4d-b406178a999f.png.slim.png"}),a.createElement("div",{className:He().couponPrice},a.createElement("span",{className:He().dollar},t?.style_config?.currency_display),a.createElement("span",null,`${(0,Ee.U3)(t?.style_config?.price)}`)),a.createElement("div",{className:He().couponBenefit},t?.style_config?.scan_pop_style_coupon_text)),!t?.style_config?.big_turntable_bottom_text&&a.createElement("div",{className:He().mainCounter},a.createElement("span",{className:He().counterLabel},g("countdownText")),a.createElement("span",{className:He().counterTime},"NaN"===c.format("HH")?"00":c.format("HH")),a.createElement("span",{className:He().counterSep},":"),a.createElement("span",{className:He().counterTime},"NaN"===c.format("mm")?"00":c.format("mm")),a.createElement("span",{className:He().counterSep},":"),a.createElement("span",{className:He().counterTime},"NaN"===c.format("ss")?"00":c.format("ss")),!l&&a.createElement(a.Fragment,null,a.createElement("span",{className:He().counterSep},"."),a.createElement("span",{className:o()(He().counterTime,He().milliseconds)},Math.floor(c.milliseconds()/100)||0)))),a.createElement("div",{className:He().button,role:"button",tabIndex:0,"aria-label":t?.style_config?.confirm_button_text,onMouseDown:()=>{(0,ge.E0)({page_el_sn:te}),setTimeout((()=>{n?.(X.STEP_FOUR)}),600),i?.()}},t?.style_config?.confirm_button_text)),a.createElement("div",{className:He().bottomText},t?.style_config?.big_turntable_bottom_text)))},je=n(41439),qe=n.n(je);const Ke=e=>{const{className:t,text:n,minScale:r=0,transFormOrigin:i,onlyScaleX:s,fontClass:l,innerContainerClass:c,canFull:u,style:d}=e,m=(0,a.useRef)(),p=(0,a.useRef)(),{mount:g,innerContainerWidth:h,scale:f}=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];const[i,s]=(0,a.useState)(!1),[l,c]=(0,a.useState)(0),[u,d]=(0,a.useState)(1);return(0,a.useEffect)((()=>{const a=e?.current?.offsetWidth||0,o=t?.current?.offsetWidth||0;c(a),(o>a||r)&&d(Math.max(a/o,n)),s(!0)}),o),{mount:i,innerContainerWidth:l,scale:u}}(m,p,r,u,[n]),y=g?{transformOrigin:i||"left center",transform:`${s?"scaleX":"scale"}(${f})`,width:h/f,overflow:"hidden",textOverflow:f===r?"ellipsis":""}:null;return a.createElement("div",{ref:m,className:t,style:d},a.createElement("div",{style:y,className:c},a.createElement("span",{ref:p,className:o()({[qe().textHidden]:!g},l)},n)))};var $e=(0,a.memo)(Ke),Je=n(7638),Ye=n(91343),Qe=n(88048),Xe=n.n(Qe),Ze=function(e){return e[e.IOS=0]="IOS",e[e.ANDROID=1]="ANDROID",e}(Ze||{});var et=e=>{let{data:t,pageSN:n}=e;const{t:r}=(0,p.B)("bec-fe.popup-download-ui-pc",{keyPrefix:"ScanGuide"}),[i,s]=(0,a.useState)(Ze.IOS);(0,a.useEffect)((()=>{const e=setTimeout((()=>{s((e=>e===Ze.IOS?Ze.ANDROID:Ze.IOS))}),5e3);return()=>{clearTimeout(e)}}),[i]);const l=(0,a.useCallback)((e=>{s(e),(0,ge.E0)({page_el_sn:[re,ae][e]})}),[]);return a.createElement("div",{className:Xe().newQrcodeWrapper},a.createElement("div",{className:Xe().leftWrapper},a.createElement("div",{className:o()(Xe().qrCodeContainer)},a.createElement(B.s8,{src:t?.link_url_base64??"",alt:"qr code",className:Xe().pcDownloadQrCodeImage}),a.createElement(B.s8,{src:se,alt:"logo",className:Xe().pcDownloadQrCodeLogo})),a.createElement(Ye.A,{className:Xe().appStoreWrapper,listClassName:o()(Xe().appStoreList),itemClassName:Xe().appStoreItem,iconClassName:Xe().storeIcon,subTitleClassName:Xe().subTitle,titleClassName:Xe().title,pageSN:n,pageElSnGooglePlayStore:oe,pageElSnIosStore:ie,jumpUrl:t?.style_config?.jump_url})),a.createElement("div",{className:Xe().rightWrapper},a.createElement("div",{className:Xe().carousel},a.createElement("div",{className:Xe().carouselBody,style:{transform:["translateX(0)","translateX(-50%)"][i]}},a.createElement(he.Ay,{payload:{page_el_sn:219917}},a.createElement("div",{className:Xe().ios},a.createElement("div",{className:Xe().mainTip},a.createElement(Je.x,{t:r,ns:"bec-fe.popup-download-ui-pc",i18nKey:"IosScanTip"},a.createElement("span",null),a.createElement("br",null),a.createElement("span",null))),a.createElement("div",{className:Xe().stepImg,style:{backgroundImage:`url(${R.IOS_STEP_IMG})`}}),a.createElement("div",{className:Xe().steps},r("IosSteps",{returnObjects:!0}).map(((e,t)=>a.createElement("div",{key:e,className:o()(Xe().stepItem,Xe()[`stepItem${t}`])},a.createElement("span",null,t+1),e)))))),a.createElement(he.Ay,{payload:{page_el_sn:219916}},a.createElement("div",{className:Xe().android},a.createElement("div",{className:Xe().mainTip},a.createElement(Je.x,{t:r,ns:"bec-fe.popup-download-ui-pc",i18nKey:"AndroidScanTip"},a.createElement("span",null),a.createElement("br",null),a.createElement("span",null))),a.createElement("div",{className:Xe().stepImg,style:{backgroundImage:`url(${R.ANDROID_STEP_IMG})`}}),a.createElement("div",{className:Xe().steps},r("AndroidSteps",{returnObjects:!0}).map(((e,t)=>a.createElement("div",{key:e,className:o()(Xe().stepItem,Xe()[`stepItem${t}`])},a.createElement("span",null,t+1),e)))))))),a.createElement("div",{className:Xe().sysBtnWrapper},a.createElement("div",{className:Xe().slipper,style:{transform:["translateX(0)","translateX(100%)"][i]}}),r("System",{returnObjects:!0}).map(((e,t)=>a.createElement(he.Ay,{key:t,payload:{page_el_sn:[re,ae][t]}},a.createElement("div",{className:o()(Xe().sysBtn,i===t&&Xe().active),key:e,onClick:()=>l(t)},e)))))))},tt=n(82365),nt=n.n(tt);var at=function(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?()=>a.createElement("div",{className:o()(nt().qrV1Wrapper,nt().showAppStoreIcons)},a.createElement("div",{className:nt().qrCodeLeft},a.createElement("div",{className:nt().qrCodeContainer},a.createElement(B.s8,{src:t?.link_url_base64??"",alt:"qr code",className:nt().pcDownloadQrCodeImage2}),a.createElement(B.s8,{src:se,alt:"logo",className:nt().pcDownloadQrCodeLogo2})),a.createElement("div",{className:nt().scanHintBottom2},a.createElement(B.s8,{alt:"","aria-hidden":!0,src:le,className:nt().scanHintBottomIcon2}),t?.style_config?.scan_sub_title_text)),a.createElement("div",{className:nt().qrCodeRight},a.createElement(Ye.A,{pageSN:e,pageElSnGooglePlayStore:oe,pageElSnIosStore:ie,jumpUrl:t?.style_config?.jump_url}))):()=>a.createElement("div",{className:nt().qrV1Wrapper},a.createElement("div",{className:o()(nt().qrCodeContainer)},a.createElement(B.s8,{src:t?.link_url_base64??"",alt:"qr code",className:nt().pcDownloadQrCodeImage}),a.createElement(B.s8,{src:se,alt:"logo",className:nt().pcDownloadQrCodeLogo})),a.createElement("div",{className:nt().scanHintBottom},a.createElement(B.s8,{alt:"","aria-hidden":!0,src:le,className:nt().scanHintBottomIcon}),a.createElement("div",{className:nt().scanHintBottomText},t?.style_config?.scan_sub_title_text)))},rt=n(37151),ot=n.n(rt);const it="https://aimg.kwcdn.com/upload_aimg/m-image/f79d6192-0859-4f49-9940-14c85a9ceb59.png.slim.png",st="https://aimg.kwcdn.com/upload_aimg/bt/f34b30eb-4340-4f34-a55c-1f7b9e2902f4.png.slim.png",lt=e=>{let{data:t,setShowModal:n,setStep:r,setShowFloat:i,hasAnimation:s,onFloatClose:l}=e;const{t:c}=(0,p.B)("bec-fe.popup-download-ui-pc",{keyPrefix:"PCBenefitDownloadModal.step4"}),{beginTime:u}=pe(),d=1===t?.style_config?.scan_pop_style,{duration:m,counterRef:g}=ye({counterInterval:100}),[h,f]=(0,_e.i)(0),y={...t?.tracking||{}},_=(0,a.useCallback)((e=>{e&&("function"==typeof e.preventDefault&&e.preventDefault(),"function"==typeof e.stopPropagation&&e.stopPropagation()),(0,ge.E0)({page_el_sn:203635}),l(),ve({eventName:Y.PCPendantClose})}),[]);return(0,a.useEffect)((()=>{h?g.current.start(h):g.current.stop()}),[g,h]),(0,a.useEffect)((()=>{t?.style_config?.countdown_time>0&&f(U()(u).add(t?.style_config?.countdown_time,"second").valueOf())}),[t]),a.createElement(B.jP,{containerId:"bg_pc_benefit_download_modal_container_id",containerClassName:ot().smsFloatCoupon,containerZIndex:999,containerAttributes:{"data-pc-download-benefit-modal":t?.style_config.style_version??"old"}},a.createElement(he.Ay,{payload:{page_el_sn:ne,...y}},a.createElement("div",{style:{"--coupon-float-start-bottom":"50%","--coupon-float-start-left":"50%"},className:o()(nt().floatContentWrapper,{[nt().floatDropAni]:t?.style_config.has_animation&&s}),onClick:()=>{(0,ge.E0)({page_el_sn:ne}),n(!0),i(!1),r(X.STEP_FOUR)}},a.createElement(B.s8,{className:nt().floatBgImg,"aria-hidden":!0,alt:"",src:t?.style_config?.big_turntable_bottom_text?st:it}),a.createElement("div",{className:nt().floatTurnTableWrap},a.createElement("div",{className:nt().floatTurnTablePriceWrap},a.createElement($e,{className:nt().currency,text:t?.style_config?.currency_display}),a.createElement($e,{className:nt().priceCount,text:(0,Ee.U3)(t?.style_config?.price)})),a.createElement("div",{className:o()(nt().coupons,{[nt().columnStyle]:!!t?.style_config?.big_turntable_bottom_text})},c(t?.style_config?.big_turntable_bottom_text?"couponBundle":"floatCoupon")," "),!t?.style_config?.big_turntable_bottom_text&&a.createElement("div",{className:nt().floatTurnTableTimer},a.createElement("div",{className:nt().timerWrap},a.createElement("span",{className:nt().time},"NaN"===m.format("HH")?"00":m.format("HH")),a.createElement("span",{className:nt().dot},":"),a.createElement("span",{className:nt().time},"NaN"===m.format("mm")?"00":m.format("mm")),a.createElement("span",{className:nt().dot},":"),a.createElement("span",{className:nt().time},"NaN"===m.format("ss")?"00":m.format("ss")),!d&&a.createElement(a.Fragment,null,a.createElement("span",{className:nt().dot},"."),a.createElement("span",{className:o()(nt().counterTime,nt().milliseconds)},Math.floor(m.milliseconds()/100)||0))))),a.createElement("div",{className:nt().floatClose,"aria-label":c("closeBtn"),role:"button",tabIndex:0,onClick:_}))))};var ct=e=>{let{data:t,isShowBubbleList:n,onClose:r}=e;const{pageSn:i="",showRule:s,setShowRule:l}=pe(),c=t?.show_store_redirect_button||!1,u=1===t?.style_config?.scan_pop_style,{t:d}=(0,p.B)("bec-fe.popup-download-ui-pc",{keyPrefix:"PCBenefitDownloadModal"}),m=at(i,t,c),g=(0,a.useMemo)((()=>{const e=t?.style_config?.price??0;return e>=1e4?(0,Ee.U3)(e):e>0?(0,Ee.U3)(e,2):"-"}),[t?.style_config?.price]),h=t?.style_config?.scan_pop_style_head_text?.replace("{{amount}}",`${t?.style_config?.currency_display}${g}`),f={...t?.tracking||{}};return s?(()=>{const e=()=>{l(!1)};return a.createElement("div",{className:ot().ruleModal},a.createElement("div",{className:nt().modalCloseIcon,"aria-label":d("closeBtn"),role:"button",tabIndex:0,onClick:e},a.createElement(B.s8,{className:nt().closeIcon,alt:"close icon",src:"//aimg.kwcdn.com/upload_aimg/lp/51fcda76-9f2e-4626-a483-d6baf96a290c.png.slim.png"})),a.createElement("div",{className:ot().ruleTitle},t?.style_config?.rules?.title_text),a.createElement("div",{className:o()(ot().overscrollBehaviorNone,ot().ruleBody),"data-scroll":!0},(t?.style_config?.rules?.content_list??[]).map(((e,t)=>a.createElement("div",{className:ot().ruleSection,key:t},a.createElement("div",{className:ot().ruleSectionStart}),a.createElement("div",{className:ot().ruleSectionContent},e))))),a.createElement("div",{className:ot().ruleConfirmButton,"aria-label":t?.style_config?.rules?.confirm_button_text,role:"button",tabIndex:0,onClick:e},t?.style_config?.rules?.confirm_button_text))})():a.createElement("div",{className:o()(ot().smsModal,ot().smsModalSecond)},a.createElement("div",{className:ot().smsModalInner},a.createElement("div",{className:o()(ot().modalCloseIcon,{[nt().closeIconHasBottomList]:!!n&&!h,[nt().closeIconHasTitle]:!!h&&!n,[nt().closeIconHasTitleAndBottomList]:!!n&&!!h}),onClick:()=>{(0,ge.E0)({page_el_sn:204393}),r?.()}},a.createElement(B.s8,{className:ot().closeIcon,alt:"close icon",src:"//aimg.kwcdn.com/upload_aimg/lp/51fcda76-9f2e-4626-a483-d6baf96a290c.png.slim.png"})),a.createElement("div",{className:o()(ot().modalMain,c&&ot().modalMain2,u&&ot().modalMain3),style:{height:"auto"}},a.createElement("div",{className:o()(ot().topTitle,{[nt().topTitleHasBubbleList]:n}),"data-text":h},a.createElement("span",null,h)),a.createElement(he.Ay,{key:"second-stage",payload:{page_el_sn:203541,...f}},a.createElement("div",{className:o()(ot().modalSMS,nt().modalBody,c&&nt().modalBody2)},a.createElement("div",{className:o()(ot().smsHeader,c&&ot().smsHeader2)},a.createElement(B.s8,{className:ot().smsHeaderEmage,alt:"smsHeader",src:u?"//aimg.kwcdn.com/upload_aimg/sc/89780266-5582-465b-bbe4-946d1f9cf58f.png.slim.png":"//aimg.kwcdn.com/upload_aimg/message/7967c754-e0fc-4f3c-9bcf-ee1c68458f36.png.slim.png"}),a.createElement("span",{className:ot().headerRuleBtn,"aria-label":d("rules"),role:"button",tabIndex:0,onClick:()=>{(0,ge.E0)({page_el_sn:205150}),l(!0)}},d("rules")),a.createElement("div",{className:ot().headerGiftCard},a.createElement("div",{className:ot().giftCardWorth},a.createElement("span",{className:nt().giftCardWorthUnit},t?.style_config?.currency_display),a.createElement("span",{className:ot().giftCardWorthAmount},g)),a.createElement("div",{className:ot().giftCardTips,style:{marginTop:u?"11px":"0"}},t?.style_config?.threshold_text?.split(",")?.map((e=>a.createElement("span",{key:e},e)))))),a.createElement("div",{className:ot().animationGiftCard},a.createElement("div",{className:ot().giftCardWorth},a.createElement("span",{className:nt().giftCardWorthUnit},t?.style_config?.currency_display),a.createElement("span",{className:ot().giftCardWorthAmount},g)),a.createElement("div",{className:ot().giftCardTips},t?.style_config?.threshold_text?.split(",")?.map((e=>a.createElement("span",{key:e},e))))),a.createElement("p",{className:o()(nt().qrV1Tip,c&&nt().qrV1Tip2)},t?.style_config?.scan_title_text),u?a.createElement(et,{data:t,pageSN:i}):m()))),a.createElement("div",{className:nt().bottomText},t?.style_config?.big_turntable_bottom_text)))},ut=n(74266),dt=n.n(ut);function mt(e){let{popupProps:t,pageSn:n,nextData:r,onShow:i,onClose:s,onConfirm:l,isUniPop:c,showFirstPop:u=!0,onFloatShow:d,onFloatClose:m,onDestory:p}=e;const[g,h]=(0,a.useState)(X.STEP_ONE),[f,y]=(0,a.useState)(!1),[_,E]=(0,a.useState)(!1),[b,S]=(0,a.useState)(!1),[v,I]=(0,a.useState)(r?.style_config?.countdown_begin_time||0),[w,k]=(0,a.useState)(!1),N=(0,a.useMemo)((()=>r?.style_config?.receive_dnld_coupon_carousel_module),[r]),A=(0,a.useMemo)((()=>{const{display:e,receive_records:t}=N||{};return e&&t?.length&&[X.STEP_THREE,X.STEP_FOUR].includes(g)}),[g,N]);(0,P.xX)((N?.receive_records?.length?N.receive_records:[]).map((e=>e?.recipient_avatar_url)));const C=e=>{h(e)},T=()=>{if("function"==typeof t?.onClick&&t.onClick(),y(!1),c)return s?.(),void p?.();s?.(),E(!0),S(!0)},x=()=>{E(!1),m?.(),p?.()};return(0,a.useEffect)((()=>{!r?.style_config?.disable_enter_pop&&u&&(L({customTags:{subEvent:"showTurntable",payload:"0",popupStyle:r?.style_config?.big_turntable_version}}),E(!1),y(!0),i?.()),r?.style_config?.disable_enter_pop&&(L({customTags:{subEvent:"showTurntableFloat",payload:"0",popupStyle:r?.style_config?.big_turntable_version}}),y(!1),E(!0),i?.(),d?.())}),[]),a.createElement(me.Provider,{value:{pageSn:n,beginTime:v,setBeginTime:I,showRule:w,setShowRule:k,setShowModal:y}},a.createElement(a.Fragment,null,f?a.createElement(K.Ay,{needCloseHide:!(g===X.STEP_TWO||!(r?.style_config?.big_turntable_clk_outside_close??1)&&g===X.STEP_ONE),isShowClose:!1,className:dt().baseStyle,onClick:()=>{if("function"==typeof t?.onClick&&t.onClick(),g!==X.STEP_TWO&&((r?.style_config?.big_turntable_clk_outside_close??1)||g!==X.STEP_ONE)){if(y(!1),c)return s?.(),void p?.();s?.(),E(!0),S(!0)}}},a.createElement("div",{id:M,className:o()(dt().baseWrap,{[dt().isHasBubbleContainer]:A})},A?a.createElement(de,{list:r?.style_config?.receive_dnld_coupon_carousel_module?.receive_records}):null,[X.STEP_ONE,X.STEP_TWO].includes(g)&&a.createElement(Ue,(0,q.A)({},t||{},{turnTableStep:g,onStepChange:C,data:r,onClose:T})),g===X.STEP_THREE&&a.createElement(Ve,(0,q.A)({},t||{},{onStepChange:C,data:r,onConfirm:l,onClose:T})),g===X.STEP_FOUR&&a.createElement(ct,(0,q.A)({},t||{},{isShowBubbleList:A,onStepChange:C,data:r,onClose:T,onDestory:()=>{y(!1),E(!1),p?.()}})))):a.createElement(a.Fragment,null,!!_&&a.createElement("div",null,g!==X.STEP_ONE||r?.style_config?.big_turntable_has_play?a.createElement(lt,{data:r,setShowModal:y,setStep:h,setShowFloat:E,hasAnimation:b,onFloatClose:x}):a.createElement(Fe,{data:r,setShowModal:y,setStep:h,setShowFloat:E,hasAnimation:b,onFloatClose:x})))))}U().extend(H());var pt=(0,z.withErrorBoundary)((e=>{let{isUniPopFinish:t=!0,popupProps:n,showFirstPop:r=!0,pageName:o,pageSn:i,extraParams:s,onShow:l,onClose:c,onFloatShow:u,onFloatClose:d,onDestory:m}=e;const[p,g]=(0,a.useState)(null),[h,f]=(0,a.useState)(null),[y,_]=(0,a.useState)(!1),[E,b]=(0,a.useState)(!1),S=(0,a.useRef)(!1),v=!p||!y||E;return(0,a.useEffect)((()=>{let e=null;return J&&!S.current&&t&&(S.current=!0,(async()=>{try{const t=await async function(e,t){if(!$.Bd)return null;const n=await(0,Se.k3)({componentType:"coupon_pop",pageSn:e,extraParams:t});if(n&&n.style_config&&n.show){const e=n.style_config.countdown_begin_time>0?n.style_config.countdown_begin_time:NaN,t=n.style_config.countdown_time>0?n.style_config.countdown_time:3600;return{...n,show:n.show,style_config:{...n.style_config,countdown_begin_time:e,countdown_time:t},has_shown_first_modal:e>0}}return null}(i,s);if(!t)return null;if([V.rE.SmsPop,V.rE.TableToSmsPop].includes(t?.style_config?.style_version))return;g(Q.BigTurnTable),f(t),t?.style_config?.delay_ms?e=setTimeout((()=>{_(!0)}),t?.style_config?.delay_ms??0):_(!0)}catch(e){}})()),()=>e&&clearTimeout(e)}),[t]),(0,a.useEffect)((()=>{b(!t)}),[t]),(0,a.useEffect)((()=>{!v&&p&&L({customTags:{subEvent:"modalShow",popupStyle:p}})}),[p,v]),v?a.createElement(a.Fragment,null):a.createElement(B.jP,null,!!h?.show&&p===Q.BigTurnTable&&a.createElement(mt,{popupProps:n,pageSn:i,nextData:h,showFirstPop:r,pageName:o,onShow:l,onClose:c,onFloatShow:u,onFloatClose:d,onDestory:m}))}),{FallbackComponent:j.A}),gt=n(17276);const ht=new class{constructor(){this.inited=!1,this.endMark=Date.now(),this.serverTime=Date.now(),this.initPromise=void 0,this.timer=void 0,this.syncTime(),this.timer=setInterval((()=>this.syncTime()),5e3)}init(){return this.initPromise,this.initPromise}syncTime(){this.initPromise=(async()=>{this.serverTime=await Date.now(),this.endMark=Date.now(),this.inited=!0})()}getRealTime(){return this.inited?Math.floor(Date.now()-this.endMark+this.serverTime):Date.now()}dispose(){clearInterval(this.timer)}};function ft(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=e.toString();for(;n.length<t;)n=`0${n}`;return n}function yt(e,t){return Math.max(e-(t??ht.getRealTime()),0)}ht.init();const _t=a.createContext({isServerToClientOneFrame:!1,pageServerTime:void 0});function Et(e){let{expireTime:t,onFinish:n,forceRenderKey:r,isStart:o=!0,leftTime:i,intervalTime:s=1e3}=e;const{pageServerTime:l,isServerToClientOneFrame:c}=(0,a.useContext)(_t),u=()=>o?"number"==typeof t&&t>=0?t:"number"==typeof i&&i>=0?c&&l?l+i:ht.getRealTime()+i:null:null;let d;c&&l&&(d=l);const[m,p]=(0,a.useState)({isStart:o,finalExpiredTime:u(),forceRenderKey:r}),g=function(e){const t=(0,a.useRef)(e);return t.current=e,t}({onFinish:n}),[h,f]=(0,a.useState)(null!==m.finalExpiredTime?yt(m.finalExpiredTime,d):null);if((0,a.useEffect)((()=>{const e=u();p({isStart:o,finalExpiredTime:e,forceRenderKey:r})}),[o,t,i,r,g]),(0,a.useEffect)((()=>{const{finalExpiredTime:e}=m;if(null===e)return void f(null);let t=yt(e);if(f(t),t<=0)return void g.current.onFinish?.();const n=setInterval((()=>{t=yt(e),f(t),t<=0&&(n&&clearInterval(n),g.current.onFinish?.())}),s||1e3);return()=>{n&&clearInterval(n)}}),[s,m,g]),!m.isStart||null===h)return{isStart:!1,totalAllDays:null,totalHH:null,totalMM:null,HH:null,mm:null,m:null,H:null,ss:null,s:null,ms:null,mss:null,totalHours:null,curLeftTime:null,curTime:ht.getRealTime()};const y=Math.max(h/1e3,0),_=Math.floor(y),E=Math.floor(y/60),b=Math.floor(y/60/60),S=Math.floor(y/60/60/24),v=ft(b),I=b%24,w=ft(b%24),k=E%60,N=_%60,A=h%1e3;return{isStart:null!==h,totalAllDays:S,totalHours:b,totalHH:v,totalMM:ft(E),H:I,HH:w,mm:ft(k),m:k,ss:ft(N),s:N,ms:A,mss:ft(A,3),curLeftTime:h,curTime:ht.getRealTime()}}var bt=(0,z.withErrorBoundary)((e=>{let{className:t,end_time:n,onFinish:r,timeClass:o,isLogin:i}=e;const{t:s}=(0,p.B)("bec-fe.popup-download-ui-pc",{keyPrefix:"PCSendCouponModal"}),{totalHH:l,mm:c,ss:u}=Et({expireTime:n||null,onFinish:()=>{r()}});return a.createElement("div",{className:t},a.createElement("div",{className:o},s(i?"loginCouponText":"countdownText")," ",l,":",c,":",u))}),{FallbackComponent:j.A});let St=function(e){return e[e.MONEY_TYPE=1]="MONEY_TYPE",e[e.DISCOUNT_TYPE=2]="DISCOUNT_TYPE",e}({}),vt=function(e){return e[e.HAS_QUA=1]="HAS_QUA",e[e.NO_QUA=2]="NO_QUA",e[e.CPN_USABLE=3]="CPN_USABLE",e}({}),It=function(e){return e[e.RISK=100]="RISK",e[e.RE_CLAIM=101]="RE_CLAIM",e[e.NOT_NEW_USER=103]="NOT_NEW_USER",e[e.HAS_COUPON=106]="HAS_COUPON",e[e.NETWORK_ERROR=102]="NETWORK_ERROR",e}({}),wt=function(e){return e.ph9Scence="ph9_independent",e.goodsInfoScence="goods_details_page",e}({}),kt=function(e){return e[e.commodity=10032]="commodity",e[e.ph9PageSn=13309]="ph9PageSn",e}({});const Nt=e=>{var t;t=()=>{const t=(0,b.Xu)(e);return()=>{t()}},(0,a.useEffect)((()=>t()),[])};var At=n(25539),Ct=n.n(At);var Tt=(0,z.withErrorBoundary)((e=>{const{t:t}=(0,p.B)("bec-fe.popup-download-ui-pc",{keyPrefix:"PCSendCouponModal"}),{couponData:n,isLogin:r,queryData:o}=e||{},i=n?.usable_cpn_list?.filter((e=>e.is_cur_act)),{max_discount_amount_info:s,min_amount_info:l}=i?.[0]||{},{coupon_threshold_info:c}=n||{},{cart_price_cpn_list:u}=c||{},{remain_amount_info:d,saved_amount_info:m}=u?.[0]||{};let g=0;if(d){const e=l?.amount;if(e&&d?.amount){const t=e-d.amount;g=t/e*100}}Nt(o);return a.createElement(a.Fragment,null,(()=>{if(r){if(d)return a.createElement("div",{className:Ct().progressBar},a.createElement("div",{className:Ct().text},a.createElement(Je.x,{ns:"bec-fe.popup-download-ui-pc",i18nKey:"addMore",t:t,values:{remainAmount:`${d?.amount_trim_str||""}`}},a.createElement("span",{className:Ct().amount}))),a.createElement("div",{className:Ct().outerProgress},a.createElement("div",{className:Ct().innerProgress,style:{width:`${Math.max(5,g)}%`}})));if(m){return m?.amount===s?.amount?m.amount?a.createElement("div",{className:Ct().capped},t("cappedAt",{cappedAmount:m.amount_trim_str})):null:m.amount?a.createElement("div",{className:Ct().minAmount},t("saved")," ",a.createElement("span",{className:Ct().money},m.amount_trim_str)):null}}})())}),{FallbackComponent:j.A}),xt=n(16277),Pt=n.n(xt);var Rt=(0,z.withErrorBoundary)((e=>{let{setClose:t,changeLoginDialog:n,isLogin:r,couponData:o,queryData:i}=e;const{t:s}=(0,p.B)("bec-fe.popup-download-ui-pc",{keyPrefix:"PCSendCouponModal"}),l=o?.usable_cpn_list?.filter((e=>e.is_cur_act)),{discount_param:c,discount_type:u,end_time:d}=l?.[0]||{},{end_time:m}=o||{};return a.createElement(he.Ay,{payload:{page_el_sn:r?215016:215012}},a.createElement("div",{className:Pt().iconWrap},a.createElement(gt.A,{src:"https://aimg.kwcdn.com/upload_aimg/sc/1046cc44-5a5c-4c1e-9daa-cf0c16dc8a2e.png.slim.png",className:Pt().closeIcon,onClick:()=>{t(!0)}}),a.createElement(gt.A,{src:r?"https://aimg.kwcdn.com/upload_aimg/sc/36df8be8-9e1a-44c8-b0d3-c3085203bab2.png.slim.png":"https://aimg.kwcdn.com/upload_aimg/sc/1de6d622-21a1-4e9a-87a6-4c1acddbabc2.png.slim.png",className:Pt().iconBg}),a.createElement("div",{className:Pt().couponDetail},!!c&&u===St.DISCOUNT_TYPE&&a.createElement("div",{className:Pt().discountWrap},a.createElement("div",{className:Pt().discount},100-c),a.createElement("div",{className:Pt().offWrap},a.createElement("div",{className:Pt().precent},s("percent")),a.createElement("div",{className:Pt().off},s("off")))),r?a.createElement(Tt,{isLogin:r,queryData:i,couponData:o}):a.createElement(bt,{end_time:d||m,className:Pt().countDown,timeClass:Pt().endsIn,onFinish:i,isLogin:r})),r?a.createElement(bt,{end_time:d||m,className:Pt().loginCountDown,timeClass:Pt().endsIn,onFinish:i,isLogin:r}):a.createElement("div",{className:Pt().loginBtn,onClick:()=>{(0,ge.E0)({page_el_sn:215012}),n(!0)}},s("signToGet"))))}),{FallbackComponent:j.A});var Mt=n(31255),Dt=n.n(Mt);const Bt=(0,z.withErrorBoundary)((e=>{const{t:t}=(0,p.B)("bec-fe.popup-download-ui-pc",{keyPrefix:"PCSendCouponModal"}),{isLogin:n,couponData:r,changeLoginDialog:o,queryData:i,scenceName:s,isShowIcon:l,setIsShowIcon:c,goodsSendCoupon:u}=e||{},d=r?.usable_cpn_list?.filter((e=>e.is_cur_act)),{discount_param:m,min_amount_info:g,max_discount_amount_info:h,discount_type:f,end_time:y}=d?.[0]||{},{end_time:_}=r||{};return(0,a.useEffect)((()=>{l||(!n&&localStorage.setItem(u,u),async function(e){let{scenceName:t}=e;(0,be.Ay)({method:"POST",url:"/api/generic/kiev/ads/pc/aty/popup/report",data:{atySn:"ads_pc_direct_take_coupon",popup_type:"ph9_independent"===t?"ph9_independent_take_coupon_popup":"goods_details_page_take_coupon_popup",op_type:"impr"}}).catch((e=>{(0,D.fL)(e)}))}({scenceName:s}))}),[l]),l?a.createElement(Rt,e):a.createElement(K.Ay,{isShowClose:!1,disableEsc:!0,className:Dt().baseStyle},a.createElement(he.Ay,{payload:{page_el_sn:n?215010:215007}},a.createElement("div",{className:Dt().modalWrap},a.createElement(gt.A,{src:"https://aimg.kwcdn.com/upload_aimg/sc/49ce0848-332e-4ada-9605-894c9d8646be.png.slim.png",className:Dt().closeIcon,onClick:()=>{c(!0)}}),a.createElement("div",{className:Dt().title,"data-attr":t(n?"exclusiveGift":"SurpriseGift")},a.createElement(gt.A,{src:"https://aimg.kwcdn.com/upload_aimg/sc/f675dd89-9b92-4321-a464-61f35a38c784.png.slim.png",className:Dt().leftStar}),a.createElement(gt.A,{src:"https://aimg.kwcdn.com/upload_aimg/sc/0ae80db0-00fd-47e1-8c34-b21ef89ecbf4.png.slim.png",className:Dt().yellowLight}),t(n?"exclusiveGift":"SurpriseGift"),a.createElement(gt.A,{src:"https://aimg.kwcdn.com/upload_aimg/sc/8dadfa2b-cf1b-4d10-9510-9a33637a959f.png.slim.png",className:Dt().rightStar})),a.createElement(gt.A,{src:"https://aimg.kwcdn.com/upload_aimg/sc/66dae0e5-c936-4667-b072-40c9ae1e6a3f.png.slim.png",className:Dt().couponBg}),a.createElement("div",{className:Dt().couponDetail},!!m&&f===St.DISCOUNT_TYPE&&a.createElement("div",{className:Dt().discountWrap},a.createElement("div",{className:Dt().discount},100-m),a.createElement("div",{className:Dt().offWrap},a.createElement("div",{className:Dt().precent},t("percent")),a.createElement("div",{className:Dt().off},t("off")))),!!n&&!!g?.amount&&a.createElement("div",{className:Dt().orders},t("orders",{minAmount:g?.amount_trim_str,maxAmount:h?.amount_trim_str}))),a.createElement(bt,{end_time:y||_,className:Dt().countDown,timeClass:Dt().endsIn,onFinish:i,isLogin:n}),!n&&a.createElement(he.Ay,{payload:{page_el_sn:215019}},a.createElement("div",{className:Dt().loginBtn,onClick:()=>{(0,ge.E0)({page_el_sn:215019}),o(!0)}},t("signToGet"))))))}),{FallbackComponent:j.A});var Ot=Bt,Lt=n(7338),Wt=n(47739),zt=(0,i.PA)((function(e){let{changeLoginDialog:t}=e;const[n,r]=(0,a.useState)(-1);return(0,a.useEffect)((()=>{(async()=>{const e=await(0,Lt.ON)(),{region:t}=e||{};r(Number(t??-1))})()}),[]),-1===n?null:a.createElement(a.Fragment,null,a.createElement(Wt.Ay,{loginScene:800,regionId:n,onCloseClick:()=>{t(!1)},onSuccess:()=>{location.reload()}}))})),Ft=n(52248),Ut=n(10147),Gt=n(1528),Ht=n(49330),Vt=n.n(Ht),jt=(0,i.PA)((function(e){const{t:t}=(0,p.B)("bec-fe.popup-download-ui-pc",{keyPrefix:"PCSendCouponModal"}),{setIsShowNoQualityPopup:n,takeCouponRes:r,couponData:o,setClose:i}=e,{status:s}=o||{},l=()=>{s===vt.CPN_USABLE?n(!1):i(!0)};return a.createElement(K.Ay,{onClick:l},a.createElement("div",{className:Vt().wrap},a.createElement("div",{className:Vt().close,onClick:l},a.createElement(Ft.rI,null)),(()=>{let e=t("backup_result_sub_title");switch(r?.take_fail_code){case It.RISK:e=t("risk_result_sub_title");break;case It.NOT_NEW_USER:e=t("not_new_user_fail_sub_title");break;case It.RE_CLAIM:case It.HAS_COUPON:e=t("has_coupon_title");break;case It.NETWORK_ERROR:e=t("error_default")}return a.createElement(a.Fragment,null,a.createElement("div",{className:Vt().riskTitle},t("opps_title")),a.createElement("div",{className:Vt().riskSubtitle},e))})(),a.createElement(Ut.A,{type:Gt.el.primary,className:Vt().btn,onClick:l},t("rule_ok"))))}));const qt="goods_send_coupon";var Kt=(0,i.PA)((function(e){let{scenceName:t}=e;const[n,r]=(0,a.useState)(!1),[o,i]=(0,a.useState)(!1),[s,l]=(0,a.useState)(null),[c,u]=(0,a.useState)(!0),[d,p]=(0,a.useState)(null),[g,h]=(0,a.useState)(!1),[f,y]=(0,a.useState)(!1),[_,E]=(0,a.useState)(!1),b=(0,a.useRef)(!1);let S;const v=async()=>{if(!t||!b.current)return;const e=await async function(e){let{scenceName:t}=e;return(0,be.Ay)({method:"POST",url:"/api/jade/victoria/single_coupon/take",data:{scene_name:t}}).catch((e=>{(0,D.fL)(e)}))}({scenceName:t}),n=e?.result||{};p(n),n?.take_suc?await S({isTakeApi:!0}):h(!0)};S=async e=>{const{isTakeApi:n,isShowModal:a}=e||{};if(!t||!b.current)return;const r=await async function(e){let{scenceName:t}=e;return(0,be.Ay)({method:"POST",url:"/api/jade/victoria/single_coupon/query",data:{scene_name:t}}).catch((e=>{(0,D.fL)(e)}))}({scenceName:t});if(r?.success){const e=r?.result||{};if(e.status&&[vt.HAS_QUA,vt.CPN_USABLE].includes(e.status)){i(!!e.is_login),l(e),e.status!==vt.CPN_USABLE||n||y(!0),n&&E(!0);const t=e?.usable_cpn_list?.filter((e=>e.is_cur_act));if(!t?.length)return void u(!0);e.is_login&&(e?.status===vt.HAS_QUA||a)&&await v(),u(!1)}else{if(a)return await v(),void u(!1);u(!0)}}},(0,a.useEffect)((()=>{const e=localStorage.getItem(qt),t=(0,m.Xe)(location.href);"true"!==t?._x_ph9_s_c_&&"/adver-tmpl-ph9.html"!==location.pathname||(b.current=!0,S({isShowModal:e}),e&&localStorage.removeItem(qt))}),[]),(0,a.useEffect)((()=>{let e;return _&&(e&&clearTimeout(e),e=setTimeout((()=>{y(!0)}),2e3)),()=>{e&&clearTimeout(e)}}),[_]);const I={changeLoginDialog:e=>{r(e)},isShowLogin:n,couponData:s,isLogin:o,close:c,setClose:u,scenceName:t,queryData:S,takeCouponRes:d,isShowIcon:f,setIsShowIcon:y,goodsSendCoupon:qt,setIsShowNoQualityPopup:h};return c?null:a.createElement(a.Fragment,null,g?a.createElement(jt,I):a.createElement(Ot,I),!!n&&a.createElement(zt,I))}));const $t=(0,i.PA)((function(e){const{pageSn:t}=e,[n,r]=(0,a.useState)(!1),[o,i]=(0,a.useState)("");return(0,a.useEffect)((()=>{const e=(0,m.Xe)(location.href);switch("true"!==e?._x_ph9_s_c_&&t!==kt.ph9PageSn||r(!0),t){case kt.commodity:i(wt.goodsInfoScence);break;case kt.ph9PageSn:i(wt.ph9Scence);break;default:i("")}}),[]),n?a.createElement(Kt,{scenceName:o}):a.createElement(pt,e)}));var Jt=n(43522),Yt=e=>a.createElement(a.Fragment,null,a.createElement(W,null),a.createElement(Jt.A,{enable:!0},a.createElement($t,{pageSn:e?.pageSn}))),Qt=n(3055),Xt=n(80924),Zt=n(53075),en=n(41900),tn=n(881),nn=n(5689);n(44114);var an=n(65309),rn=n(27114),on=n(59717),sn=n(17786),ln=n(21884),cn=n(21877),un=n(54403),dn=n(39831),mn=n(44798),pn=n(50878),gn=n(79085),hn=n(35606);const fn=e=>{let{offset:t,scene:n,listId:a,main_goods_id:r,top_goods:o,optId:i}=e;const s={offset:t,pageSize:20,scene:n,listId:a,main_goods_id:r,pageElSn:243789,top_goods:o,optId:i};return(0,gn.MW)({url:(0,gn.wU)("/api/poppy/v1/title_bar_recommend",s),params:s,config:{useAntiToken:!0}}).then((e=>{const{hasMore:t,data:n}=e?.result,{goodsList:a,optList:r,quickLook:o}=n||{},i=a?.filter((e=>(0,hn.H)(e)));return{goodsList:i.map((e=>({data:e,quickLook:o}))),hasMore:t&&!!a?.length,optList:r}})).catch((e=>({hasMore:!1})))},yn="rec_dialog",_n=-1;var En=n(46900),bn=n.n(En);const Sn=e=>{const{onClose:t,title:n,scene:r,mainGoodsId:o,topGoods:i,skuOptions:s,skuParams:l}=e,{t:c}=(0,p.B)("bec-fe.bui-web-goods-list"),{tabs:u,loadMore:d,onTabChange:m,currentTabData:g,hasInit:h}=(e=>{const{scene:t,mainGoodsId:n,topGoods:r}=e,[o,i]=(0,a.useState)([]),[s,l]=(0,a.useState)({}),[c,u]=(0,a.useState)(!1),[d,m]=(0,a.useState)(_n),p=s[d];(0,a.useEffect)((()=>{const e=`${yn}_${(0,mn.A)(22)}`;(async()=>{const a=await fn({scene:t,main_goods_id:n,listId:e,offset:0,top_goods:r}),{goodsList:o,optList:s,hasMore:c}=a||{},d=s?.map((e=>{const{optId:t}=e;return{key:e?.optId,label:e?.optName,trackingInfo:{opt_id:t,page_el_sn:243790}}}));i(d);const p=d?.[0]?.key??_n;l({[p]:{goodsList:o,hasMore:c,listId:e,optId:p}}),m(p),u(!0)})()}),[n,t,r]);const g=(0,pn.w)((async e=>{const{listId:a=`${yn}_${(0,mn.A)(22)}`,goodsList:r=[],optId:o=_n}=e||p,i=await fn({scene:t,main_goods_id:n,offset:r?.length||0,listId:a,optId:o}),{hasMore:s,goodsList:c=[]}=i||{};l((e=>({...e,[o]:{...p,listId:a,goodsList:[...r,...c],hasMore:s,optId:o}})))})),h=(0,pn.w)((e=>{m(e.key);const t=s[e.key]||{optId:e.key,hasMore:!0};!t.goodsList?.length&&t.hasMore&&g(t)}));return{tabs:o,loadMore:g,onTabChange:h,currentTabData:p,hasInit:c}})({scene:r,mainGoodsId:o,topGoods:i}),f=(0,a.useRef)(null),{goodsList:y,hasMore:_=!0,optId:E}=g||{};return a.createElement(on.A,{dialogProps:{className:bn().dialog}},a.createElement(on.A.Title,null,n),h?!!u?.length&&a.createElement(ln.tU,{data:u,needSplitWords:!0,type:cn.N.text,defaultActiveKey:E,classConfig:{wrapCls:bn().subOptsList},onChange:e=>{(e=>{f.current?.scrollTo?.(0,0),m(e)})(e)}}):a.createElement(sn.A,{className:bn().optTabWrapSkeleton,active:!0}),a.createElement("div",{className:bn().goodsListWrap,id:"#main_scale",ref:f},_||y?.length?a.createElement(dn.A,{datasource:y,goodsCardClassName:bn().goodsCardClassName,hasMore:!!_,loadMoreData:d,listClassName:bn().listClassName,pageElSn:243789,classConfig:{goodsContainer:{goodsItemWrap:bn().goodsItemWrap,goodsItem:bn().goodsItem}},loadMode:"auto",pageGoodsNum:10,skuOptions:s,skuParams:l,type:"dialog"}):a.createElement(un.A,{title:c("similarEmptyTitle"),desc:c("similarEmptyDesc"),imageConfigs:{svg:a.createElement(rn.A,{style:{width:"100%",height:"100%"}})},style:{width:"400px",margin:"80px auto 100px"}})),a.createElement(on.A.CloseButton,{onClick:t}))};var vn=n(95789),In=n(14511),wn=n(27092),kn=n(87837),Nn=n(82370),An=n(40782),Cn=n(40309),Tn=n(11941),xn=n(41866),Pn=n(99333),Rn=n(39878),Mn=n(8351),Dn=n(27907),Bn=n(85283),On=n(95733),Ln=n(29227),Wn=n(35846),zn=n.n(Wn);var Fn=(0,In.W4)({name:"ActivityRecGoodsItem"})((0,i.PA)((e=>{let{data:t,index:n,mainGoodsId:r}=e;const{cartAmount:i,thumbUrl:s,priceInfo:l,tagsInfo:c,salesTipText:u,salesTipTextList:d,goodsId:m,showMarketInfo:p,salesTip:g,p_rec:h,linkUrl:f,complianceInfo:y,extendFields:_}=t||{},{capsuleTags:E,activityIconTags:b,goodsTags:S}=c||{},{todayTags:v}=S||{},I=v?.[0]?.text,w=!!I?.length,{iconImg:k,color:N,text:A,backColor:C}=E?.[0]||{},{salesTipValue:T,useNewSalesTip:x}=(0,Pn.A)({salesTipText:u,salesTipTextList:d}),P=(0,Rn.RF)(l,"","10032",m),R=T,M={idx:n,main_goods_id:r,goods_id:m,source_goods_id:r,rec_goods_id:m,...{show_currency:l?.currency,show_price:l?.price||(l?.priceText?.length>1?100*+l.priceText[1]:""),show_sales:R&&R.length>0?R[0]:"",p_rec:h}};return a.createElement(kn.nU,{page_el_sn:243227,others:M},a.createElement("div",{className:zn().wrap,onClick:()=>{f&&(0,Zt.MJ)((0,Ln.LV)(f))},tabIndex:0,role:"link"},a.createElement("div",{className:zn().top},s?a.createElement(On.A,{src:s,className:zn().goodsImg,alt:""}):null,A?a.createElement("div",{style:{color:N,background:C},className:o()(zn().tag,{[zn().defaultTagStyle]:!C})},k?a.createElement(On.A,{alt:"",src:k,className:zn().icon}):null,A):null,y?.iconInfo?a.createElement(Bn.A,{type:1,data:y?.iconInfo}):_?.engIcon&&a.createElement(Mn.A,{data:_?.engIcon,goodsId:m})),a.createElement(Dn.A,{price:P?.showPriceStr,pricePrefix:P?.unitPrefix,priceSuffix:P?.unitSuffix,priceColor:P?.priceColor,splitPriceText:P?.splitPriceText,textBeforePrice:w,marketPrice:p?null:P.showMarketPriceStr,lazy:!0,activityIconInfo:b?.[0],className:zn().saleInfo,useNewSalesTip:x,marketPriceIcon:P?.marketPriceIcon,sales:g,salesArray:R})))}))),Un=n(97559),Gn=n.n(Un);var Hn=(0,In.W4)({name:"ActivityRecommend"})((0,i.PA)((()=>{const e=(0,a.useRef)(),{activityRecStore:t,query:n}=(0,N.Pj)(),{goods_id:r}=n||{},{queryData:i,mainTitle:s,subTitle:l,goodsList:c}=t,{text:u,bgColor:d,image:p,url:g,color:h}=s||{},{text:f}=l||{};(0,a.useEffect)((()=>{i()}),[]);const y=(0,a.useMemo)((()=>c?.map((e=>e.goodsId))||[]),[c]);return!c?.length||c?.length<=4||!u?null:a.createElement("div",{className:Gn().wrap,style:{borderColor:d}},a.createElement("div",{className:Gn().title,onClick:()=>{const{scene:e}=(0,m.Xe)(g)||{},t=(0,vn.A)(a.createElement(Sn,{onClose:()=>t?.(),title:u,skuOptions:{frontControl:{supportPersonalize:!0},showAdded:!0,pageSn:xn.LM},skuParams:{_oak_page_source:250},mainGoodsId:r,topGoods:y,scene:e}),{})},tabIndex:0,role:"button",style:{backgroundColor:d}},a.createElement(kn.nU,{page_el_sn:243226},a.createElement("div",{className:Gn().titleContent},u?a.createElement("div",{className:Gn().textLeft,style:{color:h}},u,a.createElement(an.d,null,a.createElement(wn.A,{className:Gn().textLeftArrow,style:{fill:h}}))):null,f?a.createElement("div",{className:Gn().textRight},f):null,p?a.createElement(Nn.Ay,{src:p,className:Gn().rightIcon,alt:""}):null))),a.createElement("div",{className:Gn().list},a.createElement(An.pM,{customArrows:a.createElement(Tn.Ay,{arrowMask:Gn().splideArrowMask,onArrowClick:t=>{(0,Tn.ev)(t,e)},rightArrow:o()(Gn().arrow,Gn().rightArrow),leftArrow:o()(Gn().arrow,Gn().leftArrow),baseArrowBtn:Gn().baseArrow}),pageSize:1,ref:e,options:{focus:""}},c.map(((e,t)=>a.createElement(Cn.Nn,{key:t,className:Gn().item},a.createElement(Fn,{data:e})))))))}))),Vn=n(63815),jn=n(12970),qn=n(73035);let Kn=function(e){return e[e.Dialog=100322]="Dialog",e}({}),$n=function(e){return e[e.offical=0]="offical",e}({}),Jn=function(e){return e[e.AdulthoodPopup=0]="AdulthoodPopup",e[e.MinorRefusalPopup=1]="MinorRefusalPopup",e[e.AgeVerifyPopup=2]="AgeVerifyPopup",e}({}),Yn=function(e){return e[e.img=1]="img",e}({}),Qn=function(e){return e.Direct="1",e.Authorized="2",e}({}),Xn=function(e){return e.VIDEO="video",e.IMAGE="image",e.PDF="pdf",e}({}),Zn=function(e){return e[e.inline=0]="inline",e[e.buttons=1]="buttons",e[e.list=2]="list",e}({}),ea=function(e){return e[e.img=1]="img",e[e.video=2]="video",e[e.text=3]="text",e}({}),ta=function(e){return e[e.none=0]="none",e[e.bottomAndExpand=1]="bottomAndExpand",e[e.bottom=2]="bottom",e}({}),na=function(e){return e[e.text=0]="text",e[e.icon=100]="icon",e}({}),aa=function(e){return e[e.Text=1]="Text",e[e.Cart=2]="Cart",e[e.CooperateInfo=3]="CooperateInfo",e[e.ExpectShippingInfo=4]="ExpectShippingInfo",e}({}),ra=function(e){return e[e.Normal=0]="Normal",e[e.Fold=1]="Fold",e[e.UseMaxProcessForBenchmark=2]="UseMaxProcessForBenchmark",e[e.All=3]="All",e}({}),oa=function(e){return e[e.BUTTON=1]="BUTTON",e[e.GALLERY=2]="GALLERY",e[e.DETAIL=3]="DETAIL",e}({});var ia=(0,In.W4)({name:"AgeConfirmation"})((0,i.PA)((function(){const e=(0,a.useRef)(0),t=(0,N.Pj)(),{moduleMap:n,$service:r}=t,{ageConfirmationPopupModule:o}=n||{},i=()=>{location.reload()},s=async e=>{(0,Vn.Nx)();const t=await r.reportAdult({adult:e,scene:3}).finally((()=>(0,Vn.jD)())),{success:n,result:a}=t||{};return n&&a},l=()=>{(0,Zt.MJ)("/")};return(0,a.useEffect)((()=>{const{data:t,showModule:n}=o||{},{popupRich:r,popupType:c}=t?.popup||{},u=[Jn.AdulthoodPopup,Jn.MinorRefusalPopup];1===n&&r?.textRich?.length&&u.includes(c)&&0===e.current&&(e.current++,(0,qn.P)({popupNode:a.createElement(jn.rd,{popupRich:r,popupType:c,refresh:i,report:s,logger:A.A,cancel:l,prohibit:l,close:l})}))}),[o]),null}))),sa=n(94971);var la=(0,Xt.A)((0,In.W4)({name:"GoogleShopping"}),i.PA)((()=>{const{googleShoppingJson:e}=(0,N.Pj)();return e?a.createElement("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:e}}):null})),ca=n(62193),ua=n.n(ca),da=n(66315),ma=n(22350),pa=n(85829),ga=n(24828),ha=n(44155);let fa=function(e){return e[e.Carousel=1]="Carousel",e[e.Detail=2]="Detail",e[e.Video=6]="Video",e[e.WhiteImg=12]="WhiteImg",e[e.NewCarousel=13]="NewCarousel",e[e.Custom=17]="Custom",e[e.Spec=-1]="Spec",e}({}),ya=function(e){return e[e.Normal=1]="Normal",e[e.OffShelf=2]="OffShelf",e[e.SoldOut=3]="SoldOut",e[e.Delete=4]="Delete",e[e.Risk=5]="Risk",e[e.SEOSoldOut=8]="SEOSoldOut",e}({}),_a=function(e){return e[e.NotExist=49001]="NotExist",e[e.NeedVerify=54001]="NeedVerify",e[e.Limit=4000004]="Limit",e}({}),Ea=function(e){return e[e.text=0]="text",e[e.img=6]="img",e[e.countdown=7]="countdown",e}({}),ba=function(e){return e[e.temu=1]="temu",e[e.local=2]="local",e[e.semiHosted=3]="semiHosted",e}({}),Sa=function(e){return e[e.Add=1]="Add",e[e.Update=2]="Update",e[e.Delete=3]="Delete",e}({}),va=function(e){return e[e.Lightning=2]="Lightning",e}({}),Ia=function(e){return e.TimeLimitedActivity="timeLimitedActivity",e}({}),wa=function(e){return e[e.AllFreeShopping=2]="AllFreeShopping",e[e.ShopFreeShopping=100]="ShopFreeShopping",e[e.SingleGoodsFreeShopping=101]="SingleGoodsFreeShopping",e[e.ShopFreeShoppingAddCartNotStandard=102]="ShopFreeShoppingAddCartNotStandard",e[e.ShopFreeShoppingAddCartEmpty=103]="ShopFreeShoppingAddCartEmpty",e}({}),ka=function(e){return e[e.GoodsDetail=1]="GoodsDetail",e[e.DefaultSkuSelector=2]="DefaultSkuSelector",e[e.OuterSkuSelector=3]="OuterSkuSelector",e}({});var Na=(0,i.PA)((e=>{let{children:t,allInCenterLayout:n,enableScale:r,enableScaleTo768:o}=e;const i=(0,N.Pj)(),{webLayoutData:s,query:l,addOrderInfoStore:c,goods:u,grayConfig:d,switches:m}=i,{order:p,isFromAddOrderPage:g}=c,h=!!p?.allowPurchase,{disableSoldoutPmm:f=!1}=m||{};return(0,a.useEffect)((()=>{ua()(u)||u.status===ya.Risk||f&&u.status===ya.SoldOut||(0,pa.A)({query:l,grayConfig:d}),(0,ga.B)(i)}),[]),a.createElement(da.I,{generateHref:e=>{let{seoUrl:t,url:n,displayUrl:a,jumpUrl:r,index:o,pageElSn:i}=e;const s=r||n;return a||t?.split("?")[0]||s||""}},a.createElement(ma.Z,(0,q.A)({allInCenterLayout:n,renderHeader:h&&g?()=>a.createElement(ha.A,null):null,enableScale:r,enableScaleTo768:o},s,{enableFixedActivityInfo:!0}),t))})),Aa=n(24808),Ca=n(56733),Ta=n(46694),xa=n(33064),Pa=n(30637),Ra=n(17021),Ma=n(94454),Da=n(70868),Ba=n(40467),Oa=n(46272),La=n(55085),Wa=n(42218),za=n(55350),Fa=n(20162),Ua=n(82304),Ga=n(65014),Ha=n(35396),Va=n(73572),ja=n(34678),qa=n(70941),Ka=n.n(qa);var $a=(0,Xt.A)((0,In.W4)({name:"ModuleAfterSale"}),i.PA)((()=>{const{t:e}=(0,p.B)("goods"),{moduleAfterSale:t}=(0,N.Pj)(),{servicePromiseTitle:n,iconUrl:r,servicePromiseDialogTitle:o,servicePromiseItemList:i}=t||{},{textRich:s}=n||{};if(!s?.length)return null;const l=s[s.length-1]?.fontColor||"#222222",c=s.map((e=>e?.type===Ha.aV.text?{...e,fontSize:16}:e));return a.createElement(kn.Rp,{page_el_sn:200359},a.createElement("div",{className:Ka().wrap,"aria-hidden":!0,onClick:()=>{i?.length&&((0,qn.P)({popupNode:a.createElement(ja.A,{title:o,onClose:qn.L},a.createElement("div",null,i?.map((e=>{const{icon:t,contentList:n,itemTitle:r,linkText:o,linkUrl:i}=e||{};return a.createElement("div",{className:Ka().part},a.createElement("div",{className:Ka().title},a.createElement(On.A,{className:Ka().titleIcon,src:t,alt:""}),a.createElement("span",{className:Ka().text},r)),a.createElement("div",{className:Ka().contentList},n?.map((e=>a.createElement("div",{className:Ka().listItem},e)))),o?a.createElement("div",{className:Ka().learnMore,onClick:()=>{i&&(0,Zt.MJ)(i)},role:"button",tabIndex:0},o,a.createElement(wn.A,{className:Ka().rightIcon})):null)}))))}),(0,A.A)("ModuleAfterSalePopup"))},tabIndex:0,"aria-label":e("accessibility.freeReturnPopup"),role:"button","aria-haspopup":"dialog"},!!r&&a.createElement(On.A,{src:r,className:Ka().icon,"aria-hidden":!0,alt:""}),a.createElement(I.H2,{className:Ka().richTextWrap},a.createElement(Va.l5,{newRichText:{...n,textRich:c},className:Ka().richText,style:{textAlign:"left",...l?{color:l}:{}}})),a.createElement(wn.A,{className:Ka().arrow,"aria-hidden":!0,style:l?{fill:l}:{}})))}));var Ja=(0,Xt.A)((0,In.W4)({name:"AfterSale"}),i.PA)((()=>{const e=(0,N.Pj)(),{moduleAfterSale:t}=e;return t?.servicePromiseTitle?a.createElement($a,null):null})),Ya=n(71651),Qa=n.n(Ya);var Xa=(0,Xt.A)((0,In.W4)({name:"CodBenefit"}),i.PA)((()=>{const{t:e}=(0,p.B)("global"),{moduleMap:t}=(0,N.Pj)(),{codBenefit:n}=t?.codModule?.data||{},{title:r,desc:o,dialog:i}=n||{},{textRich:s}=r||{};if(!s?.length)return null;const l=s?.find((e=>e?.type===Ha.aV.text)),c=l?.fontColor||"#222222";return a.createElement(kn.nU,{page_el_sn:244037},a.createElement("div",{className:Qa().wrap,"aria-hidden":!0,onClick:()=>{const{title:t,content:n}=i||{};n?.length&&((0,qn.P)({popupNode:a.createElement(ja.A,{size:"md",onClose:qn.L,title:t,confirmButtonLabel:a.createElement(kn.nU,{page_el_sn:244038},a.createElement("div",null,e("OK"))),onConfirm:qn.L},a.createElement("div",{className:Qa().content},n.map(((e,t)=>a.createElement("div",{key:t,className:Qa().itemWrap},a.createElement("div",{className:Qa().dot}),a.createElement("div",{className:Qa().item},e))))))}),(0,A.A)("CodBenefitDialog"))},tabIndex:0,role:"button","aria-haspopup":"dialog"},a.createElement("div",{className:Qa().title},a.createElement(I.H2,{className:Qa().richTextWrap},a.createElement(Va.l5,{newRichText:r,className:Qa().richText,style:{textAlign:"left",...c?{color:c}:{}}})),a.createElement(wn.A,{className:Qa().arrow,"aria-hidden":!0,style:c?{fill:c}:{}})),o?.textRich?.length?a.createElement(Va.l5,{className:Qa().contentWrap,newRichText:o,style:{textAlign:"left"}}):null))})),Za=n(40639),er=n(20755),tr=n(83288),nr=n(24478),ar=n(22284);const rr=e=>{const{scene:t,url:n,grayConfig:r,prefetchConfig:o,pageName:i}=e,s={pageName:i,...o},l=(0,a.useMemo)((()=>(0,m.rE)({click_scene:t},n)),[n,t]),{prerender:c=0,delay:u=4e3}=r||{},d=(0,a.useMemo)((()=>({timestamp:!0,delay:u,callback:e=>(e=>{let{countCreatePrerenderUrl:t,pageName:n}=e;(0,ar.A)({event:`prerender_link_append_4_${n}`,scene:11,errorCode:t<=1?1:0,indexValue:[t]})})({...e,pageName:i})})),[u]),{appendPrefetch:p}=(0,tr.B)(s),g=(0,a.useCallback)((()=>{c&&s?.assetsApi&&p()}),[p,c]),{appendPrerender:h,onNavigate:f}=(0,nr.vN)({url:l,open:!!c,createPrerenderUrlPayload:d}),y=(0,a.useCallback)((e=>{1==+e?.buttons&&h()}),[h]),_=(0,a.useCallback)((()=>{if(!l)return null;f((e=>{let{url:n,countCreatePrerenderUrl:a}=e;(0,ar.A)({scene:t,event:`goto${i}`,errorCode:t,extra:{url:n,gray:r},indexValue:[a]})}),{uniformForwardParams:{openTarget:"_blank"}})}),[r,f,t]);return{onMouseEnter:g,onMouseDown:y,onClick:_}},or=(e,t)=>{const{className:n,children:r,grayConfig:o,prefetchConfig:i,url:s,pageName:l,trackingInfo:c,...u}=e,{prerender:d=0}=o||{},m=(0,a.useRef)(!1),{onMouseEnter:p,onMouseDown:g,onClick:h}=rr({scene:11,grayConfig:o,prefetchConfig:i,url:s,pageName:l});return a.createElement("div",(0,q.A)({ref:t,role:"link",tabIndex:0,className:n,onMouseEnter:p,onMouseDown:e=>{m.current=!0,g(e)},onMouseUp:e=>{m.current=!1},onClick:e=>{c?.page_el_sn&&(0,ge.E0)(c),h()},onMouseLeave:e=>{d&&m.current&&(c?.page_el_sn&&(0,ge.E0)(c),h()),m.current=!1}},u),r)};var ir=(0,a.forwardRef)(or),sr=n(83427),lr=n.n(sr);var cr=(0,In.W4)({name:"TitleWithIcon"})((e=>{let{icon:t,iconProps:n={},title:r,color:i,hideArrow:s=!1,hideClickStyle:l=!0,style:c,className:u,arrowStyle:d,iconColor:m,...p}=e;return a.createElement("div",(0,q.A)({},p,{className:o()(lr().leftTitle,u,!s&&l&&lr().clickable),style:{...c,color:i}}),a.createElement(t,{className:o()(lr().titleIcon,n.className),style:{fill:m||i},"aria-hidden":!0}),a.createElement(I.H2,{className:lr().itemTitle,style:{color:i},"aria-hidden":!0},r),s?null:a.createElement(Ra.hu,{"aria-hidden":!0,className:lr().arrow,style:{fill:i,...d}}))})),ur=n(60995),dr=n.n(ur);const mr="confidence";var pr=function(e){return e[e.security=0]="security",e[e.delivery=1]="delivery",e}(pr||{});const gr=(0,i.PA)((function(e){let{data:t,grayConfig:n,url:r,trackingInfo:i}=e;const{title:s,titleColor:l,contentList:c}=t,{leftList:u,rightList:d}=(0,a.useMemo)((()=>{const e=[],t=[];return c.length<3?{leftList:c,rightList:t}:(c.forEach(((n,a)=>{a%2!=0?t.push(n):e.push(n)})),{leftList:e,rightList:t})}),[c]);return s?a.createElement(Cn.Nn,{className:dr().infoItem},a.createElement(ir,{url:r,pageName:mr,grayConfig:n?.cp149563||{},"aria-label":s,trackingInfo:i},a.createElement("h3",{className:dr().infoTitle,style:{color:l}},s),a.createElement("div",{className:dr().list},a.createElement("div",{className:o()(d?.length?dr().halfLeft:dr().left)},u.map(((e,t)=>{let{text:n}=e;return a.createElement("div",{key:t,className:dr().item,tabIndex:0,role:"button","aria-label":n},a.createElement(Za.A,{className:dr().titleIcon,alt:""}),n)}))),!!d?.length&&a.createElement("div",{className:dr().right},d.map(((e,t)=>{let{text:n}=e;return a.createElement("div",{key:t,className:dr().item,tabIndex:0,role:"button","aria-label":n},a.createElement(Za.A,{className:dr().titleIcon,alt:""}),n)})))))):null}));var hr=(0,Xt.A)((0,In.W4)({name:"Commitment"}),i.PA)((()=>{const e=(0,N.Pj)(),{commitment:t,grayConfig:n}=e,{title:r,titleColor:i,subCommitmentList:s,landingUrl:l,iconUrl:c,subCommitmentLandingUrl:u}=t||{},[d,p]=(0,a.useState)(!0),g=(0,a.useRef)();(0,a.useEffect)((()=>{const e=()=>{const{splideRef:e}=g.current||{},t=e?.current?.splide;if(!t)return;const n=t.Components.Slides.get(),a=n.filter((e=>(0,An.Jj)(t.root,e.slide)))?.length;p(a<n.length)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]);const h=e=>{const{splideRef:t}=g.current||{},n=t.current?.splide;if(!n)return;const a=n.index,r=n.Components.Slides.get(),o=r.filter((e=>(0,An.Jj)(n.root,e.slide)))?.length,i="next"===e?a+o:a-o;n.go(Math.max(r?.[0].index,Math.min(i,r?.[r?.length-1].index)))};return r?a.createElement(kn.Rp,{page_el_sn:227190,useClick:!1},a.createElement("div",{className:dr().wrap},a.createElement(kn.Rp,{page_el_sn:227191},a.createElement(ir,{url:l,pageName:mr,grayConfig:n?.cp149563||{},"aria-label":r},a.createElement(cr,{icon:e=>{let{className:t}=e;return c?a.createElement(On.A,{src:c,className:t,"aria-hidden":!0,resizeWidth:40,alt:""}):null},title:r,color:i}))),!!s?.length&&a.createElement(kn.Rp,{page_el_sn:227192,useClick:!1},a.createElement("div",{className:o()(dr().contentItem,{[dr().arrowSpace]:d})},a.createElement(An.pM,{ref:g,customArrows:a.createElement("div",{className:o()("splide__arrows",dr().arrowMask)},a.createElement("div",{style:{opacity:0,display:"none"},className:o()("splide__arrow splide__arrow--prev",dr().leftArrow,dr().arrow),role:"button"},a.createElement(er.A,{direction:"left",className:dr().baseArrowBtn,innerArrowClassName:dr().innerArrowIcon,onClick:()=>h("prev")})),a.createElement("div",{style:{opacity:0,display:"none"},className:o()("splide__arrow splide__arrow--next",dr().rightArrow,dr().arrow),role:"button"},a.createElement(er.A,{direction:"right",className:dr().baseArrowBtn,innerArrowClassName:dr().innerArrowIcon,onClick:()=>h("next")}))),onMoved:(e,t,n)=>{(0,ge.OS)({page_el_sn:227192,op:t>n?"right_slide":"left_slide"})},trackClassName:dr().trackClassName},s.map(((e,t)=>a.createElement(gr,{data:e,key:t,grayConfig:n,url:u?.[t]||(l?(0,m.rE)({target:pr[t]},l):""),trackingInfo:{page_el_sn:227192,content_type:t}})))))))):null})),fr=n(72620),yr=n(86080),_r=n(92943),Er=n(35057),br=n(79481),Sr=n(5220),vr=n(12377),Ir=n.n(vr);const wr=e=>{let{richText:t=[],ignoreFontSize:n,basicStyleConfig:r,DialogComponent:i,isSingleShipping:s,hideDeliveryCompany:l,etc:c,maxDisplayProvider:u}=e;const{t:d}=(0,p.B)("goods"),m=(0,a.useRef)(null),g=(0,a.useRef)(null),{image:h,delimeter:f}=r||{},{marginRight:y}=h||{},_=(0,a.useMemo)((()=>{if(u){let e=0;return t?.filter((t=>{const{type:n,image:a}=t||{};return 1===n&&a?.url&&(e+=1),e<=u}))}return t}),[t,u]),E=_?.length<t?.length,[b,S]=(0,a.useState)(_||[]),[v,I]=(0,a.useState)(!1),w={type:101,text:c||d("deliveryEtc"),etc:!0,style:{color:"#222"}},k={type:2,text:"",customType:1,etc:!0};return(0,a.useEffect)((()=>{if(!m.current||!_?.length)return void I(!0);const e=m.current.children,t=m.current.parentElement,n=(t?.clientWidth??320)-24-(g.current?.clientWidth||24);let a=0;const r=[];let o=0;for(let t=0;t<e.length;++t){const r=e[t],{width:i}=r?.getBoundingClientRect?.()||{},{type:s,etc:l}=r?.dataset||{};if(l||(a+=i),"1"===s){if(a>n)break;o++}}if(a<n){I(!0);const e=b[b?.length-1]?.etc;return void(l&&!e?S((e=>[...e,k,w])):E&&S((()=>[..._,w])))}if(0===o)return S(_.slice(0,3)),void I(!0);for(let e=0;e<_.length&&(r.push(_[e]),1===_[e]?.customType&&o--,!(o<=0));++e);const i=_.filter((e=>1===e.type))?.length,s=r.filter((e=>1===e.type))?.length;(i-s>0||E)&&r.push(w),S(r),I(!0)}),[_]),a.createElement("div",{className:o()(Ir().wrap,{[Ir().multipleText]:!s,[Ir().singleText]:s,[Ir().nowrap]:s&&!v}),ref:m,style:{visibility:v?"visible":"hidden"}},b.map(((e,t)=>{const{type:r=0}=e||{};switch(r){case 1:return a.createElement("div",{className:Ir().subText,key:t},a.createElement(br._V,{item:e,imageMarginRight:y,resizeWidth:100,alt:""}));case 2:case 4:return a.createElement("div",{className:Ir().subText,"data-type":e.customType,key:t,"data-etc":e.etc},1===e.customType?a.createElement("span",{key:t,className:Ir().dot}):a.createElement(br.er,{item:e,delimeterConfig:f}));case 101:return a.createElement("div",{className:Ir().subText,key:t,"data-etc":e.etc},a.createElement("span",{"aria-label":e.text,style:e.style},e.text));default:return a.createElement("div",{className:o()(Ir().subText,Ir().firstText),key:t},a.createElement(br.EY,{item:e,ignoreFontSize:n,DialogComponent:i,type:r}))}})),a.createElement("div",{className:Ir().etcWrap,ref:g},a.createElement("span",{"aria-label":w.text,style:w.style},w.text)))};var kr=(0,In.W4)({name:"CompanyDisplay"})((0,a.memo)(wr)),Nr=n(44101),Ar=n(59661),Cr=n(32495),Tr=n(18972),xr=n.n(Tr);const Pr=e=>{let{popText:t,logoUrl:n,btnText:r}=e;const o=e=>{(0,ge.E0)({page_el_sn:e}),(0,qn.L)({})};return a.createElement(ja.A,{onClose:()=>o(231771),onConfirm:()=>o(231772),confirmButtonLabel:r},a.createElement(kn.nU,{page_el_sn:231770,useClick:!1},a.createElement("div",{className:xr().wrap},n?a.createElement(On.A,{src:n,resizeWidth:500,className:xr().img}):null,a.createElement("div",{className:xr().text},t))))};(0,In.W4)({name:"CooperateInfoPopup"})(Pr);var Rr=n(63622),Mr=n.n(Rr);const Dr=e=>{let{onClose:t,title:n,list:r}=e;return a.createElement(Ar.Ay,{onClick:t},a.createElement("div",{className:Mr().wrap},a.createElement("div",{className:Mr().title},n),a.createElement("div",{className:Mr().content},r.map(((e,t)=>{const{title:n,desc:r}=e;return a.createElement("div",{className:Mr().part,key:t},a.createElement("div",{className:Mr().index},t+1),a.createElement("div",{className:Mr().subTitle},n),a.createElement("div",{className:Mr().desc},r))})))))};var Br=n(20657),Or=n(12449),Lr=n.n(Or);const Wr=e=>{let{percent:t,processCls:n=""}=e;const r=(0,a.useMemo)((()=>{const e={width:`${t}%`};return 0===t?{...e,minWidth:0}:e}),[t]);return a.createElement("span",{className:o()(Lr().progress,n)},a.createElement("i",{className:Lr().progressBar,style:r}))};var zr=(0,a.memo)(Wr),Fr=n(50544),Ur=n.n(Fr);const Gr=5,Hr=e=>{let{data:t,className:n,labelCls:r="",processCls:i="",numCls:s="",isFold:l,showNum:c=Gr,useMaxProcessForBenchmark:u}=e;const{t:d}=(0,p.B)("goods"),m=l&&t?.length>c,[g,h]=(0,a.useState)(m),[f,y]=(0,a.useState)((()=>m?t.slice(0,c):t)),_=(0,a.useMemo)((()=>Math.max(...t?.map?.((e=>e.percentage))||[])),[t]);return f?.length?a.createElement("div",{className:o()(Ur().timeDistributed,n)},a.createElement("div",{className:Ur().timeList},f.map((e=>{const t=u&&_>0?e.percentage/_*100:e.percentage/100;return a.createElement(a.Fragment,null,a.createElement("div",{key:e.name,className:o()(Ur().label,r,e.highlight&&Ur().highlight)},e.name),a.createElement("div",{key:e.percentage,className:Ur().processWrap},a.createElement(zr,{processCls:o()(Ur().process,i),percent:t})),a.createElement("div",{key:e.percentageStr,className:o()(Ur().num,s)},e.percentageStr||e.percentage/100+"%"))}))),g?a.createElement("div",{className:Ur().seeMore,onClick:()=>{y(t),h(!1)}},a.createElement("span",{className:Ur().seeMoreText},d("main_detail.seeMore")),a.createElement(Br.A,{className:Ur().arrow})):null):null};var Vr=(0,a.memo)(Hr),jr=n(80932),qr=n.n(jr);const Kr=e=>{let{activePopupInfo:t,curIndex:n,activeIndex:r,uploadContainerRef:i,etc:s,webpEnable:l,timeDistributedGrayData:c}=e;const{t:u}=(0,p.B)("goods"),{content:d,deliveryType:m,pickUp:g,environmentInfo:h,extInfoV2:f,airChangeToSeaExplain:y,extInfoRich:_}=t||{},{clickToGuide:E,explanationList:b,explanationTitle:S}=g||{},v=t.table||{},I=(0,a.useMemo)((()=>t.timeDistributed||[]),[t.timeDistributed]),{deliveryTimelinessStyle:w,deliveryTimelinessMaxNum:k}=c||{},N=t?.extInfo||"",{costsTitle:A,costsValue:C,deliveryCompanyTitle:T,deliveryCompanyValue:x,deliveryTimeTitle:P,deliveryTimeValue:R,creditCompensationTitle:M,creditCompensationValue:D,gradientCostValue:B,gradientCostTitle:O,gradientOrderAmountTitle:L,gradientOrderAmountValue:W,hideDeliveryCompany:z}=v||{},[F,U]=(0,a.useState)(!0),[G,H]=(0,a.useState)(!1),V=(0,a.useRef)(null),j=(0,a.useRef)(null),q=(0,a.useMemo)((()=>[{key:L,val:W},{key:O,val:B},{key:M,val:D}].filter((e=>!ua()(e.key?.[0])&&!ua()(e.val?.[0])))),[M,D,O,B,L,W]),K=q?.reduce(((e,t)=>Math.max(t?.val?.length||0,e)),1),$=(0,a.useRef)(null);(0,a.useEffect)((()=>{i($)}),[]);let J={visibility:"hidden",position:"fixed",zIndex:-1e3};r===n&&(J={visibility:"visible",position:"static",zIndex:0}),(0,a.useEffect)((()=>{if(j.current&&V.current){if(H(!0),j.current?.offsetHeight>V.current?.offsetHeight)return U(!1);U(!0)}}),[V.current,j.current]);const Y=()=>{const e=(0,vn.A)(a.createElement(Dr,{title:S,list:b,onClose:()=>e()}),{})},Q=()=>{U(!0)},X=C?.length>1,Z=e=>{let{popText:t,coLogo3:n}=e;t&&n?.logoUrl&&(e=>{let{popText:t,logoUrl:n,btnText:r}=e;(0,qn.P)({popupNode:a.createElement(Pr,{logoUrl:n,popText:t,btnText:r})})})({popText:t,logoUrl:n.logoUrl,btnText:u("cooperateInfoPopup.btnText")})};return a.createElement("div",{className:o()(qr().container,`deliveryPopupContent${n}`),style:J,ref:$},(()=>{const{coLogo2:e,coLogo3:n,logoText:r,popText:o,wordColor:i,backColor:s}=t?.cooperateInfo||{};return a.createElement(a.Fragment,null,e?.logoUrl&&r?a.createElement(kn.nU,{page_el_sn:231788,useClick:!1},a.createElement("div",{className:qr().cooperateInfo,onClick:()=>Z(t?.cooperateInfo),style:{...s?{backgroundColor:s}:{}},"aria-hidden":!0},a.createElement(Nn.Ay,{className:qr().cooperateInfoImg,src:e.logoUrl,resizeWidth:700,alt:""}),a.createElement("div",{className:qr().cooperateInfoRight},a.createElement("span",{className:qr().cooperateInfoText,style:{...i?{color:i}:{}}},r),o&&n?.logoUrl?a.createElement(Ft.hu,{className:qr().cooperateInfoArrow,style:{...i?{fill:i}:{}}}):null))):null)})(),a.createElement("div",{className:qr().tableContainer},a.createElement("div",{className:qr().tabContent},(()=>{const e=e=>a.createElement("div",{className:qr().rowLeftText},a.createElement(Cr.sD,{richText:e})),t=e=>a.createElement(Cr.sD,{richText:e});return a.createElement("table",{className:qr().newTable,cellSpacing:0,cellPadding:0},a.createElement("tbody",null,T&&x?a.createElement("tr",null,a.createElement("td",{className:o()(qr().rowLeft,qr().cell)},e(T)),a.createElement("td",{className:o()(qr().rowRight,qr().cell,qr().companyCell),colSpan:K},z?a.createElement("div",{className:qr().companyContent},x?.map((e=>{const{logoUrl:t,name:n}=e||{};return a.createElement("span",{className:qr().company},a.createElement(Nn.Ay,{src:t,resizeWidth:100,webpEnable:l,className:qr().companyIcon,alt:""}),n)})),a.createElement("span",{className:qr().etc},s)):a.createElement("div",{className:qr().companyWrap,ref:V,style:G&&F?{maxHeight:"unset"}:{}},a.createElement("div",{className:qr().companyContent,ref:j},x?.map((e=>{const{logoUrl:t,name:n}=e||{};return a.createElement("span",{className:qr().company},a.createElement(Nn.Ay,{src:t,resizeWidth:100,webpEnable:l,className:qr().companyIcon,alt:""}),n)}))),!F&&G?a.createElement("div",{className:qr().arrowWrap},a.createElement("div",{className:qr().mask}),a.createElement(Ft.hu,{direction:"bottom",className:qr().downArrow,onClick:Q})):null))):null,P&&R?a.createElement("tr",null,a.createElement("td",{className:o()(qr().rowLeft,qr().cell)},e(P)),a.createElement("td",{className:o()(qr().rowRight,qr().cell),colSpan:K},t(R))):null,A&&C?a.createElement("tr",null,a.createElement("td",{className:o()(qr().rowLeft,qr().cell)},e(A)),a.createElement("td",{className:o()(qr().rowRight,qr().cell),colSpan:K},C?.map((e=>a.createElement("div",null,e.ladderContent?.map((e=>a.createElement(a.Fragment,null,X?a.createElement("span",{className:qr().costValueDot},""):null,a.createElement("span",null,e.text))))))))):null,q.map((n=>(n=>{let{key:r=[{text:12345}],val:i=[[{text:6789}],[{text:6789}]]}=n;return a.createElement("tr",null,a.createElement("td",{className:o()(qr().rowLeft,qr().cell)},e(r)),i?.map((e=>a.createElement("td",{className:o()(qr().rowRight,qr().cell)},t(e)))))})(n)))))})()),_?.length?a.createElement(a.Fragment,null,_.map(((e,t)=>a.createElement(Va.l5,{newRichText:e,style:{textAlign:"left"},className:qr().seaExplain,key:t})))):null,!!N&&a.createElement("div",{className:qr().extInfo},a.createElement("div",{className:qr().extBox},a.createElement(Ra.JE,{className:qr().extIcon}),a.createElement("span",{className:qr().extHide},"!")),a.createElement("span",{className:qr().extText},N)),4===m&&E?a.createElement("div",{className:qr().howClickWorks,onClick:Y,"aria-hidden":!0},E,a.createElement(wn.A,{className:qr().rightArrow})):null,(()=>{const{title:e,detail:t}=f||{};return e||t?a.createElement("div",{className:qr().extraInfoV2},e?a.createElement("div",{className:qr().extraInfoV2Title},e):null,t?a.createElement("div",{className:qr().extraInfoV2Detail},a.createElement(an.d,null,a.createElement(Ra.JE,{className:qr().informationIcon})),a.createElement("span",null,t)):null):null})(),y?.textRich?.length?a.createElement(Va.l5,{newRichText:y,style:{textAlign:"left"},className:qr().seaExplain}):null),d?a.createElement("div",{className:qr().content},d):null,a.createElement(Vr,{className:o()({[qr().timeTop]:I.length&&d,[qr().timeTopNoContent]:I.length&&!d}),data:I,isFold:[ra.Fold,ra.All].includes(w),useMaxProcessForBenchmark:[ra.UseMaxProcessForBenchmark,ra.All].includes(w),showNum:k}),(()=>{const{title:e,desc:t}=h||{};return e?a.createElement("div",{className:qr().environment},a.createElement("div",{className:qr().environmentTitle},a.createElement(Nr.A,{className:qr().environmentIcon}),a.createElement("span",{className:qr().environmentText},e)),a.createElement("div",{className:qr().environmentDesc},t)):null})())};var $r=(0,a.memo)((function(e){let{closePopup:t,popupInfo:n,index:r,etc:i,webpEnable:s,shippingDetailTitle:l,timeDistributedGrayData:c}=e;const{t:u}=(0,p.B)("goods"),d=n||[],[m,g]=(0,a.useState)(+r||0),h=[],[f,y]=(0,a.useState)("auto"),_=(0,a.useRef)(null),E=!!l,b=(0,a.useCallback)((e=>{h.push(e)}),[]);(0,a.useEffect)((()=>{const e=(0,Sr.nF)((()=>{let e=0;h.forEach((t=>{const n=t.current;if(!n)return;const a=n.clientHeight;e=Math.max(e,a)}));const t=Math.floor(.8*window.innerHeight-127-10);y(`${Math.min(t,e)}px`)}));return e(),window.addEventListener("resize",e),(0,A.A)("DeliveryPopup"),()=>window.removeEventListener("resize",e)}),[]),(0,a.useEffect)((()=>{_.current&&(_.current.scrollTop=0)}),[m]);const S=()=>a.createElement("div",{className:qr().containerWrap,style:{height:f},ref:_},(d||[]).map(((e,t)=>a.createElement(Kr,{key:`${n[t]?.name}${t}`,activePopupInfo:e,curIndex:t,activeIndex:m,uploadContainerRef:b,etc:i||u("deliveryEtc"),webpEnable:s,timeDistributedGrayData:c}))));return a.createElement(Ar.Ay,{onClick:t,useSplitBg:!0},a.createElement(kn.nU,{page_el_sn:203753,useClick:!1},a.createElement("div",{className:o()(E?qr().localWrap:qr().wrap)},n?.length?E?a.createElement("div",{className:qr().headWrap},a.createElement("div",{className:qr().localTitle},l),n?.length>1?a.createElement("div",{className:qr().localHead},n.map(((e,t)=>{const n=m===t;return a.createElement("div",{className:o()(qr().localTabTitle,{[qr().active]:n}),key:t,onClick:()=>{g(t)},"aria-hidden":!0},e.name,n?a.createElement("span",{className:qr().bar}):null)}))):null):1===n?.length?a.createElement("div",{className:qr().head},a.createElement("div",{className:o()(qr().title,qr().active,qr().single)},n[0]?.name)):a.createElement("div",{className:qr().head},n.map(((e,t)=>{const n=m===t;return a.createElement("div",{className:o()(qr().title,{[qr().active]:n}),key:t,onClick:()=>{g(t)},"aria-hidden":!0},e.name,n?a.createElement("span",{className:qr().bar}):null)}))):null,E?a.createElement("div",{className:qr().detailContent},S()):S())))})),Jr=n(55095),Yr=n(62605),Qr=n.n(Yr);function Xr(e){let{content:t}=e;const n=(0,a.useRef)(null),[r,i]=(0,a.useState)(!1),[s,l]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{if(n.current){n.current.scrollHeight>38&&i(!0)}}),[]),a.createElement("div",{className:o()(Qr().threshold,r&&Qr().clickable),onClick:()=>{s||(i(!1),l(!0))},role:"button",tabIndex:0},a.createElement("div",{className:o()(Qr().thresholdContent,s&&Qr().thresholdContentShowAll)},a.createElement("div",{className:Qr().thresholdRich,ref:n},t)),a.createElement(Ra.Uj,{className:Qr().bubbleArrow}),r?a.createElement("div",{className:Qr().arrowWrap},a.createElement(Br.A,{className:Qr().arrow})):null)}const Zr=e=>{let{shippingFloatingLayer:t,timeDistributedGrayData:n}=e;const{title:r,shippingMethodInfo:i,explainInfo:s,explainInfoExt:l,timeDistributed:c,content:u,timeDistributedExplain:d,timeDistributedTitle:m,deliveryTag:p,deliveryTagExplain:g,extInfoRich:h}=t||{},{deliveryTimelinessStyle:f,deliveryTimelinessMaxNum:y}=n||{};return a.createElement(ja.A,{title:a.createElement("div",{className:Qr().titleBlock},a.createElement(Va.l5,{newRichText:r,className:Qr().title}),p?a.createElement(Va.l5,{newRichText:p,className:Qr().deliveryTag}):null),size:"l",onClose:qn.L},a.createElement(a.Fragment,null,i?.length?a.createElement("div",{className:Qr().content},i.map(((e,t)=>a.createElement("div",{className:Qr().infoItem,key:t},e?.map(((e,t)=>e?.action?.type===Ha.E.localShippingStyle?a.createElement(Xr,{content:a.createElement(Va.l5,{newRichText:e,style:{textAlign:"left"}}),key:t}):a.createElement(Va.l5,{newRichText:e,key:t,style:{textAlign:"left"}}))))))):null,h?.length?a.createElement("div",{className:Qr().extInfoRich},h.map(((e,t)=>a.createElement(Va.l5,{newRichText:e,style:{textAlign:"left"},className:Qr().extInfoRichItem,key:t})))):null,s?a.createElement(Va.l5,{newRichText:s,className:o()(Qr().explainInfo,h?.length&&Qr().hasRichExplain),style:{textAlign:"left"}}):null,l?a.createElement(Va.l5,{newRichText:l,className:Qr().explainInfo,style:{textAlign:"left"}}):null,m?a.createElement("div",{className:Qr().timeDistributedTitle},m):null,u?a.createElement("div",{className:Qr().contentText},u):null,g?a.createElement(Va.l5,{newRichText:g,className:Qr().deliveryTagExplain,style:{textAlign:"left"}}):null,c?.length?a.createElement(Vr,{data:c,isFold:[ra.Fold,ra.All].includes(f),useMaxProcessForBenchmark:[ra.UseMaxProcessForBenchmark,ra.All].includes(f),showNum:y}):null,d?a.createElement(Jr.Fc,{classConfig:{text:Qr().timeDistributedExplain},message:d,type:Jr.SK.text,status:Jr.WH.grayText}):null))};var eo=n(77211),to=n.n(eo);var no=(0,Xt.A)((0,In.W4)({name:"OrderThresholdTips"}),i.PA)((()=>{const e=(0,N.Pj)(),{moduleMap:t}=e,{tipRich:n}=t?.orderThresholdTips?.data||{},r=e=>{e?.type===Ha.E.tips&&e?.content?.content&&(e=>{const{title:t,content:n,confirmText:r}=e||{};(0,qn.P)({popupNode:a.createElement(ja.A,{title:t,onClose:qn.L,confirmButtonLabel:r,onConfirm:qn.L},a.createElement("div",{className:to().popContent},n))}),(0,A.A)("showOrderThresholdPopup")})(e.content)};if(n?.textRich?.length){const{textRich:e,action:t}=n;return a.createElement("div",{className:to().wrap},a.createElement(Va.l5,{newRichText:n,style:{textAlign:"left",color:e?.[1]?.fontColor},showPopup:r,showPopupWhiteList:[Ha.E.tips],className:to().richText}),a.createElement(wn.A,{className:to().arrow,onClick:()=>r(t)}))}return null})),ao=n(70408),ro=n.n(ao);const oo=e=>{let{data:t,labelCls:n="",processCls:r="",numCls:i=""}=e;const s=(0,a.useMemo)((()=>{const e=[],n=[],a=[];return t?.forEach((t=>{e.push({highlight:t.highlight,name:t.name}),n.push(t.percentage),a.push(t.percentageStr||t.percentage/100+"%")})),{timeDistributedNameList:e,timeDistributedProgressList:n,timeDistributedPercentageList:a}}),[t]);return t?.length?a.createElement("div",{className:ro().timeList},a.createElement("div",{className:ro().timeNameList},s.timeDistributedNameList.map(((e,t)=>a.createElement("div",{key:t,className:o()(ro().label,e.highlight&&ro().highlight,ro().timeRawItem,n)},e.name)))),a.createElement("div",{className:ro().timeBarList},s.timeDistributedProgressList.map(((e,t)=>a.createElement("div",{className:ro().timeRawItem},a.createElement(zr,{processCls:r,key:t,percent:e/100}))))),a.createElement("div",{className:ro().percentageList},s.timeDistributedPercentageList.map(((e,t)=>a.createElement("div",{key:t,className:o()(ro().num,ro().timeRawItem,i)},e))))):null};var io=(0,a.memo)(oo),so=n(73055),lo=n.n(so);const co=e=>{let{data:t,titleHideDialog:n}=e;const{name:r,content:o,type:i,timeDistributed:s}=t||{};return 2===i&&n?a.createElement("div",{className:lo().expressTableWrap},o?a.createElement("div",{className:lo().content},o):null,a.createElement("div",{className:lo().timeList},a.createElement(io,{data:s,processCls:lo().processCls}))):a.createElement("div",{className:lo().bubble},r?a.createElement("div",{className:lo().bubbleTitle},r):null,a.createElement("div",{className:lo().bubbleContent},o))},uo=e=>{let{overlay:t,placement:n,questionIconClass:r,onVisibleChange:i}=e;return a.createElement(_r.A,{appendToBody:!0,adapted:!0,overlay:t,placement:n||"bottom",onPopoverVisibleChange:i},a.createElement(fr.A,{className:o()(r,lo().questionIcon)}))},mo=e=>{let{dialog:t}=e;return a.createElement(uo,{overlay:a.createElement(co,{data:t,titleHideDialog:!1})})},po=e=>{let{cooperateInfo:t}=e;if(!t?.coLogo1?.logoUrl||!t?.logoText)return null;const{wordColor:n,backColor:r}=t||{};return a.createElement(kn.nU,{page_el_sn:231786,useClick:!1},a.createElement("div",{className:lo().cooperateInfo,style:{...r?{backgroundColor:r}:{}}},a.createElement(On.A,{className:lo().cooperateInfoImg,src:t.coLogo1.logoUrl,resizeWidth:500,alt:""}),a.createElement("span",{className:lo().cooperateInfoText,style:{...n?{color:n}:{}}},t.logoText)))},go=e=>{let{expectShippingInfo:t}=e;if(!t?.estShipText)return null;const{estShipText:n,expectShippingWindow:r}=t||{};return a.createElement(kn.nU,{page_el_sn:234545,useClick:!1},a.createElement("div",{className:lo().estShipWrap},a.createElement("span",{className:lo().estShipText},n),r?a.createElement(_r.A,{appendToBody:!0,adapted:!0,overlay:(()=>{const{windowTitle:e,windowUpperText:t,windowLowerText:n}=r||{};return a.createElement(kn.nU,{page_el_sn:234546,useClick:!1},a.createElement("div",{className:lo().expectShippingPopup},a.createElement("div",{className:lo().expectShippingTitle},e),a.createElement("div",{className:lo().expectShippingTextInterval},t),a.createElement("div",{className:lo().expectShippingTextInterval},n)))})()},a.createElement(fr.A,{className:lo().estShipIcon})):null))},ho=(0,i.PA)((function(e){let{data:t,onClick:n,basicStyleConfig:r,etc:i,maxDisplayProvider:s}=e;const l=t?.some((e=>!!e?.textRichList?.length)),[c,u]=(0,a.useState)(l>1),{t:d}=(0,p.B)("goods"),m=(0,a.useRef)();(0,a.useEffect)((()=>{const e=()=>{const{splideRef:e}=m.current||{},t=e.current?.splide;if(!t)return;const n=t.Components.Slides.get(),a=n.filter((e=>(0,An.Jj)(t.root,e.slide)))?.length;u(a<n.length)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]);const g=e=>{let{deliveryType:t}=e;return e=>{t&&(0,ge.OS)({op:"click",page_el_sn:1===t?203757:203755}),n(e)}};if(!l)return null;const h=e=>{(0,Tn.ev)(e,m,5)};return a.createElement("div",{className:o()(lo().contentItem,{[lo().arrowSpace]:c})},a.createElement(An.pM,{ref:m,customArrows:a.createElement("div",{className:o()("splide__arrows",lo().arrowMask)},a.createElement("div",{style:{opacity:0,display:"none"},className:o()("splide__arrow splide__arrow--prev",lo().leftArrow,lo().arrow),role:"button"},a.createElement(er.A,{direction:"left",className:lo().baseArrowBtn,innerArrowClassName:lo().innerArrowIcon,onClick:()=>h("prev")})),a.createElement("div",{style:{opacity:0,display:"none"},className:o()("splide__arrow splide__arrow--next",lo().rightArrow,lo().arrow),role:"button"},a.createElement(er.A,{direction:"right",className:lo().baseArrowBtn,innerArrowClassName:lo().innerArrowIcon,onClick:()=>h("next")}))),trackClassName:lo().trackClassName},t.map(((e,n)=>{let{textRichList:o,shippingDetailIndex:l,cooperateInfo:c}=e;return o?.length?a.createElement(Cn.Nn,{key:n,className:lo().infoItem,"data-index":l,onClick:g(t[n]),role:"button","aria-label":d("accessibility.shipDetail"),tabIndex:0},o.map(((e,n)=>(e||[]).filter((e=>1===e.customType)).length>0?a.createElement(kr,{richText:e,key:n,maxDisplayProvider:s,basicStyleConfig:r,ignoreFontSize:!0,DialogComponent:mo,etc:i,hideDeliveryCompany:t?.hideDeliveryCompany}):a.createElement(br.Ay,{key:n,className:lo().infoText,richText:e,ignoreFontSize:!0,DialogComponent:mo,basicStyleConfig:r}))),a.createElement(po,{cooperateInfo:c})):null}))))}));var fo=(0,Xt.A)((0,In.W4)({name:"Delivery"}),i.PA)((e=>{let{isScrolling:t}=e;const{t:n}=(0,p.B)("goods"),r=(0,N.Pj)(),{delivery:i,optimalSku:s,webpEnable:l,querySkuInfo:c,skuInfoMap:u,control:d,goods:m}=r,{isLocalGoods:g}=m,{skuId:h}=s||{},f=u[h]?.delivery,[y,_]=(0,a.useState)(i||{}),{title:E,titleColor:b,descList:S,shippingDetail:v,titleHideDialog:I,etc:w,titleRich:k,shippingFloatingLayer:A,shippingDetailTitle:C,subtitleRich:T,maxDisplayProvider:x}=y||{},P=!!k?.textRich?.length,R=(0,a.useMemo)((()=>{const{textRich:e}=k||{};return e?.length?e?.slice()?.reverse()?.find((e=>e.type===Ha.aV.text&&e.fontColor))?.fontColor:""}),[k]),M=Object.keys(i).length>0,D=(0,a.useMemo)((()=>({image:{marginRight:"3px"},delimeter:{margin:"0 5px",color:"#CDCDCD",opacity:1}})),[]),B=(0,a.useCallback)((e=>{if(g&&A)return void(e=>{let{shippingFloatingLayer:t,timeDistributedGrayData:n={}}=e;(0,qn.P)({popupNode:a.createElement(Zr,{shippingFloatingLayer:t,timeDistributedGrayData:n})})})({shippingFloatingLayer:A});if(!v?.length)return;const t=e.currentTarget.dataset?.index,n=(0,vn.A)(a.createElement(a.Fragment,null,a.createElement($r,{popupInfo:v,shippingDetailTitle:C,index:t,etc:w,webpEnable:l,closePopup:()=>{n?.()}}),a.createElement(Er.A,{close:()=>n?.(),isActive:!0})),{})}),[w,g,v,C,l]);(0,a.useEffect)((()=>{h&&f&&_(f)}),[f,h]),(0,a.useEffect)((()=>{d?.defaultSkuId||M||c()}),[]);const O=(0,a.useCallback)((e=>t=>{const{type:n}=e||{};t&&2===n&&(0,ge.OS)({op:"impr",page_el_sn:203753})}),[]),L=(0,a.useMemo)((()=>({className:lo().icon})),[]),W=(0,a.useMemo)((()=>k?.textRich?.find((e=>e.pcExtra?.arrowColor))?.pcExtra?.arrowColor),[k]),z=(0,a.useMemo)((()=>({...W?{fill:W}:void 0,...P?{marginTop:5}:void 0})),[W,P]);return E||P?a.createElement("div",{className:lo().item},a.createElement(cr,{onClick:B,role:"button","aria-label":n("accessibility.deliveryEntry"),tabIndex:0,iconProps:L,icon:yr.A,title:P?a.createElement(Va.l5,{style:{color:R},newRichText:k,className:lo().richTitle}):E,color:P&&R||b,iconColor:b,className:o()(g&&lo().localTitle,{[lo().richTitleWrap]:P}),arrowStyle:z,hideClickStyle:!P}),T?.textRich?.length?a.createElement("div",{className:lo().subTitle,onClick:B,role:"button",tabIndex:0},a.createElement(Va.l5,{newRichText:T,style:{textAlign:"left",lineHeight:"19px"}})):null,a.createElement("div",{className:lo().contentWrapper},(S||[]).map(((e,n)=>{const{type:r,textRich:o,dialog:i,descInfoList:s,hideDeliveryCompany:l,cooperateInfo:c,expectShippingInfo:u,newTextRich:d}=e;if(r===aa.Cart)return a.createElement(ho,{key:n,maxDisplayProvider:x,data:s,onClick:B,basicStyleConfig:D,etc:w});if(r===aa.CooperateInfo&&c)return a.createElement("div",{className:lo().contentItem,key:n,onClick:B,role:"button",tabIndex:0},a.createElement(po,{cooperateInfo:c}));if(r===aa.ExpectShippingInfo&&u)return a.createElement("div",{className:lo().contentItem,key:n,onClick:B,role:"button",tabIndex:0},a.createElement(go,{expectShippingInfo:u}));if(d?.textRich?.length)return a.createElement("div",{className:lo().newContentItem,key:n,tabIndex:0,role:"link",onClick:B,"data-index":0},a.createElement(Va.l5,{newRichText:d,style:{textAlign:"left"}}));const m=(o||[]).filter((e=>1===e.customType)).length>0;return a.createElement("div",{className:lo().contentItem,key:n,"aria-label":(0,Sr.ft)(o),tabIndex:0,role:"link",onClick:B,"data-index":0},m?a.createElement(kr,{richText:o,maxDisplayProvider:x,basicStyleConfig:D,ignoreFontSize:!0,DialogComponent:mo,isSingleShipping:!0,etc:w,hideDeliveryCompany:l}):a.createElement(br.Ay,{richText:o,ignoreFontSize:!0,className:lo().richFlex,renderExtraContent:()=>(e=>e?.content?a.createElement(uo,{"aria-hidden":!0,overlay:!t&&a.createElement(co,{data:e,titleHideDialog:I}),onVisibleChange:O(e)}):null)(i)}))})),a.createElement(no,null))):null})),yo=n(67952);var _o=(0,Xt.A)((0,In.W4)({name:"Environment"}),i.PA)((e=>{let{className:t}=e;const n=(0,N.Pj)(),{environment:r,grayConfig:o}=n,{text:i,sideText:s,iconUrl:l,textColor:c}=r||{};if(!i)return null;const u=s?`${i} (${s})`:i;return a.createElement(kn.Rp,{page_el_sn:222596},a.createElement(ir,{className:t,url:"/tree-landing.html",pageName:"tree_landing",grayConfig:o?.cp149563||{},"aria-label":u},a.createElement(cr,{icon:l?e=>{let{className:t}=e;return a.createElement(On.A,{src:l,className:t,"aria-hidden":!0,resizeWidth:40,alt:""})}:yo.A,title:u,color:c||"#0A8800"})))})),Eo=n(2526),bo=n(40304),So=n(59769),vo=n(83836),Io=n(16270);var wo=n(38869),ko=n(8882),No=n(71705),Ao=n.n(No);var Co=function(e){const{title:t,children:n}=e,[r,i]=(0,a.useState)(!0),s=(0,a.useId)(),l=(0,a.useCallback)((()=>{i((e=>!e))}),[]);return a.createElement("div",{className:Ao().collapse},a.createElement(wo.n,{className:Ao().header,onClick:l,"aria-expanded":!r,"aria-controls":s},a.createElement("div",{className:Ao().title},t),a.createElement(ko.A,{className:o()(Ao().arrow,r&&Ao().collapsed),fill:"#777"})),!r&&a.createElement("div",{id:s},n))},To=n(27136),xo=n(64727),Po=n.n(xo);function Ro(e){const{data:t,onClose:n,scene:r}=e,{taxCustomTitle:o,taxVo:i,customVo:s,exceedLimitWarnText:l}=t||{},{title:c,detailText:u,seeMoreText:d,seeMoreDetailVo:m}=i||{},{lawVolist:p}=m||{},{title:g,detailTableVo:h}=s||{},f=(0,a.useMemo)((()=>{const{trVolist:e}=h||{};return e?.map((e=>{const{tdVolist:t}=e||{};return t?.map(((e,t)=>{const{paragraphVolist:n}=e||{};return a.createElement("div",{key:t},n?.map(((e,t)=>{const{text:n,fontColor:r,promptText:o}=e||{};return a.createElement("div",{key:t,className:Po().tableText,style:{color:r}},n,o?a.createElement(_r.A,{overlay:a.createElement("div",{className:Po().tip},o),placement:"bottom",zIndex:999},a.createElement(fr.A,{"aria-hidden":!0,className:Po().tableIcon,fill:"#cdcdcd"})):null)})))}))}),[])}),[h]),y=(0,a.useCallback)((()=>{(0,qn.L)(),n?.()}),[n]);return a.createElement(ja.A,{size:"l",onClose:y,title:a.createElement("div",{className:Po().header},o)},a.createElement(kn.nU,{useClick:!1,page_el_sn:238838,others:{entrance_type:r}},a.createElement("div",null,a.createElement("div",{className:Po().title},c),a.createElement("div",{className:Po().paragraph},u),a.createElement(Co,{title:d},p?.map(((e,t)=>{const{text:n,url:r}=e||{};return a.createElement("div",{className:Po().link,key:t},a.createElement(Eo.N_,{url:r},n))}))),a.createElement("div",{className:Po().title},g),a.createElement(To.A,{className:Po().table,content:f}),a.createElement("div",{className:Po().info},a.createElement(bo.A,{"aria-hidden":!0,className:Po().infoIcon,fill:"#888"}),l))))}var Mo=function(e){const{scene:t,onOpen:n,onClose:r}=e;return(0,a.useEffect)((()=>{!async function(){try{So.H.show();const{result:e}=await function(e){return(0,Io.$)().post("/api/bg-barbera-api/tax/custom/floating/layer/query",{scene:e}).then((e=>(0,vo.Cb)(e)))}(t);if(!e)return void r?.();(0,qn.P)({popupNode:a.createElement(Ro,{data:e,scene:t,onClose:r})}),n?.()}catch(e){r?.()}finally{So.H.hide()}}()}),[]),null},Do=n(89383),Bo=n.n(Do);var Oo=(0,Xt.A)((0,In.W4)({name:"TaxPolicy"}),i.PA)((()=>{const{moduleTaxPolicy:e}=(0,N.Pj)(),{title:t,desc:n}=e||{},{textRich:r}=t||{};if(!r?.length)return null;const o=r?.find((e=>e?.type===Ha.aV.text)),i=o?.fontColor||"#222222";return a.createElement(kn.nU,{page_el_sn:200359},a.createElement("div",{className:Bo().wrap,"aria-hidden":!0,onClick:()=>{const e=(0,vn.A)(a.createElement(a.Fragment,null,a.createElement(Mo,{scene:20,onClose:()=>{e?.()}}),a.createElement(Er.A,{close:()=>e?.(),isActive:!0})),{});(0,A.A)("TaxPolicyDialog")},tabIndex:0,role:"button","aria-haspopup":"dialog"},a.createElement("div",{className:Bo().title},a.createElement(I.H2,{className:Bo().richTextWrap},a.createElement(Va.l5,{newRichText:t,className:Bo().richText,style:{textAlign:"left",...i?{color:i}:{}}})),a.createElement(wn.A,{className:Bo().arrow,"aria-hidden":!0,style:i?{fill:i}:{}})),n?.textRich?.length?a.createElement(Va.l5,{className:Bo().contentWrap,newRichText:n,style:{textAlign:"left"}}):null))})),Lo=n(43071),Wo=n.n(Lo);var zo=(0,Xt.A)((0,In.W4)({name:"DeliverInfo"}),i.PA)((e=>{let{isScrolling:t}=e;const n=(0,N.Pj)(),{commitment:r}=n;return a.createElement("div",{className:Wo().deliverInfo,"data-id":"module"},a.createElement(Xa,null),a.createElement(Oo,null),a.createElement(fo,{isScrolling:t}),!!r&&a.createElement(hr,null),a.createElement(Ja,null),a.createElement(_o,{className:Wo().item}))})),Fo=n(7301),Uo=n(81669),Go=n(31423),Ho=n(90504),Vo=n(26102),jo=n.n(Vo);const qo="cross_page_goods_fav",Ko=(0,i.PA)((function(){const{t:e}=(0,p.B)("goods",{keyPrefix:"fav"}),{favStore:t,checkAndPopLogin:n,selectedSku:r,goodsId:o}=(0,N.Pj)(),{isFavRecord:i,toggleFavStateV3:s}=t||{},l=(0,Oa.A)((async()=>{await n({onSuccess:()=>{(0,Ho.yt)(qo,JSON.stringify([o,(new Date).getTime()])),(0,Zt.Qw)(location.href)},loginScene:320,useCookie:!0})&&await s()})),c={button_style:2,cart_scene:170,cart_type:0,sku_id:r?.skuId};return(0,a.useEffect)((()=>{if(i)return;const e=(0,Sr.x6)((0,Ho.W9)(qo),[]),[t,n]=e;t&&n&&t===o&&(new Date).getTime()-n<1e4&&((0,Ho.Uf)(qo),s())}),[]),i?a.createElement(kn.Rp,{page_el_sn:209174,others:c,key:"fav"},a.createElement("div",{className:jo().favBtn,onClick:l,tabIndex:0,role:"button","aria-label":e("saved")},a.createElement(Fo.A,{className:jo().favIcon,alt:e("saved")}),a.createElement("span",null,e("saved")))):a.createElement(kn.Rp,{page_el_sn:209173,others:c,key:"unfav"},a.createElement("div",{className:jo().favBtn,onClick:l,tabIndex:0,role:"button","aria-label":e("save")},a.createElement(Uo.A,{className:jo().unfavIcon,alt:e("save")}),a.createElement("span",null,e("save"))))})),$o=(0,i.PA)((function(e){let{className:t}=e;const{t:n}=(0,p.B)("goods",{keyPrefix:"fav"}),{favStore:r,checkAndPopLogin:i,selectedSku:s,goodsId:l}=(0,N.Pj)(),{isFavRecord:c,toggleFavStateV3:u}=r||{},[d,m]=(0,a.useState)(!1),[g,h]=(0,a.useState)(c),f=(0,a.useRef)(null),y=(0,a.useRef)(null),_=()=>{h((e=>(m(!e),!e)))},E=(0,Oa.A)((async()=>{if(await i({onSuccess:()=>{(0,Ho.yt)(qo,JSON.stringify([l,(new Date).getTime()])),(0,Zt.Qw)(location.href)},loginScene:320,useCookie:!0})){_();await u()||_()}})),b={button_style:2,cart_scene:170,cart_type:0,sku_id:s?.skuId};return(0,a.useEffect)((()=>{if(c)return;const e=(0,Sr.x6)((0,Ho.W9)(qo),[]),[t,n]=e;t&&n&&t===l&&(new Date).getTime()-n<1e4&&((0,Ho.Uf)(qo),u())}),[]),a.createElement(kn.Rp,{page_el_sn:g?209174:209173,others:b,key:g?"fav":"unfav"},a.createElement("div",{className:t,onClick:E,tabIndex:0,role:"button","aria-label":n(g?"saved":"save")},a.createElement(Uo.A,{ref:f,className:o()(jo().newUnFavIcon,jo().icon,{[jo().unFavAnimation]:d,[jo().hideIcon]:g}),alt:n("save")}),a.createElement(Fo.A,{ref:y,className:o()(jo().newFavIcon,jo().icon,{[jo().favAnimation]:d,[jo().hideIcon]:!g}),alt:n("saved")})))}));var Jo=(0,Xt.A)((0,In.W4)({name:"SmallFavBtn"}),i.PA)((()=>{const{favStore:e}=(0,N.Pj)(),{ifShowSmallFavBtn:t,showSmallFavBtnPos:n}=e||{};return t?n===oa.GALLERY?a.createElement("div",{className:jo().gallery},a.createElement($o,{className:jo().galleryFavBtn})):n===oa.BUTTON?a.createElement($o,{className:jo().btnFav}):a.createElement("div",{className:jo().withTips},a.createElement(Ko,null)):null})),Yo=n(7727),Qo=n(50383),Xo=n(77805);var Zo=n(84912),ei=n(3652),ti=n(31094),ni=n.n(ti),ai=n(10232),ri=n.n(ai);const oi=(0,i.PA)((function(){const{similarSizeSpecData:e,goodsId:t,sizeSpecModule:n,selectLocationId:r}=(0,N.Pj)(),{overSizeOutfit:i}=n?.sizeSpecContentMap?.[r]||{},{specText:s,popup:l={},goodsId:c}=i||e||{};return a.createElement("div",{className:ni().wrap},a.createElement(kn.nU,{page_el_sn:224004,others:{smlr_goods_id:c,goods_id:t}},a.createElement("div",{className:o()(ni().skuItem,ri().similar),tabIndex:0,"aria-label":s,role:"button",onClick:()=>{const{thumbUrl:e,linkUrl:t}=l||{};e&&(0,ei.N)(e),t&&(0,Zt.MJ)((0,m.rE)({show_over_size_switch_tips:1},t),{openTarget:"_blank"})},"data-aria-enter":"1"},a.createElement("div",{className:ni().skuItemContent},s),a.createElement(wn.A,{className:ri().similarArrow}))))})),ii=e=>{let{toast:t,onClick:n}=e;return a.createElement(kn.nU,{page_el_sn:243726},a.createElement("div",{className:ri().toastWrap,onClick:e=>{e.stopPropagation(),n?.()},role:"button",tabIndex:0,"aria-label":t},a.createElement("span",{className:ri().toast},t),a.createElement(wn.A,{className:ri().arrow})))};var si=n(29194),li=n.n(si);const ci=(0,a.memo)((function(e){let{className:t}=e;const{moduleMap:n}=(0,N.Pj)(),{tipText:r}=n?.sizeTipModule?.data||{};return r?a.createElement(kn.nU,{page_el_sn:229085},a.createElement("div",{className:o()(li().wrap,t),role:"button","aria-label":r,tabIndex:0},a.createElement(an.d,null,a.createElement(bo.A,{className:li().explainIcon})),r)):null}));var ui=n(42877),di=n.n(ui);function mi(e){return e?.length?e.slice().sort(((e,t)=>e.specKeyId-t.specKeyId)).reduce((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;const{specKeyId:n="",specValueId:a=""}=t||{};return`${e}${n}${a}`}),""):""}function pi(e){return e?mi(Object.entries(e||{}).map((e=>{let[t="",n=""]=e;return{specValueId:n,specKeyId:t}}))):""}var gi=(e,t)=>{if(!e||!t?.length)return[];const n=[];for(const a of t){const t={},{specs:r}=a;(r||[]).forEach((e=>{const{specKeyId:n,specValueId:a}=e;t[n]=a}));let o=!0;for(const n in e)e[n]&&t[n]!==e[n]&&(o=!1);o&&n.push(a)}return n},hi=n(36513);function fi(e){let{sku:t,formatSkuData:n,currentSpecIdSelect:a,isManualChangeSpec:r,defaultSkuId:o,bestSkuByQuantityTip:i,stockQuantityTipThreshold:s}=e;const{specIdStrToSkuId:l,skuInfos:c}=n,u=c[l[pi(a)]]||{};if(u?.skuId)return u;const d=yi({formatSkuData:n,currentSpecIdSelect:a});if(d?.length===t[0]?.specs?.length)return;let m=t.filter((e=>!!e.isOnsale));if(Object.entries(a).some((e=>{let[t,n]=e;return t&&n}))){const e=gi(a,t),n=e.filter((e=>!!e.isOnsale));m=n?.length?n:e}if(m=m?.length?m:t,!r&&o){const e=m.find((e=>e.skuId===o));if(e)return e}const p=i&&!!m?.some((e=>e.stockQuantity<s));return di()(m,["normalPrice",e=>p&&e.stockQuantity||0,e=>e.normalLinePrice||0,e=>e.stockQuantity||0,"skuId"],["asc","asc","desc","asc","desc","asc"])?.[0]}function yi(e){let{formatSkuData:t,currentSpecIdSelect:n}=e;const{specValueId2SpecMap:a}=t;return Object.values(n).map((e=>a[e])).filter((e=>!!e))}function _i(e){let{num:t,fromNum:n,operateType:a}=e;return 0===n&&t>0&&a!==Sa.Add?Sa.Add:n>0&&t>0&&a!==Sa.Update?Sa.Update:n>0&&0===t&&a!==Sa.Delete?Sa.Delete:a}const Ei=(e,t)=>{const n=[...t];return n.length>3?n.splice(3,0,...e):n.push(...e),n},bi=(e,t)=>{(0,hi.T)((()=>{if(e?.textRich?.length&&e?.action){const{action:n}=e.textRich.find((e=>!!e?.action))||{};n?.type&&n?.content?.popType&&(0,A.A)("Price label double action",{fields:{data:JSON.stringify({item:e,...t})}})}}))};var Si=n(21745),vi=n(2338),Ii=n(23014),wi=n(40650);let ki=function(e){return e[e.SeparateDay=1]="SeparateDay",e[e.MergeHour=2]="MergeHour",e}({}),Ni=function(e){return e.TEXT="TEXT",e.TIME="TIME",e.FRAME_TIME="FRAME_TIME",e}({});var Ai=n(54099),Ci=n.n(Ai);const Ti=e=>{let{endType:t,endLeftTime:n,endTimeColor:r,endTimeBackgroundColor:o,callback:i}=e;const s=(0,a.useMemo)((()=>Date.now()),[]),l=(0,a.useMemo)((()=>t===ki.SeparateDay),[t]),c=(0,a.useMemo)((()=>({color:r,background:o})),[r,o]),u=()=>a.createElement("span",{className:Ci().colon,style:{color:o}},":");return a.createElement(Ii.A,{intervalGap:500,endTime:s+1e3*n,nowTime:s,renderFunc:e=>{let{hour:t,minute:n,second:r,day:o}=e;return a.createElement(a.Fragment,null,l&&o?a.createElement(a.Fragment,null,a.createElement("span",{className:Ci().time,style:c,suppressHydrationWarning:!0},(0,wi.A)(o)),u()):null,a.createElement("span",{className:Ci().time,style:c,suppressHydrationWarning:!0},l?(0,wi.A)(t):(0,wi.A)(24*o+t)),u(),a.createElement("span",{className:Ci().time,style:c,suppressHydrationWarning:!0},(0,wi.A)(n)),u(),a.createElement("span",{className:Ci().time,style:c,suppressHydrationWarning:!0},(0,wi.A)(r)))},rAF:!0,callback:i})};var xi=(0,a.memo)(Ti),Pi=n(92143),Ri=n.n(Pi);var Mi=(0,Xt.A)((0,In.W4)({name:"ActivityBanner"}),i.PA)((e=>{let{className:t}=e;const[n,r]=(0,a.useState)(!0),i=(0,N.Pj)(),{serverTime:s,waistBanner:l,setIsShowMarketPrice:c,goodsId:u,waistBannerFreightType:d,supportFreeShippingInWaistBanner:m,goodsExt:p,getMallId:g,goods:h,queryWaistBannerInit:f,control:y}=i,{skuRefreshWaistBanner:_}=y?.detailSupportExperimentControl||{},E=1===_,{benefits:b}=l||{},S=b?.[0]?.content?.[0]||{},{title:v,subtitle:I,icon:w,bgColor:k="#feefe1",trackInfo:A,activeIcon:C,activeLabel:T,clickEvent:x}=S||{},P=(0,a.useMemo)((()=>I?.find((e=>e.type===Ni.TEXT))?.color||""),[I]),{width:R,height:M,icon:D,smallBgImg:B,bigBgImg:O}=T||{},{isRTL:L}=(0,Ta.Sz)(),W=C,z=(0,a.useMemo)((()=>(e=>[wa.ShopFreeShoppingAddCartEmpty,wa.ShopFreeShoppingAddCartNotStandard].includes(e))(d)&&m),[m,d]),F=(0,Oa.A)((async()=>{const e=g();z&&e&&((0,ge.E0)({page_el_sn:233315,benefit_type:1}),await(0,Si.Xf)({goodsId:Number(u),pageSn:xn.LM,goodsExt:p,benefitScene:0,mallId:e}))})),U=(0,a.useCallback)((()=>{c(!1),r(!1)}),[c]),[G,H]=(0,a.useState)(!1);(0,a.useEffect)((()=>{const e=Array.from(document.querySelectorAll(`.${Ri().subtitleItemText}`)),t=document.querySelector(`.${Ri().subtitleContainer}`),n=()=>{if(!e?.length)return;const n=e?.some((e=>{const{height:n,top:a,width:r}=e.getBoundingClientRect()||{},{width:o=0}=e.parentElement?.getBoundingClientRect()||{},{top:i=0}=t?.getBoundingClientRect()||{};return n+a-i>36||r>o}));H(n)};if(!k)return;window.addEventListener("resize",n),n();const a="activity_banner_dot_style",r=document.querySelector(`.${a}`),o=document.createElement("style"),i=r||o;return i.className=a,i.innerHTML=`.${Ri().dot}::after{color: ${P}; background:linear-gradient(${L?"to left":"to right"}, transparent 0px, ${k} 5px);`,r||document.head.appendChild(i),()=>{window.removeEventListener("resize",n)}}),[k,P,L]);const V=(0,a.useMemo)((()=>I?.length&&I?.every((e=>e.type===Ni.TEXT))),[I]);return(E&&!f||l)&&n?a.createElement(vi.t,{show:!!l},a.createElement(kn.nU,{page_el_sn:A?.page_el_sn},a.createElement("div",{className:o()(Ri().wrap,t,{[Ri().isBlackFriday]:W,[Ri().isSquareBlackFriday]:D,[Ri().click]:z}),role:"button",tabIndex:0,onClick:F},a.createElement("div",{className:Ri().promotionMask},a.createElement("div",{className:Ri().promotionInnerMask,style:{backgroundColor:k}})),B?a.createElement(On.A,{src:B,className:o()(Ri().smallBgImg,Ri().bg),"aria-hidden":!0,alt:""}):null,O?a.createElement(On.A,{src:O,className:o()(Ri().bigBgImg,Ri().bg),"aria-hidden":!0,alt:""}):null,D?a.createElement("div",{className:Ri().squareFriday},a.createElement(On.A,{src:D,"aria-hidden":!0,className:Ri().squareFridayIcon,style:{width:R,height:M},alt:""})):W?a.createElement("div",{className:Ri().friday},a.createElement("div",{className:Ri().fridayIcon},a.createElement(On.A,{"aria-hidden":!0,className:Ri().fridayIconImg,src:W,alt:""}))):null,w?a.createElement(On.A,{src:w,className:Ri().icon,"aria-hidden":!0,alt:""}):null,a.createElement("div",{className:Ri().titleWrapper},((e,t)=>a.createElement("div",{className:o()(Ri().title,t),"aria-label":(0,Sr.ft)(e),tabIndex:0,role:"button","aria-haspopup":"dialog",style:{color:e?.[0]?.color}},e?.map(((e,t)=>{const{bold:n,color:r,fontSize:o,text:i}=e;return a.createElement("span",{key:t,style:{color:r,fontSize:o,fontWeight:n?500:400}},i)}))))(v,Ri().twoLineEllipsis)),!!I?.length&&(V?(e=>a.createElement("div",{className:o()(Ri().subtitleContainer,Ri().pureTextSubTitle,{[Ri().dot]:G})},e?.map(((e,t)=>{const{bold:n,color:r,fontSize:o,text:i}=e;return i?a.createElement("span",{className:Ri().subtitleItemText,style:{color:r,fontSize:o,fontWeight:n?500:400},key:`${i}${t}`},i):null}))))(I):a.createElement("div",{className:o()(Ri().subTitleWrapper,{[Ri().promotionSubTitleWrapper]:!!D})},(e=>a.createElement("div",{className:o()(Ri().subtitle,Ri().subtitleContainer),"aria-label":(0,Sr.ft)(e?.filter((e=>e.type!==Ni.TIME))),tabIndex:0,role:"button"},a.createElement("span",{className:Ri().subtitleItemFlex}),e?.map(((e,t)=>{const{bold:n,color:r,fontSize:i,text:l,type:c,bgColor:u}=e;if(c===Ni.TIME){const e=Number(l)-s;return a.createElement("span",{className:o()(Ri().subtitleItem,Ri().countdown),style:{fontSize:i,fontWeight:n?500:400},key:`${l}-${t+1}`},(e=>{let{endLeftTime:t,endType:n,bgColor:r,color:o}=e;return t>0&&a.createElement(xi,{callback:U,endLeftTime:t,endType:n,endTimeColor:o||"#FFFFFF",endTimeBackgroundColor:r||"#020202"})})({endLeftTime:e,endType:ki.SeparateDay,bgColor:u,color:r}))}if(c===Ni.FRAME_TIME){const e=u?{background:u}:{};return a.createElement("span",{className:o()(Ri().subtitleItem,Ri().textTag),style:{color:r,fontSize:i,fontWeight:n?500:400,...e},key:t},a.createElement("span",{className:Ri().subtitleItemText},l))}return a.createElement("span",{className:o()(Ri().subtitleItem,{[Ri().dot]:G}),style:{color:r,fontSize:i,fontWeight:n?500:400},key:t},a.createElement("span",{className:Ri().subtitleItemText},l))}))))(I))),z?a.createElement(kn.nU,{page_el_sn:233315,others:{benefit_type:1},useClick:!1},a.createElement(wn.A,{className:Ri().arrow,style:{fill:v?.[0]?.color}})):null))):null})),Di=n(89209),Bi=n(58746),Oi=n(4455),Li=n.n(Oi);const Wi=e=>{let{closePopup:t,title:n,discountInfo:r,useDescInfo:o,codeInfo:i,buttonDesc:s}=e;const l=(e,t)=>e?.displayItems?.length?a.createElement("div",{className:t},e.displayItems.map((e=>{const{fontColor:t,fontSize:n,fontWeight:r,text:o}=e||{};return a.createElement("span",{style:{color:t,fontSize:n,fontWeight:r}},o)}))):null;return a.createElement(Ar.Ay,{onClick:t,useSplitBg:!0},a.createElement("div",{className:Li().wrap},l(n,Li().title),a.createElement("div",{className:Li().coupon},a.createElement(On.A,{src:"https://aimg.kwcdn.com/upload_aimg/web/1e481004-89a3-4dd6-93a2-128ffbc15502.png.slim.png",className:Li().couponBg}),a.createElement("div",{className:Li().couponContent},l(r,Li().discountInfo),l(o,Li().useDescInfo),l(i,Li().codeInfo))),a.createElement("div",{onClick:t},a.createElement(Ut.A,{className:Li().buttonDesc},l(s,Li().buttonDesc)))))};var zi=(0,a.memo)(Wi),Fi=n(36286),Ui=n.n(Fi);var Gi=(0,i.PA)((()=>{const{addOrderInfoStore:e}=(0,N.Pj)(),{additionalOrderPromotion:t}=e,{additionalOrderPromoHint:n,additionalOrderPromoPopInfo:r={}}=t||{},o=()=>{const e=(0,vn.A)(a.createElement(zi,(0,q.A)({closePopup:()=>e()},r)))};return n?a.createElement("div",{className:Ui().wrap},n?.displayItems?.map(((e,t)=>{const{text:n,fontColor:r,fontSize:i,fontWeight:s,displayType:l}=e||{};return l===na.icon?a.createElement(On.A,{className:Ui().icon,src:n,onClick:o}):a.createElement("span",{key:t,style:{color:r,fontWeight:s,fontSize:i}},n)}))):null})),Hi=n(31799),Vi=n(26357),ji=n.n(Vi);var qi=(0,In.W4)({name:"AddOrderFreeShipping"})((0,a.memo)((0,i.PA)((()=>{const{addOrderInfoStore:e}=(0,N.Pj)(),{order:t}=e,{closeTime:n}=t?.parentOrder?.addPurchaseShowCloseTimeExperimentVo||{},{t:r}=(0,p.B)("goods",{keyPrefix:"addToOrder"}),o=(0,a.useCallback)((e=>{let{hour:t,minute:n,second:r,day:o}=e;return a.createElement("span",{className:ji().timeContent},o?a.createElement(a.Fragment,null,a.createElement("span",{className:ji().time,suppressHydrationWarning:!0},(0,wi.A)(o)),a.createElement("span",{className:ji().colon},":")):null,a.createElement("span",{className:ji().time,suppressHydrationWarning:!0},(0,wi.A)(t)),a.createElement("span",{className:ji().colon},":"),a.createElement("span",{className:ji().time,suppressHydrationWarning:!0},(0,wi.A)(n)),a.createElement("span",{className:ji().colon},":"),a.createElement("span",{className:ji().time,suppressHydrationWarning:!0},(0,wi.A)(r)))}),[]);return n?a.createElement("div",{className:ji().wrap},a.createElement("span",{className:ji().freeShipping},a.createElement(an.d,null,a.createElement(Hi.A,{className:ji().icon})),r("freeShipping")),a.createElement("span",{className:ji().endTime},a.createElement(Je.x,{t:r,i18nKey:"endsIn",ns:"goods"},a.createElement(Ii.A,{endTime:1e3*n,callback:()=>{(0,Zt.Qw)(location.href)},renderFunc:o,intervalGap:1e3})))):null})))),Ki=n(75261),$i=n.n(Ki);const Ji=()=>{},Yi=(0,a.memo)((function(e){let{className:t,direction:n,onClick:r}=e;return a.createElement("div",{className:o()($i().pageBtn,t),onClick:r,role:"button",tabIndex:0},a.createElement(Ra._H,{className:o()($i().arrow,$i()[`arrow-${n}`])}))})),Qi=e=>{let{data:t}=e;return t?.map(((e,t)=>{const{actionType:n,text:r,linkUrl:o,width:i,height:s,size:l,bold:c,color:u}=e||{};switch(n){case Ea.text:return r?a.createElement("span",{key:t,style:{fontSize:l,fontWeight:c?"bold":"normal",color:u}},r):null;case Ea.img:return o?a.createElement(Nn.Ay,{src:o,className:$i().img,key:t,style:{width:`${i}px`,height:`${s}px`},alt:""}):null;case Ea.countdown:return a.createElement(Xi,{key:t,data:e});default:return null}}))},Xi=e=>{let{data:t}=e;const{text:n,size:r,bold:o,color:i}=t||{},s=(0,a.useCallback)((e=>{let{hour:t,minute:n,second:s,day:l}=e;return a.createElement("span",{className:$i().timeContent,style:{color:i,fontSize:r,fontWeight:o?500:400},dir:"ltr"},l?a.createElement(a.Fragment,null,a.createElement("span",{className:$i().time,suppressHydrationWarning:!0},(0,wi.A)(l)),a.createElement("span",{className:$i().colon},":")):null,a.createElement("span",{className:$i().time,suppressHydrationWarning:!0},(0,wi.A)(t)),a.createElement("span",{className:$i().colon},":"),a.createElement("span",{className:$i().time,suppressHydrationWarning:!0},(0,wi.A)(n)),a.createElement("span",{className:$i().colon},":"),a.createElement("span",{className:$i().time,suppressHydrationWarning:!0},(0,wi.A)(s)))}),[]);return a.createElement(Ii.A,{endTime:1e3*Number(n),renderFunc:s,intervalGap:1e3})};var Zi=(0,Xt.A)((0,In.W4)({name:"AddOrderInfo"}),i.PA)((()=>{const{isRTL:e}=(0,Ta.Sz)(),{addOrderInfoStore:t}=(0,N.Pj)(),{order:n,additionalOrderPromotion:r}=t,{additionalOrderPromoHint:i}=r||{},{t:s}=(0,p.B)("goods"),{parentOrder:l,attachedOrderCellModule:c}=n||{},{attachedOrderExplainRich:u,attachOrderSubTitleRich:d}=c||{},{subOrderList:m,parentOrderAmountWithSymbolDisplay:g,parentSellerType:h,addPurchaseShowCloseTimeExperimentVo:f}=l||{},{styleVersion:y}=f||{},_=(0,a.useRef)(!1),[E,b]=(0,a.useState)(m),[S,v]=(0,a.useState)(!1),[I,w]=(0,a.useState)(0),k=(0,a.useRef)(null),[A,C]=(0,a.useState)(m?.length),T=h&&[ba.local,ba.semiHosted].includes(h);(0,a.useEffect)((()=>{(0,Di.p)()}),[]);const x=(0,a.useCallback)((async()=>{let e=!1;w((t=>(e=t>0,0))),e&&await(0,Bi.A)(800)}),[]),P=m?.reduce(((e,t)=>e+(t?.goodsNumber||0)),0);(0,a.useEffect)((()=>{_.current?(async()=>{await x(),b(m),v(!0)})():_.current=!0}),[m?.length,P]),(0,a.useEffect)((()=>{const e=k.current;if(!e)return;const t=(0,Sr.nF)((()=>{const{width:t}=e.getBoundingClientRect()||{};if(t){const e=Math.floor((t+6)/66);C(e)}}),30);return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}),[k?.current]);const R=(0,a.useCallback)((()=>{v(!1)}),[]),M=E?.length||0,D=(0,a.useCallback)((()=>{w((e=>Math.max(e-A,0)))}),[A]),B=(0,a.useCallback)((()=>{w((e=>Math.min(e+A,M-A)))}),[M,A]);if(!m?.length)return null;const O=1===y;return a.createElement("div",{className:$i().wrap},a.createElement("div",{className:o()($i().content)},a.createElement("div",{className:$i().top},a.createElement("div",{className:$i().title},u?.length?a.createElement(Qi,{data:u}):s("addToOrder.shipFromTemu")),T||i?.displayItems?.length?null:a.createElement("div",{className:$i().statusInfo},d?.length?a.createElement(Qi,{data:d}):a.createElement(a.Fragment,null,a.createElement("div",{className:$i().orderInfo},s("main_detail.paymentOrderInfo")),a.createElement("div",{className:$i().amount},g)))),O?a.createElement(qi,null):null,T?null:a.createElement(Gi,null),a.createElement("div",{className:$i().orderList,ref:k},a.createElement(Yi,{className:o()($i().leftArrow,{[$i().arrowHide]:0===I}),direction:"left",onClick:D}),a.createElement("div",{className:$i().listWrap},a.createElement("div",{className:$i().listContent,style:{transition:"transform 500ms",transform:`translateX(${e?"":"-"}${66*I}px)`}},E?.map(((e,t)=>{const{orderSn:n,thumbUrl:r,goodsNumber:i}=e||{},s=0===t&&S;return a.createElement("div",{className:o()($i().orderItem,{[$i().placeholderOrder]:s}),onAnimationEnd:s?R:Ji,key:n},a.createElement("div",{className:$i().orderContent},a.createElement(Nn.Ay,{className:$i().orderImg,src:r,resizeWidth:210,alt:""}),i>1?a.createElement("div",{className:$i().orderNum},"x",i):null))})))),a.createElement(Yi,{className:o()($i().rightArrow,{[$i().arrowHide]:I+A>=M}),direction:"right",onClick:B}))))})),es=n(26479),ts=n.n(es);var ns=function(e){return e[e.black=1]="black",e[e.blue=2]="blue",e}(ns||{}),as=function(e){return e[e.direct=1]="direct",e[e.authorized=2]="authorized",e}(as||{});var rs=e=>{let{onClose:t,data:n,brandStyle:r}=e;const{commitmentList:i,brandType:s,brandLayerTitle:l}=n||{},{brandName:c,brandLogo:u,bgUrl:d,iconUrl:m,flowerUrl:g,divideLine:h,brandSlogan:f}=l||{},{t:y}=(0,p.B)("goods",{keyPrefix:"BrandCell"}),_=r===ns.blue,E=s===as.direct,b=s===as.authorized;return(0,A.r)("BrandCellPopup"),a.createElement(Ar.Ay,{onClick:t},a.createElement("div",{className:ts().wrap},a.createElement("div",{className:ts().title},y("title")),a.createElement("div",{className:ts().banner},d?a.createElement(On.A,{src:d,className:ts().bgUrl,alt:""}):null,a.createElement("div",{className:o()(ts().bannerContent,{[ts().blueBanner]:_})},g?a.createElement(On.A,{src:g,className:ts().flower,alt:""}):null,m?a.createElement(On.A,{src:m,className:o()(ts().brandPexfixIcon,{[ts().icon1]:E,[ts().icon2]:b&&!_,[ts().icon3]:b&&_}),alt:""}):null,a.createElement("div",{className:ts().bannerTitle},c,h?a.createElement(On.A,{src:h,className:ts().titleDivideLine,alt:""}):null,f),u?a.createElement(On.A,{src:u,className:ts().brandLogoIcon,alt:""}):null,g?a.createElement(On.A,{src:g,className:o()(ts().rightFlower,ts().flower),alt:""}):null)),i?.length?a.createElement("div",{className:ts().desc},i.map((e=>{const{title:t,titleColor:n,content:r}=e||{},{text:o,subTextList:i}=r||{};return a.createElement("div",{className:ts().item},a.createElement("div",{className:ts().itemTitle,style:{color:n}},t),a.createElement("div",{className:ts().itemContent},a.createElement("div",null,o),i?.length?a.createElement("div",{className:ts().subText},i.map((e=>a.createElement("div",null,a.createElement(an.d,null,a.createElement(Za.A,{className:ts().icon})),e)))):null))}))):null,a.createElement(Ut.A,{className:ts().btn,size:"lg",onClick:t},y("ok"))))},os=n(19363),is=n.n(os);var ss=(0,In.W4)({name:"BrandCell"})((0,i.PA)((()=>{const{moduleMap:e,optimalSku:t}=(0,N.Pj)(),{skuId:n}=t||{},{brandBanner:r}=e?.brandCardModule?.data||{},{brandName:i,brandSlogan:s,bannerBgUrl:l,divideLine:c,brandBannerFloatingLayer:u,brandStyle:d,skuBrandSloganMap:m}=r||{},p=!!u,g=m?.[n]||s,h=(0,a.useMemo)((()=>i?.textRich?.find((e=>e.type===Ha.aV.text))?.fontColor||g?.textRich?.find((e=>e.type===Ha.aV.text))?.fontColor),[i,g]);return i?.textRich?.length||g?.textRich?.length?a.createElement("div",{className:o()(is().wrap,{[is().authorized]:2===d,[is().direct]:1===d,[is().clickable]:p}),onClick:()=>{if(!p)return;const e=(0,vn.A)(a.createElement(rs,{onClose:()=>{e?.()},brandStyle:d,data:u}),{})},role:"button",tabIndex:0},l?a.createElement(On.A,{src:l,className:is().bg,alt:""}):null,a.createElement("div",{className:is().content},i?.textRich?.length?a.createElement(Va.l5,{newRichText:i,className:is().name,style:{textAlign:"left"}}):null,c?a.createElement(On.A,{src:c,className:is().line,alt:""}):null,g?.textRich?.length?a.createElement("div",{className:is().desc,style:{color:h}},a.createElement(Va.l5,{newRichText:g,style:{color:h,textAlign:"left"},className:is().descContent})):null,p?a.createElement(an.d,null,a.createElement(wn.A,{className:is().arrow,style:{fill:h}})):null)):null}))),ls=n(13571),cs=n(47743),us=n(5778),ds=n(8515),ms=n(99558);let ps;async function gs(){return ps||(ps=Promise.all([n.e(7302),n.e(8096),n.e(496),n.e(5141),n.e(8977),n.e(6390),n.e(1748)]).then(n.bind(n,84204)).then((e=>{let{default:t}=e;return t})).catch((()=>(ps=null,null))),ps)}let hs,fs=!1;const ys=()=>{hs=null},_s=async e=>{let t;return t=hs?await hs:await(0,ms.tr)(e),(0,cs.A)({event:"checkout pop fetchMorgan",fields:{hasPrefetch:hs?"yes":"no"}}),ys(),t};var Es=function(e){return e[e.ErrorNetwork=1]="ErrorNetwork",e[e.NotSupport=2]="NotSupport",e[e.NotLogin=40001]="NotLogin",e}(Es||{});const bs=e=>[ls.t.All,ls.t.ExplicitlySelected,ls.t.UnExplicitlySelected].includes(e);var Ss=(0,In.W4)({name:"ClearanceActivity"})((0,i.PA)((e=>{let{children:t,onClick:n,className:r,contentClassName:o,contentBgClassName:i,isShowArrow:s,serverRenderTime:l,skuActivityTip:c}=e;const{skuInfoMap:u,optimalSku:d,activityInfo:m,isEnhancedStockGroupClearanceStyle:p,explicitlySelected:g,buyNowButtonStore:h}=(0,N.Pj)(),{skuId:f}=d||{},y=u[f]?.skuActivityInfo,_=y?.[g]||y?.[ls.t.All],[E,b]=(0,a.useState)(_||m),S=p?E:m,v=p?E:{...m?.skuActivityInfo?.[f],activityProgressInfo:m?.activityProgressInfo},{prefetch:I,supportQuickMerge4TimeLimitedActivity:w}=h||{};(0,a.useEffect)((()=>{if(p&&void 0!==_){const{activityName:e,activityNameRich:t}=_||{};b(e||t?.textRich?.length?_:m)}}),[p,_]);return a.createElement(ls.O,{activityInfo:S,skuActInfo:v,onClick:n,onMouseDown:e=>{e.preventDefault(),1==+e?.buttons&&w&&I()},onMouseLeave:()=>{w&&ys?.()},className:r,contentClassName:o,contentBgClassName:i,isShowArrow:s,serverRenderTime:l,skuActivityTip:c},t)}))),vs=n(40399),Is=n(44252),ws=n.n(Is);const ks=e=>{let{item:t,showHighLight:n}=e;const{values:r=""}=t||{},o=r?.indexOf(":");return n&&o>0&&o!==r.length-1?a.createElement("span",null,a.createElement("span",{className:ws().highlight},r.substring(0,o+1)),a.createElement(a.Fragment,null,r.substring(o+1))):a.createElement(a.Fragment,null,r)};var Ns=(0,a.memo)(ks),As=n(25650),Cs=n.n(As);var Ts=(0,Xt.A)((0,In.W4)({name:"DescriptionV2"}),i.PA)((e=>{let{onExpand:t}=e;const{description:n,control:r,goodsProperty:o}=(0,N.Pj)(),{items:i,rows:s}=n||{},{t:l}=(0,p.B)("goods"),{expandDescription:c}=r?.supportExperimentControl||{},u=(0,a.useMemo)((()=>i?.[0]?.values&&o?.[0]?.values?.join?.(",")===i?.[0]?.values?i.slice(1):i),[i,o]),d=u?.length,m=+s||6,[g,h]=(0,a.useState)(c?d:m),[f,y]=(0,a.useState)(d<=m||c);return(0,A.r)("DescriptionV2"),u?.length?a.createElement(kn.Rp,{page_el_sn:214005,useClick:!1},a.createElement("div",{className:Cs().wrap,"data-id":"module"},a.createElement("div",{className:Cs().title,"aria-label":l("main_detail.descriptionTitle")},l("main_detail.descriptionTitle")),a.createElement("div",{className:Cs().list},u.slice(0,g).map(((e,t)=>{const{values:n,copyable:r}=e||{};return n?a.createElement("div",{key:t,className:Cs().item,tabIndex:0,role:"button","aria-label":`$${n}`},a.createElement(Ns,{item:e}),!!r&&a.createElement(vs.A,{useButton:!0,page_el_sn:204334,className:Cs().copyButton,text:n})):null}))),!f&&a.createElement(kn.Rp,{page_el_sn:200448},a.createElement("div",{className:Cs().more,onClick:()=>{h(d),y(!0),setTimeout((()=>{t?.()}),20)},tabIndex:0,role:"button","aria-label":l("main_detail.descriptionMore")},l("main_detail.descriptionMore"),a.createElement(Ft.hu,{direction:"bottom",className:Cs().arrow,"aria-hidden":!0}))))):null})),xs=n(23257),Ps=n(19963),Rs=n(89243),Ms=n(78830),Ds=n(45805),Bs=n(23450),Os=n(32167),Ls=n(84135),Ws=n(59403),zs=n(61277),Fs=n(15418),Us=n(52462),Gs=n.n(Us);const Hs=e=>{let{item:t,getCustomTextRichItemStyle:n}=e;return t?.type===Ha.aV.img?a.createElement(Va.WC,{item:t}):a.createElement(Va.gK,{item:t,getCustomTextRichItemStyle:n})},Vs=e=>{let{popData:t,contentElement:n}=e;return a.createElement(_r.A,{appendToBody:!0,adapted:!0,overlay:(()=>{const{content:e}=t||{};return e?a.createElement("div",{className:Gs().explainPopup},e):null})()},a.createElement("span",{className:o()(t?.content&&Gs().clickable)},n))},js=(0,i.PA)((e=>{let{popData:t,contentElement:n}=e;const{title:r,content:o}=t||{};return a.createElement(_r.A,{overlay:r||o?a.createElement("div",{className:Gs().tips},a.createElement("div",{className:Gs().tipsTitle},r),a.createElement("div",{className:Gs().tipsContent},o)):null,appendToBody:!0,adapted:!0},a.createElement("div",{className:Gs().itemWrap},n))})),qs=(0,i.PA)((e=>{let{popData:t,contentElement:n}=e;const{contentSumerKey:r="",hyperLinkText:o,hyperLinkUrl:i,explainText:s}=t||{};return s?.length?a.createElement(Fs.pY,{explainText:s,content:n}):a.createElement(Fs.jN,{pageElSn:224996,sumerKey:r,className:Gs().clickable,linePriceExplainData:{linePriceTipsTitle:o,linePriceTipsJumpUrl:i},renderContent:()=>n})})),Ks=[Ha.E.dialog],$s=(e,t)=>{const{action:n}=e||{},{popType:r,popData:o}=n?.content||{},{getCustomTextRichItemStyle:i}=t||{};if(n?.type&&Ks.includes(n.type)){if(r===Ha.CV.MainPriceExplain)return a.createElement(js,{popData:o,contentElement:a.createElement(Hs,{item:e,getCustomTextRichItemStyle:i})});if(r===Ha.CV.LinePriceExplain)return a.createElement(qs,{popData:o,contentElement:a.createElement(Hs,{item:e})});if(r===Ha.CV.AlmostSoldOutExplain)return a.createElement(Vs,{popData:o,contentElement:a.createElement(Hs,{item:e})})}return null};var Js=n(27216),Ys=n.n(Js);const Qs=e=>{let{reduction:t}=e;return t?.textRich?.length?a.createElement(zs.v,{className:Ys().reduction,style:{background:t?.backgroundColor}},a.createElement(Cr.sD,{richText:t.textRich})):null},Xs=e=>{let{skuSalePriceSuffixRich:t,marketPriceStr:n,linePriceRich:r,linePricePrefix:i,reduction:s}=e;if(t?.length)return a.createElement(a.Fragment,null,t.map((e=>{const t=a.createElement(Va.l5,{newRichText:e,style:{textAlign:"left"},customRenderWhiteList:Ks,customRenderTextRichItem:$s,className:o()(Ys().suffixRich,Ys().suffixRichDis)}),{action:n}=e||{},{popType:r,popData:i}=n?.content||{};return n?.type&&Ks.includes(n.type)&&r===Ha.CV.LinePriceExplain?a.createElement(qs,{popData:i,contentElement:t}):t})));return a.createElement(a.Fragment,null,n?a.createElement("div",{className:Ys().linePrice},n):null,r?a.createElement("div",{className:Ys().linePriceWrap},i?a.createElement("span",null,i):null,a.createElement("div",{className:Ys().linePrice},a.createElement(Cr.Ay,{price:r}))):null,s?a.createElement(Qs,{reduction:s}):null)};var Zs=(0,a.memo)((function(e){let{skuId:t,thumbUrl:n,goodsName:r,salePriceRich:i,linePriceRich:s,linePricePrefixMap:l,reduction:c,specs:u,priceStr:d,marketPriceStr:m,failedReason:g,failedMsg:h,isShowLightningIcon:f,energyData:y,goodsId:_,skuSalePriceSuffixRich:E,chargerInfo:b}=e;const S=(0,a.useMemo)((()=>{if(!b)return null;const{imgUrls:e,popupContent:t}=b||{};return{leftIconUrl:e?.[0],rightIconUrl:e?.[1],clickInfo:t}}),[b]),{t:v}=(0,p.B)("goods"),I=l?.[t];return a.createElement(a.Fragment,null,a.createElement("div",{className:Ys().goods},a.createElement("div",{className:Ys().goodsImg},a.createElement(On.A,{src:n,resizeWidth:300,alt:""}),!!g&&a.createElement("div",{className:Ys().errorTip},a.createElement(zs.v,{type:"gray"},g)),S?a.createElement(Bn.A,{type:1,data:S}):a.createElement(xa.TU,{data:y,goodsId:_})),a.createElement("div",{className:Ys().goodsInfo},a.createElement("div",{className:Ys().titleBlock},a.createElement("div",{className:o()(Ys().goodsName,!!h&&Ys().errorColor),title:r},r),u?.length?a.createElement("div",{className:o()(Ys().goodsSpecs,!!h&&Ys().errorColor)},u.map((e=>e.specValue)).join("/")):null),h?a.createElement("div",{className:Ys().error},a.createElement(Ra.JE,{className:Ys().icon}),a.createElement("div",{className:Ys().errorText},h)):a.createElement("div",{className:Ys().goodsPrice},f?a.createElement(Ws.A,{className:Ys().lightningIcon}):null,d?a.createElement("div",{className:Ys().curPrice},d):a.createElement("div",{className:Ys().curPrice},a.createElement(Cr.Ay,{price:i})),a.createElement(Xs,{skuSalePriceSuffixRich:E,marketPriceStr:m,linePriceRich:s,linePricePrefix:I,reduction:c})))))})),el=n(39226),tl=n.n(el);const nl=e=>{let{beforeNode:t=null,afterNode:n=null,endTime:r=0,callback:i,isSecondLine:s}=e;const l=(0,a.useCallback)((e=>{let{hour:t,minute:n,second:r,day:o}=e;return a.createElement("div",{className:tl().flex},o?a.createElement(a.Fragment,null,a.createElement("span",{className:tl().time,suppressHydrationWarning:!0},(0,wi.A)(o)),a.createElement("span",{className:tl().colon},":")):null,a.createElement("span",{className:tl().time,suppressHydrationWarning:!0},(0,wi.A)(t)),a.createElement("span",{className:tl().colon},":"),a.createElement("span",{className:tl().time,suppressHydrationWarning:!0},(0,wi.A)(n)),a.createElement("span",{className:tl().colon},":"),a.createElement("span",{className:tl().time,suppressHydrationWarning:!0},(0,wi.A)(r)))}),[]);return r?s?a.createElement("div",{className:o()(tl().wrap,tl().line)},a.createElement(Ii.A,{endTime:1e3*r,nowTime:Date.now(),intervalGap:1e3,renderFunc:l}),t?a.createElement("div",{className:o()(tl().before,tl().none)},t):null,n?a.createElement("div",{className:o()(tl().after,tl().none)},n):null):a.createElement("div",{className:tl().wrap},t?a.createElement("div",{className:tl().before},t):null,a.createElement(Ii.A,{endTime:1e3*r,nowTime:Date.now(),intervalGap:1e3,callback:i,renderFunc:l}),n?a.createElement("div",{className:tl().after},n):null):null};var al=(0,a.memo)(nl),rl=n(8732),ol=n.n(rl),il=n(22758),sl=n.n(il);const ll=e=>{let{text:t,percent:n}=e;return t?a.createElement("div",{className:sl().wrap},a.createElement("div",{className:sl().text},t),a.createElement("div",{className:sl().progress},a.createElement("div",{className:sl().inner,style:{right:100*(1-n)+"%"}}))):null};var cl=(0,a.memo)(ll);const ul=e=>e?.map((e=>e?.text||"")).join("")||"";var dl=(0,i.PA)((()=>{const{calcForCartShippingVo:e}=(0,N.Pj)(),{shippingFeeVo:t,secondLineText:n,progressBarVo:r,goodsTotalAmount:i,freeShippingAmount:s,cartIcon:l,activityEndsTimeText:c}=e||{};(0,a.useEffect)((()=>{t?.length&&(0,A.A)("InfoBar2")}),[]);const u=(0,a.useMemo)((()=>{if(!c?.length)return{};let e=0,t=null,n=null;return c.forEach((a=>{a?.textFormat?.countDownTimeStamp?e=isNaN(+a?.text)?0:+a.text:e?n=a?.text||"":t=a?.text||""})),{endTime:e,afterNode:n,beforeNode:t}}),[c]),d=(0,a.useMemo)((()=>{const{iconWidth:e,iconHeight:t,iconLink:n}=l||{};return a.createElement("div",{className:ol().icon,style:{backgroundImage:`url(${n})`,width:`${e}px`,height:`${t}px`}})}),[l]),m=(0,a.useMemo)((()=>parseInt((i||1)/(s||0)*100)/100||0),[i,s]),p=(0,a.useMemo)((()=>ul(r)),[r]);if(!t?.length)return null;const g=!!n?.length;return a.createElement(kn.nU,{page_el_sn:200976,useClick:!1},a.createElement("div",{className:o()(ol().bar,n?.length&&ol().max)},d,a.createElement(kn.nU,{page_el_sn:200605},a.createElement("div",{className:ol().text},a.createElement("span",{className:o()(ol().firstLine,n?.length&&ol().withSecondLine)},ul(t)),n?.length?a.createElement("span",{className:ol().secondText},ul(n)):null)),a.createElement(cl,{text:p,percent:m}),a.createElement("div",{className:ol().placeholder}),a.createElement(al,(0,q.A)({},u,{isSecondLine:g}))))})),ml=n(36138),pl=n(55179),gl=n(27708),hl=n.n(gl);var fl=(0,In.W4)({name:"goodsQuickLook"})((0,i.PA)((e=>{const{t:t}=(0,p.B)("goods"),{wrapClassName:n,inSidebar:r,showGoodsImg:i,grayConfig:s,...l}=e,{skuParams:c,cartScene:u,goodsId:d,classConfig:m={},skuOptions:g}=l||{},{onClick:h,preloadSku:f}=(0,ml.A)({pageSn:xn.LM,params:{goods_id:d,...c||{}},cartScene:u,skuOptions:g,showGoodsImg:i});return a.createElement("div",{className:o()(hl().wrap,n,{[hl().inSidebar]:r}),id:`QuickLook-${d}`,title:`${t("quickLook.title")}`},a.createElement(pl.A,{trackingInfo:{},classConfig:{...m,container:m?.container,contentCls:m?.conentCls,icon:o()(hl().quickLookIcon,m?.icon)},text:{text:t("quickLook.title")},addCart:h,preloadSku:f,grayConfig:s,iconUrl:"https://aimg.kwcdn.com/upload_aimg/transaction/6dbc3f74-d7eb-463e-8397-cc1101ecba8e.png.slim.png"}))}))),yl=n(19732),_l=n(19618),El=n(35144),bl=n.n(El);const Sl=201082;var vl=(0,a.memo)((function(e){let{data:t,index:n,cartScene:r,pageElSn:i}=e;const s=(0,N.Pj)(),{goodsName:l,activityPriceStr:c,marketPriceStr:u,marketPriceIcon:d,skuList:p,salesTip:g,thumbUrl:h,goodsId:f,pRec:y,specIds:_,activityType:E,extendFields:S,salesTipTextList:v,salesTipText:I,linkUrl:w,complianceInfo:k}=t||{},A=v?.length?v:I||[],[C,T]=(0,a.useState)(t?.cartAmount||0),{rrp:x}=d||{};(0,a.useEffect)((()=>{const e=(0,b.Xu)((e=>{let{cartGoodsNumMap:t}=e;"object"==typeof t&&T(t[f]||0)}));return()=>{e()}}),[]);const{addSuccessStore:P,grayConfig:R}=s||{},M=P?.isFrequentlyBought,{type:D,iconInfo:B}=k||{},O=(0,a.useMemo)((()=>{const e={p_rec:y};return{imprEventData:e,clickEventData:e,pageSn:xn.LM,params:{goods_id:f,_oak_spec_ids:_},addCart:!0,cartScene:r||`${xn.xi.MainGoods}`,isAutoShowToast:!0,frontControl:{supportPersonalize:!0},skuInfoParams:{skuInfoScene:ka.DefaultSkuSelector},grayConfig:R,callback:e=>{const{addCartRes:t,error:n}=e;if(n)return(0,_l.Ku)(n);(t?.result||{}).success&&s.queryShopCartInfo()}}}),[f,_]),L=(0,a.useCallback)((e=>{e.stopPropagation(),1==+e?.buttons&&(h&&(0,ei.N)(h),Ds.hb.preloadShow?.(O))}),[O]),W=(0,a.useCallback)((e=>{e.stopPropagation(),M&&(0,tn.Tn)({op:"click",page_el_sn:206062}),Ds.hb.show(O)}),[O]);return a.createElement(kn.Rp,{page_el_sn:Sl,others:{rec_goods_id:f,idx:n,p_rec:y}},a.createElement(ir,{className:o()(bl().item,{[bl().showQuickLook]:!s?.supportTouch}),url:(0,m.rE)({refer_page_el_sn:Sl},w),grayConfig:R?.cp149563||{},pageName:xn.sN},a.createElement("div",{className:bl().goodsImg},a.createElement(On.A,{src:h,resizeWidth:300,alt:""}),a.createElement(fl,{wrapClassName:bl().quickLook,goodsId:f,inSidebar:!0,skuParams:{_oak_spec_ids:_},cartScene:xn.xi.MainGoods,trackingInfo:{rec_goods_id:f,idx:n,p_rec:y},showGoodsImg:h,grayConfig:R}),B?a.createElement(Bn.A,{type:1,data:B}):a.createElement(xa.TU,{data:S?.engIcon,goodsId:f})),a.createElement("div",{className:bl().right},a.createElement("div",{className:bl().goodsInfo},a.createElement("div",{className:bl().goodsName},l),p&&p.length>0?a.createElement("div",{className:bl().skuList},p.map(((e,t)=>e.thumbUrl?a.createElement(On.A,{key:t,className:bl().sku,src:e.thumbUrl,alt:""}):null))):null),a.createElement("div",{className:bl().bottom},a.createElement("div",null,g?a.createElement("div",{className:bl().sellInfo},a.createElement("div",{className:bl().sold},A?.length?A?.map(((e,t)=>a.createElement("span",{className:bl().soldItem,key:t},e))):g)):null,a.createElement("div",{className:bl().priceWrap},a.createElement("div",{className:bl().goodsPrice},E===va.Lightning?a.createElement(Ws.A,{className:bl().lightningIcon}):null,a.createElement("span",{className:o()(bl().minOnSalePriceStr,E===va.Lightning&&bl().lightningColor)},c),u?a.createElement("div",{className:bl().linePrice},x?a.createElement("span",null,x):null,a.createElement("span",{className:bl().marketPriceStr},u)):null))),a.createElement(kn.Rp,{useClick:!1,stopPropagation:!0,page_el_sn:M?null:200061,others:{cart_scene:8,cart_type:1,goods_id:f,p_rec:y}},a.createElement("div",{className:bl().cart,onMouseDown:L,role:"link",tabIndex:0},a.createElement(yl.A,{cartAmount:C,addCart:W,grayConfig:R||{}})))))))})),Il=n(95594),wl=n.n(Il);const kl=(0,a.memo)((function(e){let{wrapRef:t,isExtendRef:n}=e;const r=(0,a.useRef)(null),{t:i}=(0,p.B)("goods"),[s,l]=(0,a.useState)(!1);(0,Ls.A)({ref:r,options:{root:t},onEnter:()=>{l(!1)},onLeave:()=>{n.current&&l(!0)}});const c=(0,a.useMemo)((()=>a.createElement("div",{className:o()(wl().title,s&&wl().sticky)},i("main_detail_addedPopup.stickTitle"))),[s]);return a.createElement("div",{className:wl().fixTitleWrap,ref:r},s?(0,Rs.createPortal)(c,t.current):c)})),Nl=(0,i.PA)((function(e){const t=(0,N.Pj)(),{t:n}=(0,p.B)("goods"),{addSuccessStore:r}=t,{goodsList:o,hasMore:i,loadMoreData:s}=r;return i&&!o?.length?null:a.createElement(Bs.A,{wrapperClass:wl().list,datasource:o,hasMore:i,loadMoreData:s,renderItem:vl,showLoading:!1,loadMoreText:n("main_detail_addedPopup.loadMore"),bottomWrapperClass:wl().bottomBtn})})),Al=(0,i.PA)((function(e){let{promoToasts:t,className:n="",imageClassName:r="",textClassName:i="",textStyle:s={}}=e;return t?.length&&t[0]?.richContents?.length?a.createElement(kn.Rp,{page_el_sn:224177,useClick:!1},a.createElement("div",{className:o()(wl().promoToasts,n)},a.createElement(Go.WK,{displayItems:t[0].richContents,imageClassName:r,textClassName:i,textStyle:s}))):null})),Cl=e=>{let{isFrequentlyBought:t,promoToasts:n}=e;const{t:r}=(0,p.B)("goods"),i=(0,N.Pj)(),{onMouseDown:s,onClick:l}=(0,Ms.E)({scene:20001,grayConfig:i?.grayConfig?.cp124366});return a.createElement(a.Fragment,null,a.createElement("div",{className:o()(wl().delivery)},a.createElement(a.Fragment,null,a.createElement(Al,{promoToasts:n,textClassName:wl().btnTopPromo,imageClassName:wl().btnTopPromoImg}),a.createElement(kn.Rp,{page_el_sn:t?null:201064},a.createElement(Os.A,{onMouseDown:s,className:wl().cartBtn,onClick:l},r("main_detail_addedPopup.popupCorecartBtn"))))),a.createElement(kn.Rp,{page_el_sn:228078},a.createElement("div",{className:o()(wl().keepShoppingWrap)},a.createElement(Ut.A,{className:wl().cartBtn,onClick:()=>{(0,Zt.MJ)((0,m.rE)({jump_rec_refresh:1},"/"))},type:Gt.el.border},r("main_detail_addedPopup.keepShoppingBtnText")))))},Tl=(0,i.PA)((function(e){const t=(0,N.Pj)(),{skuSalePriceSuffixRichMap:n,specCustom:r}=t,{t:i}=(0,p.B)("goods"),s=e.goodsList||[],l=e.goods||t.goods,c=e.selectedSku||t.selectedSku,{linePricePrefixMap:u}=t.moduleMap?.priceModule?.data||{},{goodsName:d,goodsId:m}=l||{},g=(0,a.useRef)(null),h=(0,a.useRef)(!1),f=(0,a.useRef)(null);(0,a.useEffect)((()=>{(0,Ua.rO)(Ua.gn.addedPopupShowTime)}),[]);const{popupCoreHead:y,isFail:_=!1}=e.extend||{},{isFrequentlyBought:E}=t.addSuccessStore,{pcSideBarPromo:b}=t.sideBarPromo||{},{promoToasts:S}=b||{},v=e=>{if(!e)return!1;const n=t.skuSalePricePrefixRichMap[e];return n?.some?.((e=>va.Lightning===e.id))};return a.createElement("div",{ref:g,className:wl().container},a.createElement("div",{ref:f,className:wl().core},a.createElement("div",{className:wl().padding},a.createElement("div",{className:wl().head},a.createElement("div",{className:wl().headTitle},!_&&a.createElement("div",{className:wl().iconWrap},a.createElement(Ra.ib,{path:"M833.3 246.6c25.1-24.9 65.6-24.7 90.5 0.4 22.6 22.8 24.5 58.4 5.9 83.3l-6.3 7.2-496.3 492.2c-22.8 22.6-58.2 24.5-83.2 6l-7.2-6.2-245.5-246.1c-25-25-24.9-65.5 0.1-90.5 22.8-22.7 58.3-24.7 83.4-6.1l7.1 6.2 200.4 200.8 451.1-447.2z",className:wl().headIcon,fill:"#ffffff"})),y||i("main_detail_addedPopup.popupCoreHead"))),a.createElement(dl,null),a.createElement(a.Fragment,null,s.length>0?s.map(((e,t)=>{const{goodsName:n,goodsId:r}=e;return a.createElement(Zs,(0,q.A)({},e,{goodsName:n,key:`${r}-${t}`}))})):a.createElement(Zs,(0,q.A)({},c,{linePricePrefixMap:u,goodsName:d,goodsId:m,chargerInfo:r?.chargerInfo,isShowLightningIcon:v(c?.skuId),energyData:t?.goods?.energyTag,skuSalePriceSuffixRich:n[c?.skuId]||[]})))),a.createElement(Cl,{isFrequentlyBought:E,promoToasts:S}),a.createElement("div",{className:wl().gap}),a.createElement("div",{className:o()(wl().goodsList,wl().padding)},a.createElement(kl,{wrapRef:g,isExtendRef:h}),a.createElement(Nl,null))))}));var xl=(0,a.memo)((function(e){let{onClose:t,goods:n,goodsList:r,selectedSku:o,store:s,extend:l}=e;return(0,a.useEffect)((()=>(Ds.hb.preload(),s.addSuccessStore.loadMoreData(),(0,A.A)("AddedPopup"),()=>{s.addSuccessStore.init()})),[]),a.createElement(i.Kq,{store:s},a.createElement(Ar.US,{onClick:()=>{(0,tn.Tn)({op:"click",page_el_sn:s?.addSuccessStore?.isFrequentlyBought?206063:201063}),t()}},a.createElement(Tl,{goods:n,selectedSku:o,goodsList:r,extend:l})))}));var Pl=n(35554),Rl=n(99908),Ml=n(79653),Dl=n(28854),Bl=n(45189),Ol=n(96074);var Ll=n(59595),Wl=n.n(Ll);var zl=e=>{let{goodsId:t,webpEnable:n}=e;const[r,o]=(0,a.useState)(0),[i,s]=(0,a.useState)([]),[l,c]=(0,a.useState)([]),[u,d]=(0,a.useState)(!0),m=(0,a.useRef)(r),p=(0,a.useRef)({listId:`semi_find_sim_${(0,mn.A)(6)}`,activeOptId:r,[r]:{goodsList:[],hasMore:!0}}),g=(0,a.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{activeOptId:n,listId:a}=p.current,{goodsList:r=[]}=p.current?.[n]||{},i={offset:r?.length||0,page_size:30,scene:"semi_find_sim",listId:a,mainGoodsId:t,mainGoodsIds:[t],page_el_sn:233253,optId:n};try{const{result:t}=await(async e=>(0,Bl.z)((0,Dl.w)("/api/poppy/v1/opt_list",e),e,Ol.wu,{useAntiToken:!0,useRiskRetry:!0}))(i),{data:a,hasMore:m}=t||{},{goodsList:g=[],optList:h=[]}=a||{},f=(l=g,l?.map((e=>({data:e})))||[]);if(h?.length&&e){const e=(e=>e?.map((e=>({...e,label:e.optName,key:e.optId}))))(h);h.forEach((e=>{const{optId:t}=e||{};p.current?.[t]||(p.current[t]={hasMore:!0,goodsList:[]})})),s(e),o(e[0].optId);const t=e[0].optId;return p.current[t].goodsList=[].concat(r,f),p.current.activeOptId=t,p.current[t].hasMore=u&&f?.length,d(p.current[t].hasMore),void c(p.current[t].goodsList||[])}f?.length&&(p.current[n].goodsList=[].concat(r,f)),p.current[n].hasMore=m&&f?.length,d(p.current[n].hasMore),c(p.current[n].goodsList||[])}catch(e){o(m.current)}var l}),[]);(0,a.useEffect)((()=>{g(!0)}),[]),m.current=(0,Ml.A)(r),(0,Rl.A)((()=>{const{goodsList:e,hasMore:t}=p.current?.[r]||{};c(e||[]),d(t),e?.length||g()}),[r]);const h=(0,a.useCallback)((e=>{o(e.optId),p.current.activeOptId=e.optId}),[]),f=(0,a.useMemo)((()=>({goodsContainer:{goodsItem:Wl().goodsContainer,goodsItemWrap:Wl().goodsItemWrap}})),[]),y=(0,a.useCallback)(((e,t)=>({p_rec:e.pRec,opt_id:e.optId,opt_idx:t})),[]);return l?.length||i?.length||u?a.createElement(kn.nU,{page_el_sn:10003},a.createElement("div",{className:Wl().wrap},i?.length?a.createElement("div",{className:Wl().optList},a.createElement(ln.tU,{pageElSn:233251,data:i,type:cn.N.text,activeKey:r,onChange:h,trackingInfoFn:y,classConfig:{rightArrow:Wl().arrow}})):null,a.createElement("div",{className:Wl().content},a.createElement(dn.A,{pageSn:xn.LM,pageElSn:233253,hiddenTooltipItem:!0,cartScene:xn.xi.LocalInfoPopupRec,goodsCardClassName:Wl().goodsCardClassName,datasource:l,listClassName:Wl().goodsList,classConfig:f,loadMoreData:g,skuOptions:{showAdded:!0,frontControl:{supportPersonalize:!0}},skuParams:{_oak_page_source:250},hasMore:u,autoOptimize:!1,loadMode:"auto",pageGoodsNum:30,rowNum:4,webpEnable:n,isBackAutoShowCategoryCard:!0,isShowSkc:!0})))):null},Fl=n(47111),Ul=n.n(Fl);var Gl=e=>{let{onClose:t,data:n,showRec:r,goodsId:i,webpEnable:s,timeDistributedGrayData:l}=e;const{explainInfo:c,title:u,timeDistributed:d,timeDistributedTitle:m,content:p,timeDistributedExplain:g}=n||{},{deliveryTimelinessStyle:h,deliveryTimelinessMaxNum:f}=l||{};return(0,A.r)("LocalGoodsDeliveryInfoPopup"),a.createElement(Ar.Ay,{onClick:()=>{(0,ge.E0)({page_el_sn:233160}),t()}},a.createElement(kn.nU,{page_el_sn:233159,useClick:!1},a.createElement("div",{className:o()(Ul().content,"none_sidebar_layout")},a.createElement("div",{className:Ul().title},a.createElement(Va.l5,{newRichText:u})),a.createElement("div",{className:Ul().scrollWrap},a.createElement("div",{className:Ul().desc},a.createElement(Va.l5,{newRichText:c,style:{textAlign:"left"}})),d?.length?a.createElement("div",{className:Ul().timeList},a.createElement("div",{className:Ul().timeTitle},m),a.createElement("div",{className:Ul().timeDesc},p),a.createElement(Vr,{data:d,isFold:[ra.Fold,ra.All].includes(h),useMaxProcessForBenchmark:[ra.UseMaxProcessForBenchmark,ra.All].includes(h),showNum:f}),g?a.createElement(Jr.Fc,{classConfig:{text:Ul().timeDistributedExplain},message:g,type:Jr.SK.text,status:Jr.WH.grayText}):null):null,r?a.createElement(zl,{goodsId:i,webpEnable:s}):null))))},Hl=n(19167),Vl=n.n(Hl);var jl=(0,In.W4)({name:"LocalGoodsDeliveryTag"})((0,i.PA)((()=>{const{webpEnable:e,deliveryTag:t,control:n,goodsId:r,skuInfoMap:i,optimalSku:s,delivery:l}=(0,N.Pj)(),{etc:c,shippingDetail:u,shippingDetailTitle:d}=l||{},{text1:m,shippingFloatingLayer:p,type:g,sellerType:h}=i?.[s?.skuId]?.deliveryTag||t||{},{localWarehouseIterate:f}=n?.detailSupportExperimentControl||{},y=h===$n.offical&&u?.length,_=()=>{if(y){const t=(0,vn.A)(a.createElement(a.Fragment,null,a.createElement($r,{popupInfo:u,shippingDetailTitle:d,etc:c,webpEnable:e,closePopup:()=>{t?.()}}),a.createElement(Er.A,{close:()=>t?.(),isActive:!0})),{});return}if(!p?.title)return;const t=(0,vn.A)(a.createElement(Gl,{goodsId:r,onClose:()=>t?.(),data:p,showRec:!0}),{})};return m&&1===f?a.createElement(a.Fragment,null,a.createElement(kn.nU,{page_el_sn:233158,others:{text_type:g}},a.createElement("div",{className:o()(Vl().wrap,{[Vl().clickAble]:!!p?.title||y}),onClick:_,tabIndex:0,role:"button","aria-label":m,"aria-haspopup":"dialog"},a.createElement(Pl.A,{className:Vl().icon}),a.createElement("span",{className:Vl().content},m)))):null})));n(25440);var ql=e=>{let{text:t,keywords:n,style:r,className:o}=e;if(!t)return null;if(!n||0===n.length||!Array.isArray(n))return t;const i=n.map((e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))),s=new RegExp(`(${i.join("|")})`,"gi"),l=t.split(s);return a.createElement(a.Fragment,null,l.map(((e,t)=>s.test(e)?a.createElement("span",{key:t,style:r,className:o},e):a.createElement(a.Fragment,{key:t},e))))},Kl=n(27383),$l=n.n(Kl),Jl=n(19041),Yl=n(11934),Ql=n.n(Yl);const Xl=e=>{let{data:t,level:n}=e;const{title:r,conditionDefinitions:o}=t||{},{t:i}=(0,p.B)("goods");return(0,a.useEffect)((()=>{setTimeout((()=>{if(void 0===n)return;const e=o?.findIndex((e=>Number(e.level)===Number(n))),t=document.querySelectorAll(`.${Ql().definition}`)?.[e];t?.scrollIntoView({behavior:"smooth"})}),500)}),[]),a.createElement(ja.A,{size:"l",title:r,onConfirm:qn.L,onClose:qn.L,confirmButtonLabel:i("goodsDetail.ok")},a.createElement("div",null,o?.map(((e,t)=>{const{definitionName:n,definitionDesc:r}=e||{};return a.createElement("div",{className:Ql().definition,key:t},n?a.createElement("div",{className:Ql().definitionTitle},n):null,r?.length?a.createElement("div",{className:Ql().desc},r?.map(((e,t)=>a.createElement("div",{className:Ql().descItem,key:t},e)))):null)}))))},Zl=(0,i.PA)((function(){const e=(0,N.Pj)(),{moduleMap:t,optimalSku:n}=e,{skuPrefixes:r}=t?.goodsDetailTitleModule?.data||{},i=r?.[n?.skuId];return i?.textRich?.length?a.createElement(a.Fragment,null,a.createElement(Va.l5,{newRichText:i,className:o()($l().prefix,$l().right),style:{textAlign:"left"}})):null})),ec=(0,i.PA)((function(){const e=(0,N.Pj)(),{moduleMap:t,optimalSku:n,$service:r}=e,{skuSuffix:i}=t?.goodsDetailTitleModule?.data||{},s=i?.[n?.skuId],l=(0,a.useMemo)((()=>{const{popType:e}=s?.action?.content||{};return e&&[Ha.CV.UsedInfoPopup].includes(e)}),[s]),c=(0,Jl.je)((async e=>{const{goodsId:t,level:n}=e?.content?.popData||{},{result:o}=await r.queryUsedInfo({goods_id:t})||{};o?.title&&o?.conditionDefinitions?.length&&(0,qn.P)({popupNode:a.createElement(Xl,{data:o,level:n})})}));return s?.textRich?.length?a.createElement(a.Fragment,null,a.createElement(Va.l5,{showPopup:l?c:void 0,newRichText:s,className:o()($l().suffix,$l().right,{[$l().used]:s?.action?.content?.popType===Ha.CV.UsedInfoPopup}),style:{textAlign:"left"}})):null})),tc=e=>{const{children:t,showSplitLine:n}=e;return t?a.createElement(a.Fragment,null,t,n?a.createElement("span",{className:$l().line}):null):null},nc=(0,i.PA)((function(){const e=(0,N.Pj)(),{moduleMap:t,optimalSku:n,deliveryTag:r,control:o}=e,{skuId:i}=n||{},{skuPrefixes:s,skuSuffix:l}=t?.goodsDetailTitleModule?.data||{},c=s?.[i],u=l?.[i],d=c?.textRich?.length,m=u?.textRich?.length,{text1:p}=r||{},{localWarehouseIterate:g}=o?.detailSupportExperimentControl||{},h=(0,a.useMemo)((()=>{const e=[];return d&&e.push({Comp:Zl,isSolidTag:!!c?.bgColor}),p&&1===g&&e.push({Comp:jl,isSolidTag:!1}),m&&e.push({Comp:ec,isSolidTag:!!u?.bgColor}),e}),[m,u,d,p,g,c]);return a.createElement(a.Fragment,null,h.map(((e,t)=>{const{Comp:n,isSolidTag:r}=e||{},o=t!==h.length-1&&h.length>1&&r===h?.[t+1]?.isSolidTag;return a.createElement(tc,{showSplitLine:o,key:t},a.createElement(n,null))})))}));var ac=(0,In.W4)({name:"GoodsName"})((0,i.PA)((function(e){let{goodsName:t}=e;const n=(0,a.useRef)(null),r=t?.split?.(" ")||[],{grayConfig:i,titleSpecHighlight:s}=(0,N.Pj)(),l=1===i?.cp158269?.style,c=2===i?.cp158269?.style,[u,d]=(0,a.useState)(!(l||c)),[m,p]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{if(n.current){const{scrollWidth:e,clientWidth:t}=n.current;e>t&&(0,A.A)("goodsNameWordTooLong")}}),[]),(0,a.useEffect)((()=>{const e=()=>{if(n.current&&(c||l)){const{height:e}=n.current?.getBoundingClientRect()||{};e>45&&p(!0)}};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[n,c,l]),a.createElement(kn.nU,{page_el_sn:242168,useClick:!1,others:{firstcharacter_num:r?.[0]||"",topic_character_num:r?.join?.("")?.length||0}},a.createElement("div",{className:o()($l().wrap,{[$l().fontSize14]:l,[$l().fontSize15]:c}),style:!l&&!c||u?{}:{maxHeight:45},role:"textbox","aria-label":t,tabIndex:0},a.createElement("div",{className:$l().oneMoreLine},a.createElement("div",{className:o()($l().goodsName,!!s&&$l().goodsNameWithHighlight),ref:n},a.createElement(nc,null),a.createElement(ql,{text:t||"",keywords:s?[s]:[],className:$l().highlight}))),m&&!u?a.createElement("div",{className:$l().arrowWrap},a.createElement(Br.A,{className:$l().seeAllArrow,onClick:()=>d(!0)})):null))}))),rc=n(19615),oc=n.n(rc);const ic=206971;function sc(e){let{tailIcons:t,className:n,...r}=e;return a.createElement("div",(0,q.A)({className:o()(oc().suffixIcons,n)},r),t.map((e=>e?.url?a.createElement(On.A,{src:e.url,resizeWidth:100,className:oc().actionIcon,alt:""}):null)))}function lc(e){let{action:t,tailIcons:n}=e;return n?.length?t?.type===Kn.Dialog?a.createElement(_r.A,{appendToBody:!0,adapted:!0,overlay:a.createElement("div",{className:oc().dialogContent},t?.content?.dialogContent)},a.createElement(sc,{tailIcons:n,className:oc().clickable})):a.createElement(sc,{tailIcons:n}):null}var cc=(0,In.W4)({name:"Highlight"})((0,a.memo)((function(e){let{tag:t}=e;const{t:n}=(0,p.B)("goods"),{content:r}=t||{},i=r?.filter((e=>e?.text));return i?.length?a.createElement(he.Ay,{payload:{page_el_sn:ic,tag_list:i.map((e=>e.text))}},a.createElement("div",{className:oc().wrap,"data-id":"module"},a.createElement("div",{className:oc().title,tabIndex:0,role:"button"},n("main_detail.highlight")),a.createElement("div",{className:oc().list,"aria-label":(0,Sr.ft)(i),tabIndex:0,role:"button"},i.map(((e,t)=>{const{text:n,icon:r,linkUrl:i,color:s,action:l,tailIcons:c}=e||{},{url:u}=r||{};return a.createElement(Eo.N_,{seoUrl:i,url:i,onClick:()=>(e=>{const{linkUrl:t,text:n}=e;t&&((0,tn.AI)(ic,{tag_name:n,srch_enter_source:"10032206971",search_method:"gd_tags"}),(0,Zt.MJ)(t,{openTarget:"_blank"}))})(e),className:o()(!i&&oc().link,oc().itemWrap)},a.createElement("div",{key:t,className:oc().item,"aria-label":n},u?a.createElement(On.A,{resizeWidth:50,src:u,"aria-hidden":!0,alt:n}):null,a.createElement("span",{className:o()(i&&oc().text,c?.length&&oc().icons),style:{color:s}},n),a.createElement(lc,{action:l,tailIcons:c}),!!i&&a.createElement("div",{className:oc().right},a.createElement(Ft.hu,{direction:"right",className:oc().arrow,style:{fill:s},"aria-hidden":!0}))))}))))):null}))),uc=n(16299),dc=n.n(uc);const mc=(0,In.W4)({name:"TransitionText"})((0,a.memo)((function(e){const{children:t,rightMaskClassName:n,leftMaskClassName:r,className:i,showTransition:s,pageElSn:l,animationTime:c=5,speed:u,uniqueId:d=1,leftMaskStyle:m,rightMaskStyle:p}=e,g=(0,a.useRef)(),h=(0,a.useRef)(),[f,y]=(0,a.useState)(),_=(0,a.useMemo)((()=>u&&f?f/u:c),[c,f,u]),[E,b]=(0,a.useState)(!1),S=()=>{if(!h.current||!g.current)return;const{width:e}=h.current.getBoundingClientRect(),{width:t}=g.current.getBoundingClientRect();b(t>e),y(t)};return(0,a.useEffect)((()=>{S();const e=(0,Xo.s)(S,50);return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[h.current,g.current,s]),(0,a.useEffect)((()=>{S()}),[h.current,g.current,s,d]),a.createElement(kn.nU,{page_el_sn:l},a.createElement("div",{className:o()(dc().wrap,i,E&&dc().transitionWrap),ref:h},a.createElement("div",{className:o()(dc().cont,E&&s&&dc().showAni),style:{animationDuration:_+"s"}},a.createElement("div",{className:o()(dc().txt),ref:g},(0,a.cloneElement)(t)),a.createElement("div",{className:o()(dc().txt)},(0,a.cloneElement)(t))),E&&s?a.createElement("div",{className:o()(dc().leftMask,r),style:m}):null,E?a.createElement("div",{className:o()(dc().rightMask,n),style:p}):null))})));var pc=n(43935),gc=n.n(pc);var hc=(0,In.W4)({name:"LocalGoodsDeliveryInfo"})((0,i.PA)((()=>{const{deliveryTag:e,control:t,goodsId:n}=(0,N.Pj)(),{text1:r,text2:i,shippingFloatingLayer:s,type:l}=e||{};return r&&i&&1!==t?.detailSupportExperimentControl?.localWarehouseIterate?a.createElement(kn.nU,{page_el_sn:233158,others:{text_type:l}},a.createElement("div",{className:o()(gc().wrap,{[gc().clickAble]:!!s?.title,[gc().greenStyle]:1===t?.detailSupportExperimentControl?.supportDeliveryTagStyle}),onClick:()=>{if(!s?.title)return;const e=(0,vn.A)(a.createElement(Gl,{goodsId:n,onClose:()=>e?.(),data:s,showRec:!0}),{})},tabIndex:0,role:"button","aria-label":`${r}${i}`,"aria-haspopup":"dialog"},a.createElement(an.d,null,a.createElement(Pl.A,{className:gc().icon})),a.createElement("div",{className:gc().left},r),a.createElement("div",{className:gc().line}),a.createElement("div",{className:gc().right},a.createElement(mc,{showTransition:!0,speed:40,className:gc().transition,leftMaskClassName:gc().leftMaskClassName,rightMaskClassName:gc().rightMaskClassName},a.createElement("div",{className:gc().txt},i))))):null}))),fc=n(67926),yc=n(9975),_c=n.n(yc);var Ec=(0,i.PA)((e=>{let{className:t,onClickAdd:n,cartScene:r=xn.xi.MainGoods,buttonContent:o,btnText:i,buttonType:s=Gt.el.primary,btnBottomContent:l,beforeContentIcon:c,beforeBtnTextIcon:u,style:d,pageElSn:m,buttonTextStyle:g}=e;const{t:h}=(0,p.B)("goods"),f=o||i||h("main_detail.btnText");return a.createElement("div",{className:_c().wrap,"aria-label":f,role:"button","data-id":"button"},a.createElement(fc.Y,{useClick:!1,useLoad:!1,pageElSn:m||200061,others:{cart_scene:r,cart_type:0},className:t,type:s,onClick:n,btnContent:f,btnBottomContent:l,beforeBtnTextIcon:u,beforeContentIcon:c,style:d,buttonTextStyle:g}))})),bc=n(67388),Sc=n(88126),vc=n(50667),Ic=n.n(vc);const wc=e=>{let{onClick:t=Sr.lQ,cartScene:n,page_el_sn:r=212740,className:i,buttonType:s}=e;const l=s===Gt.el.border;return a.createElement("div",{className:o()(Ic().left,Ic().operation,l&&Ic().operation4BorderButtonStyle,i),role:"button",tabIndex:0,onClick:t},a.createElement(kn.Rp,{page_el_sn:r,others:{cart_scene:n}},a.createElement(bc.i,{className:Ic().operationIcon,path:"M853.3 448c35.3 0 64 28.7 64 64 0 32.4-24.1 59.2-55.3 63.4l-8.7 0.6-682.6 0c-35.3 0-64-28.7-64-64 0-32.4 24.1-59.2 55.3-63.4l8.7-0.6 682.6 0z"})))},kc=(0,a.memo)((function(e){const{addedAmount:t,limitQuantity:n=99,onClickAdd:r,isScrolling:i,cartScene:s,renderCustomSubBtn:l,onSubClick:c,midBubbleListPlacement:u="bottom",className:d,onChange:m,min:g=0,verifyNextVal:h,buttonType:f,renderCustomListItem:y,listWrapClassName:_,specText:E,style:b,buttonTextStyle:S}=e,v=(0,a.useRef)(),I=f===Gt.el.border,{t:w}=(0,p.B)("goods");(0,a.useEffect)((()=>{i&&v.current?.close()}),[i]);const k=async()=>{c?.();const e=t-1,n=e<=g?Sa.Delete:Sa.Update,a=e<=g?0:-1;await r({addCount:a,operateType:n,cartScene:s}),m?.()},N=(0,Sc.A)((async e=>{if(v.current?.close(),e-t<=g&&(0,ge.E0)({page_el_sn:212286,cart_scene:s,cart_type:4,quantity:e,choose_effect:2,sku_number:e-t}),e===t)return;let n=!0;"function"==typeof h&&(n=h(e)),n&&(await r({addCount:e-t,operateType:Sa.Update,clickEventData:{page_el_sn:212286,quantity:e,choose_effect:1},cartScene:s}),m?.())})),A=Math.min(n,99),C=(0,a.useMemo)((()=>new Array(A).fill(0).map(((e,t)=>t+1))),[A]);return a.createElement("div",{className:o()(Ic().addCartBtn,I&&Ic().addCartBtn4BorderButtonStyle,d),"data-id":"button",style:b},I?a.createElement("span",{className:Ic().inner}):null,"function"==typeof l?l({addedAmount:t}):a.createElement(wc,{onClick:k,cartScene:s,buttonType:f}),a.createElement(_r.A,{overlay:a.createElement(kn.Rp,{page_el_sn:212253,useClick:!1},a.createElement("div",{className:o()(Ic().listWrap,Ic().listX,_)},a.createElement("div",{className:Ic().listY},C?.map((e=>{const n=t===e;return a.createElement("div",{className:o()(Ic().listItem,{[Ic().activeItem]:n,[Ic().disableItem]:e<g&&!n}),key:e,role:"button",tabIndex:0,onClick:()=>N(e)},"function"==typeof y?y({num:e,isActive:n}):a.createElement(a.Fragment,null,e,n?a.createElement(bc.i,{path:"M833.3 246.6c25.1-24.9 65.6-24.7 90.5 0.4 22.6 22.8 24.5 58.4 5.9 83.3l-6.3 7.2-496.3 492.2c-22.8 22.6-58.2 24.5-83.2 6l-7.2-6.2-245.5-246.1c-25-25-24.9-65.5 0.1-90.5 22.8-22.7 58.3-24.7 83.4-6.1l7.1 6.2 200.4 200.8 451.1-447.2z","aria-hidden":!0,className:Ic().arrowIcon}):null))}))))),placement:u,trigger:["click"],overlayClassName:Ic().bubble,ref:v,appendToBody:!0},a.createElement("div",{className:o()(Ic().mid,I&&Ic().mid4BorderButtonStyle),onClick:e=>{e.stopPropagation()},role:"button",tabIndex:0},a.createElement(kn.Rp,{page_el_sn:212741,others:{cart_scene:s}},a.createElement("div",{className:Ic().midContainer},a.createElement("div",{className:o()(Ic().midTop,{[Ic().buttonTextStyle12]:[1,2].includes(S||0),[Ic().buttonTextStyle3]:3===S,[Ic().buttonTextStyle4]:4===S})},t,a.createElement("span",{className:Ic().added},w(t>1?"main_detail.AddedPlural":"main_detail.Added"))),a.createElement("div",{className:o()(Ic().spec,{[Ic().spec1]:1===S,[Ic().spec2]:2===S,[Ic().spec3]:3===S})},E))))),a.createElement(kn.Rp,{useClick:!1,page_el_sn:212739,others:{cart_scene:s,cart_type:0}},a.createElement("div",{className:o()(Ic().right,Ic().operation,I&&Ic().operation4BorderButtonStyle),onClick:async()=>{await r({addCount:1,operateType:Sa.Update,clickEventData:{page_el_sn:212739},cartScene:s}),m?.()},role:"button",tabIndex:0},a.createElement(bc.i,{className:Ic().operationIcon,path:"M512 106.7c32.4 0 59.2 24.1 63.4 55.3l0.6 8.7 0 277.3 277.3 0c35.3 0 64 28.7 64 64 0 32.4-24.1 59.2-55.3 63.4l-8.7 0.6-277.3 0 0 277.3c0 35.3-28.7 64-64 64-32.4 0-59.2-24.1-63.4-55.3l-0.6-8.7 0-277.3-277.3 0c-35.3 0-64-28.7-64-64 0-32.4 24.1-59.2 55.3-63.4l8.7-0.6 277.3 0 0-277.3c0-35.3 28.7-64 64-64z"}))))}));var Nc=n(25832),Ac=n.n(Nc);var Cc=(0,i.PA)((e=>{let{onClickAdd:t,isScrolling:n,cartScene:r,className:o,buttonType:i,style:s}=e;const{currentSpecIdSelect:l,selectedSku:c,addedAmount:u,moduleMap:d,optimalSku:m,selectedSkuSpec:p,buttonTextStyle:g}=(0,N.Pj)(),{skuId:h}=c||{},f=(0,a.useRef)(),{skuId:y}=m||{},{freeShippingBenefit:_,skuFreeShippingLowestQuantity:E}=d?.skuSpecSelectorModule?.data||{},b=E?.[y]||1/0,S=async()=>{f.current?.close();const e=u-1,n=e<=0?Sa.Delete:Sa.Update,a=e<=0?0:-1;await t({addCount:a,operateType:n})},{limitQuantity:v}=c||{},I=((0,a.useCallback)((e=>{let{num:t,isActive:n}=e;return a.createElement(a.Fragment,null,a.createElement("span",null,a.createElement("span",null,t),_&&t>=b?a.createElement("span",{className:Ac().benefit},_):null),n?a.createElement(bc.i,{path:"M833.3 246.6c25.1-24.9 65.6-24.7 90.5 0.4 22.6 22.8 24.5 58.4 5.9 83.3l-6.3 7.2-496.3 492.2c-22.8 22.6-58.2 24.5-83.2 6l-7.2-6.2-245.5-246.1c-25-25-24.9-65.5 0.1-90.5 22.8-22.7 58.3-24.7 83.4-6.1l7.1 6.2 200.4 200.8 451.1-447.2z","aria-hidden":!0,className:Ac().arrowIcon}):null)}),[_,b]),(0,a.useMemo)((()=>p.map((e=>e.specValue))?.join("/")),[l,p]));return a.createElement(kc,{addedAmount:u,limitQuantity:v,skuId:h,specText:I,cartScene:r,isScrolling:n,onSubClick:f.current?.close,onClickAdd:t,renderCustomSubBtn:()=>a.createElement(wc,{onClick:S,buttonType:i}),className:o,buttonType:i,style:s,buttonTextStyle:g})}));var Tc=(0,i.PA)((e=>{let{onClickAdd:t,buttonTextStyle:n}=e;const{t:r}=(0,p.B)("goods");return a.createElement(fc.Y,{onClick:t,btnContent:r("main_detail.btnGiftText"),"data-id":"button",buttonTextStyle:n})})),xc=n(41889),Pc=n.n(xc);var Rc=(0,i.PA)((e=>{const{buttonTextStyle:t}=e,{addOrderInfoStore:n}=(0,N.Pj)(),{promotionDefaultDesc:r}=n,{t:i}=(0,p.B)("goods");return a.createElement("span",{className:o()(Pc().wrap,{[Pc().buttonTextStyle1]:1===t,[Pc().buttonTextStyle2]:2===t,[Pc().buttonTextStyle3]:3===t})},r||i("AddOrderButtonText_default"))})),Mc=n(24805),Dc=n.n(Mc);var Bc=(0,i.PA)((e=>{let{onClickAdd:t,className:n,style:r}=e;const{t:i}=(0,p.B)("goods"),s=(0,N.Pj)(),{selectedSku:l,addOrderInfoStore:c,moduleMap:u,optimalSku:d,buttonTextStyle:m}=s,{skuButtonCustoms:g,skuButtonSubBlock:h}=u?.bottomButtonModule?.data?.oneClickPayButton||{},{order:f,isAddOrderScene:y,isFromAddOrderPage:_}=c,{skuId:E}=l||{},{skuId:b}=d||{},{parentOrder:S,buttonDesc:v}=f||{},{parentOrderSn:I}=S||{},w={add_scene:E?0:1,original_order_sn:I},k=_?304:406,{buttonTitle:A}=g?.[b]||{},C=(0,a.useMemo)((()=>h?.[b]?.textRich?.length?a.createElement(Va.l5,{newRichText:h[b]}):a.createElement(Rc,{buttonTextStyle:m})),[h,b,m]),T=A||v||i("main_detail.btnAllowPurchaseText");return y?a.createElement(fc.Y,{pageElSn:200829,others:w,onClick:()=>t({addType:xn.H$.addOrder,pageSource:k,cartScene:xn.xi.AddOrder,frontControl:{supportPersonalize:!0},addCustomInfoBtnText:T}),btnContent:T,label:i("main_detail.btnAllowPurchaseText"),btnBottomContent:C,className:o()(Dc().min,n),style:r,showFlash:!0,"data-id":"button",buttonTextStyle:m}):null})),Oc=n(36059),Lc=n.n(Oc);function Wc(e){let{iconUrl:t,className:n=""}=e;return t?a.createElement("div",{className:o()(Lc().lightImgWrap,n)},a.createElement(On.A,{src:t,resizeWidth:500,className:Lc().lightImg})):null}function zc(e){let{iconUrl:t}=e;return t?a.createElement(On.A,{src:t,resizeWidth:100,className:Lc().smallIcon,alt:""}):null}var Fc=n(21854),Uc=n.n(Fc);const Gc=(0,In.W4)({name:"BtnBottomPromotionContent"})((0,i.PA)((function(e){let{benefit:t,className:n,pageElSn:r,enableTransition:i,transLeftMaskStyle:s,transRightMaskStyle:l}=e;const[c,u]=(0,a.useState)(t),[d,m]=(0,a.useState)(!1),[p,g]=(0,a.useState)(!1),h=(0,a.useRef)();(0,a.useEffect)((()=>{(null===t||t)&&u(t)}),[t]),(0,a.useEffect)((()=>{m(!0)}),[c]);const f=()=>u(null);if(!c)return null;const y={...c,track:{impr:{pageElSn:r,btn_benefits_type:c?.trackingKey},useClick:!1}};return a.createElement("div",{className:o()(Uc().wrap,n,{[Uc().unvisible]:!d}),style:d?{}:{animation:"none"},onAnimationEnd:()=>{i&&(clearTimeout(h.current),h.current=setTimeout((()=>{g(!0)}),1e3))}},i?a.createElement(mc,{showTransition:p,className:Uc().transitionText,speed:25,uniqueId:c,leftMaskStyle:s,rightMaskStyle:l},a.createElement(Va.l5,{newRichText:y,className:Uc().richTextWithTransition,timeEndCb:f})):a.createElement(Va.l5,{newRichText:y,className:Uc().richText,timeEndCb:f}))})));const Hc=new(n(37007).EventEmitter),Vc={BUY_NOW_CLICK:Symbol("BUY_NOW_CLICK")},jc=233215;let qc=function(e){return e[e.GOODS_DETAIL=0]="GOODS_DETAIL",e[e.SKU=1]="SKU",e[e.SKU_PANEL=2]="SKU_PANEL",e[e.BIG_GALLERY=3]="BIG_GALLERY",e}({});var Kc=n(77102),$c=n.n(Kc);var Jc=(0,i.PA)((e=>{let{onClickAdd:t,buttonType:n,className:r,style:i,btnText:s,hideButtonSubtext:l,pageElSn:c}=e;const{t:u}=(0,p.B)("goods"),d=(0,N.Pj)(),{buyNowButtonStore:m,addCartButtonStore:g,buttonTextStyle:h}=d,{buyNowBenefitRich:f,prefetch:y,supportQuickMerge:_}=m||{},{activityBottomIcon:E,isShowBeforeContentIcon:b,isShowBeforeBtnTextIcon:S,isShowClearanceMainButtonStyle:v,clearanceMainButtonStyleData:I}=g||{},w=v?{"--left-mask-bg-color":I?.normalColor,"--right-mask-bg-color":I?.normalColor}:{},k={buy_scene:qc.GOODS_DETAIL};(0,a.useEffect)((()=>{(0,A.A)("BuyNowButtonShow"),_&&gs?.()}),[]);const C=(0,pn.w)(t);(0,a.useEffect)((()=>(Hc.on(Vc.BUY_NOW_CLICK,C),()=>{Hc.off(Vc.BUY_NOW_CLICK,C)})),[C]);return a.createElement("div",{className:$c().wrap,"data-id":"button"},a.createElement(fc.Y,{useClick:!1,useLoad:!1,pageElSn:c||jc,others:k,onMouseDown:e=>{e.preventDefault(),1==+e?.buttons&&y()},onMouseLeave:()=>{_&&ys?.()},onClick:t,type:n,btnContent:s||u("main_detail.buyNowBtnText"),className:o()(b&&$c().btn,r),style:i,btnBottomContent:1!==l?a.createElement(Gc,{benefit:f,pageElSn:235809,className:o()({[$c().promotion]:b,[$c().promotionWithInstallmentBenefit]:!b}),enableTransition:!0,transLeftMaskStyle:w,transRightMaskStyle:w}):null,beforeBtnTextIcon:S?a.createElement(zc,{iconUrl:E.activitySmallIcon}):null,beforeContentIcon:b?a.createElement(Wc,{iconUrl:E.activityBigIcon}):null,buttonTextStyle:h}))}));const Yc=(0,a.memo)((function(e){const{onClickAdd:t,className:n,style:r,btnBottomContent:o,buttonTextStyle:i}=e||{},{t:s}=(0,p.B)("goods");return a.createElement(fc.Y,{type:Gt.el.primary,onClick:t,btnContent:s("main_personalization.Personalize"),btnBottomContent:o,label:s("main_personalization.Personalize"),"data-id":"button",className:n,style:r,buttonTextStyle:i})}));var Qc=n(26013);function Xc(){const{findSimilarStore:e,grayConfig:t,selectedSku:n,goods:r,goodsId:o,localInfo:i}=(0,N.Pj)(),{showFindSimilarPopup:s}=e,l=(0,Aa.xc)(i?.region)||Ca.DR.us,c=!!t?.[Zc[l]]?.value,u=(0,a.useMemo)((()=>{const{salePriceRich:e,linePriceRich:t,goodsName:a}=r||{},{salePriceRich:i,linePriceRich:s}=n||{};return{goodsId:o,thumbUrl:n?.thumbUrl||r?.hdThumbUrl||r?.thumbUrl,priceInfo:{priceText:(i||e)?.map((e=>e.text))||[],marketPriceText:(s||t)?.map((e=>e.text))||[]},title:a}}),[o,r,n]);return{showFindSimilar:(0,Ba.x)((()=>{c?(0,Qc.t)({mainGoodsInfo:u,pageSn:xn.LM}):s()}),200)}}const Zc={[Ca.DR.eu]:"cp146095",[Ca.DR.us]:"cp145133",[Ca.DR.udp]:"cp145133"};var eu=(0,i.PA)((e=>{let{className:t,style:n}=e;const{t:r}=(0,p.B)("goods"),{supportFindSimilar:o,buttonTextStyle:i}=(0,N.Pj)(),{showFindSimilar:s}=Xc();return o?a.createElement(fc.Y,{pageElSn:203048,onClick:s,btnContent:r("main_detail.findSimilar"),label:r("main_detail.findSimilar"),"data-id":"button",className:t,style:n,buttonTextStyle:i}):null})),tu=n(34077),nu=n.n(tu);var au=(0,i.PA)((e=>{let{buttonType:t,className:n,style:r,buttonTextStyle:o}=e;const{t:i}=(0,p.B)("goods");(0,a.useEffect)((()=>{(0,A.A)("GotocartButtonShow")}),[]);const{onMouseDown:s,onClick:l}=(0,Ms.E)({scene:20001,grayConfig:{prerender:1}});return a.createElement("div",{className:nu().wrap,style:{maxWidth:"292px"},"data-id":"button"},a.createElement(fc.Y,{useClick:!0,useLoad:!1,pageElSn:228098,onMouseDown:s,onClick:()=>{l(),(0,A.A)("GotocartButtonClick")},type:t,btnContent:i("main_detail_addedPopup.popupCorecartBtn"),className:n,style:r,buttonTextStyle:o}))}));var ru=(0,i.PA)((e=>{let{onClickAdd:t}=e;const{moduleMap:n,optimalSku:r,buttonTextStyle:o}=(0,N.Pj)(),{pointsRedeemButtonMap:i}=n?.bottomButtonModule?.data||{},{skuId:s}=r||{},{buttonText:l}=i?.[s]||{};return a.createElement(fc.Y,{onClick:t,btnContent:l,"data-id":"button",buttonTextStyle:o})})),ou=n(55993),iu=n.n(ou),su=(0,Xt.A)((0,In.W4)({name:"MainButton"}),i.PA)((e=>{let{onClickAdd:t,isScrolling:n,cartScene:r}=e;const{t:i}=(0,p.B)("goods"),s=(0,N.Pj)(),{isGiftGoods:l,showFindSimilarBar:c,goodsSoldOut:u,isSEOSoldOut:d,isSupportNewCustomized:m,addedAmount:g,control:h,buyNowButton:f,addCartButtonStore:y,addOrderInfoStore:_,buyNowButtonStore:E,selectedBenefitTags:b,redeemPointsBtnStore:S,moduleMap:v,optimalSku:I,buttonTextStyle:w}=s,{isRedeemPoints:k}=S,{isAddOrderScene:A,isGoodsAddOrderAB:C}=_,{addCartBenefitBlack4Bottom:T,addCartBenefit4Bottom:x,activityBottomIcon:P,isShowBeforeContentIcon:R,isShowBeforeBtnTextIcon:M,isShowClearanceMainButtonStyle:D,clearanceButtonStyle:B}=y,{buyNowBenefitRich:O}=E,{addToCartButton:L}=v?.bottomButtonModule?.data||{},{skuId:W}=I||{},z=(0,a.useMemo)((()=>({btn_benefits_type:T?.trackingKey})),[T]),F=(0,a.useMemo)((()=>({page_el_sn:jc,buy_scene:qc.SKU,btn_benefits_type:O?.trackingKey})),[O]),U=(0,a.useMemo)((()=>L?.skuButtonCustoms?.[W]),[W]),G=(0,a.useMemo)((()=>f?.skuButtonCustoms?.[W]),[W]);if(u||d)return a.createElement(fc.Y,{useLoad:!1,disable:!0,btnContent:i("main_detail.soldOut"),"data-id":"button",buttonTextStyle:w});if(l)return a.createElement(Tc,{onClickAdd:()=>t({addType:xn.H$.addGift}),buttonTextStyle:w});if(k)return a.createElement(ru,{onClickAdd:()=>t({addType:xn.H$.redeemPoints})});if(c)return a.createElement(a.Fragment,null,a.createElement(eu,{className:o()({[iu().clearanceBtn]:D}),style:D?B:{}}));if(C)return a.createElement(a.Fragment,null,a.createElement(Bc,{onClickAdd:t,className:o()({[iu().clearanceBtn]:D}),style:D?B:{}}),a.createElement(Ec,{onClickAdd:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t({addType:xn.H$.addCart,cartScene:r,frontControl:{supportPersonalize:!0},...e})},buttonType:Gt.el.border,cartScene:r,buttonTextStyle:w}));if(A&&!C)return a.createElement(a.Fragment,null,a.createElement(Bc,{onClickAdd:t,className:o()({[iu().clearanceBtn]:D}),style:D?B:{}}));if(f){const e=!!g&&!m;return a.createElement(a.Fragment,null,!e&&a.createElement(Ec,{onClickAdd:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t({addType:xn.H$.addCart,trackingInfo:z,clickEventData:{page_el_sn:200061,...b,...z},cartScene:r,frontControl:{supportPersonalize:!0},...e})},btnText:U?.buttonTitle,btnBottomContent:1!==U?.hideButtonSubtext?a.createElement(Gc,{benefit:T,pageElSn:235808}):null,buttonType:Gt.el.border,cartScene:r,buttonTextStyle:w}),!!e&&a.createElement(Cc,{onClickAdd:t,isScrolling:n,cartScene:r,buttonType:Gt.el.border}),a.createElement(Jc,{onClickAdd:()=>t({trackingInfo:F,clickEventData:F,addType:xn.H$.buyNow,cartScene:"",frontControl:{supportPersonalize:!0},addCustomInfoBtnText:i("main_detail.buyNowBtnText")}),className:o()(iu().buyNowButton,{[iu().clearanceBtn]:D}),style:D?B:{},btnText:G?.buttonTitle,hideButtonSubtext:G?.hideButtonSubtext}))}return m?a.createElement(Yc,{onClickAdd:()=>t({frontControl:{supportPersonalize:!0}}),className:o()({[iu().clearanceBtn]:D}),style:D?B:{},btnBottomContent:1!==U?.hideButtonSubtext?a.createElement(Gc,{benefit:x,className:o()(R&&iu().promotion),pageElSn:235808}):null,buttonTextStyle:w}):g?a.createElement(a.Fragment,null,a.createElement(Cc,{onClickAdd:t,isScrolling:n,className:iu().addedButton4Gotocart,cartScene:r,buttonType:Gt.el.border}),a.createElement(au,{className:o()({[iu().clearanceBtn]:D}),style:D?B:{},buttonTextStyle:w})):a.createElement(Ec,{className:o()({[iu().clearanceBtn]:D}),style:D?B:{},onClickAdd:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,Ua.SD)([Ua.gn.addedPopupShowTime,Ua.gn.goodsPullUpSkuTime]),t({addType:xn.H$.addCart,cartScene:r,frontControl:{supportPersonalize:!0},...e})},btnText:U?.buttonTitle,btnBottomContent:1!==U?.hideButtonSubtext?a.createElement(Gc,{benefit:x,className:o()(R&&iu().promotion),pageElSn:235808}):null,cartScene:r,beforeContentIcon:R?a.createElement(Wc,{iconUrl:P.activityBigIcon}):null,beforeBtnTextIcon:M?a.createElement(zc,{iconUrl:P.activitySmallIcon}):null,buttonTextStyle:w})})),lu=n(7417),cu=n.n(lu);let uu;async function du(){return uu||(uu=n.e(1752).then(n.bind(n,34800)).then((e=>{let{default:t}=e;return t})).catch((()=>null)),uu)}var mu=(0,Xt.A)((0,In.W4)({name:"PackingInfo"}),i.PA)((()=>{const{t:e}=(0,p.B)("goods"),{moduleMap:t,$service:n,goodsId:r,sku:o}=(0,N.Pj)(),{packingInfoEntrance:i}=t?.productDetailExtensionModule?.data,s=(0,Sc.A)((async()=>{const t=(e=>{const{specs:t}=e?.[0]||{};return t?.map?.((e=>e?.specKeyId))||[]})(o),[i,s]=await Promise.all([n.queryGoodsExtend({packing_info_req:{need_packing_info:1,spec_key_ids:t},goods_id:r}),du()]);i?.goodsPackingInfo&&s?(0,qn.P)({popupNode:a.createElement(s,{packingInfo:i.goodsPackingInfo})}):(Fa.A.error(e("goodsDetail.noNetwork")),(0,A.A)("show PackingInfoPopup fail"))}));return i?.title?a.createElement(kn.nU,{page_el_sn:238779},a.createElement("div",{className:cu().wrap,tabIndex:0,"aria-label":i.title,role:"button",onClick:s},a.createElement("span",{className:cu().text},i.title),a.createElement(wn.A,{className:cu().arrow}))):null})),pu=n(90524),gu=n.n(pu);var hu=(0,i.PA)((()=>{const{preOrderTip:e,selectedSku:t}=(0,N.Pj)(),{t:n}=(0,p.B)("goods"),[r,o]=(0,a.useState)(e),{text:i,textFormat:s,iconUrl:l,dialog:c}=r||{},{fontSize:u,color:d,fontWeight:m}=s||{};(0,a.useEffect)((()=>{const{skuId:n}=t||{};n&&null!==e||o(null),e&&o(e)}),[t?.skuId,e]);return i?a.createElement(kn.Rp,{page_el_sn:206619},a.createElement("div",{className:gu().wrap},a.createElement("div",{className:gu().tipContent,onClick:e=>{e.stopPropagation();const{title:t,content:r}=c||{},o=(0,vn.A)(a.createElement(Ar.Ay,{onClick:()=>o()},a.createElement("div",{className:gu().dialogWrap},a.createElement("div",{className:gu().title},t),a.createElement("div",{className:gu().content},r?.map(((e,t)=>a.createElement("div",{key:t},e)))),a.createElement(Ut.A,{className:gu().confirm,onClick:()=>o()},n("PreOrder.PopupConfirm")))),{});(0,A.A)("PreOrderPopup")},role:"button","aria-haspopup":"dialog","aria-label":i,tabIndex:0},l?a.createElement(Nn.Ay,{className:gu().icon,src:l,alt:""}):null,a.createElement("span",{style:{fontSize:u,color:d,fontWeight:m}},i),c?a.createElement(fr.A,{className:gu().question,"aria-hidden":!0}):null))):null})),fu=n(50452),yu=n(94976),_u=n.n(yu);const Eu=e=>{let{closePopup:t,data:n}=e;const{popupButtonTextDisplayItem:r,popupRuleListDisplayItem:o,popupTitleDisplayItem:i}=n||{};return a.createElement(Ar.Ay,{onClick:t,useSplitBg:!0},a.createElement("div",{className:_u().wrap},i?.displayItems?.length?a.createElement("div",{className:_u().title},a.createElement(Go.mJ,{displayItems:i.displayItems})):null,o?.length?a.createElement("div",{className:_u().content},o.map(((e,t)=>e?.displayItems?.length?a.createElement("div",{className:_u().infoItem,key:t},a.createElement(Go.mJ,{displayItems:e.displayItems})):null))):null,r?.displayItems?.length?a.createElement("div",{className:_u().btnWrap},a.createElement(Ut.A,{onClick:t,className:_u().btn},a.createElement(Go.mJ,{displayItems:r.displayItems}))):null))};var bu=n(2484),Su=n.n(bu);const vu=(0,i.PA)((e=>{let{promotion:t}=e;const{endTimeText:n,discountInfoText:r,discountPopupInfoDto:o}=t||{},{popupButtonTextDisplayItem:i,popupRuleListDisplayItem:s,popupTitleDisplayItem:l}=o||{},c=!!n?.displayItems?.length,u=!!r?.displayItems?.length,d=!!(i&&s&&l),[m,p]=(0,a.useState)(c||u);if(!m)return null;const g=()=>{p(!1)};return a.createElement("div",{className:Su().contentWrap},u?a.createElement(Go.mJ,{displayItems:r.displayItems,onCountDown:g,timeCls:Su().digits}):null,c?a.createElement(a.Fragment,null,a.createElement("span",{className:Su().line}),a.createElement(Go.mJ,{displayItems:n.displayItems,onCountDown:g,timeCls:Su().digits})):null,d?a.createElement(fu.A,{className:Su().icon,onClick:()=>{(e=>{let{data:t}=e;const n=(0,vn.A)(a.createElement(Eu,{closePopup:()=>n?.(),data:t}),{})})({data:o})}}):null)}));var Iu=(0,In.W4)({name:"DailyPromotion"})((0,i.PA)((()=>{const{promotionUnderThePriceModule:e,promotionUnderThePriceModuleV2:t,optimalSku:n}=(0,N.Pj)(),{skuId:r}=n||{},o=t?.skuPromotionDescMap?.[r],i=e?.[r],s=(0,a.useMemo)((()=>o?.length?o:i?[i]:[]),[i,o]);return s?.length?a.createElement(kn.Rp,{useClick:!1,page_el_sn:232448},a.createElement("div",{className:Su().wrap},s.map(((e,t)=>a.createElement(vu,{key:t,promotion:e}))))):null}))),wu=n(16808),ku=n.n(wu),Nu=(0,Xt.A)((0,In.W4)({name:"GiftCell"}),i.PA)((function(){const{giftGoodsInfo:e}=(0,N.Pj)(),{giftCell:t}=e||{},{displayItems:n}=t||{};return n?.length?a.createElement("div",{className:ku().wrap,role:"button","aria-label":(0,Sr.ft)(n?.filter((e=>0===e.displayType&&e.text))),tabIndex:0},n.map(((e,t)=>{const{text:n,url:r,displayType:o,fontColor:i,height:s,width:l,fontWeight:c=400}=e||{},u={color:i,fontWeight:c},d={width:l,height:s};return 100===o&&r?a.createElement("div",{className:ku().giftImage,key:t},a.createElement(On.A,{src:r,quality:90,style:d,"aria-hidden":!0})):0===o&&n?a.createElement("div",{className:ku().giftText,style:u,key:t},n):null}))):null})),Au=n(70581),Cu=n.n(Au);var Tu=(0,In.W4)({name:"MemberPromotion"})((0,i.PA)((()=>{const{richTextBlockUnderThePriceModule:e,optimalSku:t}=(0,N.Pj)(),{skuId:n}=t||{},r=e?.[n];return r?.textRich?.length?a.createElement(Va.l5,{newRichText:r,style:{textAlign:"left"},className:Cu().memberPromotion}):null}))),xu=n(57721),Pu=n(51206),Ru=n(43282),Mu=n(88969),Du=n.n(Mu);const Bu=e=>{let{data:t,showPopup:n}=e;const{installmentsPriceContentList:r,displayWindowHint:i}=t||{};return r?.length?a.createElement(a.Fragment,null,r?.map(((e,t)=>a.createElement(Cr.aP,{data:e,key:t,imgCls:o()(t!==r.length-1&&Du().imgRight)}))),i?a.createElement(an.d,null,a.createElement(fr.A,{className:Du().icon,"aria-hidden":!0,onClick:n})):null):null},Ou=e=>{let{onArrowClick:t}=e;return a.createElement("div",{className:o()("splide__arrows",Du().arrowMask)},a.createElement("div",{style:{opacity:0,display:"none"},className:o()("splide__arrow splide__arrow--prev",Du().leftArrow,Du().arrow),onClick:()=>t("prev"),tabIndex:0,role:"button"},a.createElement(er.A,{direction:"left",className:o()(Du().baseArrowBtn),innerArrowClassName:Du().innerArrowClassName})),a.createElement("div",{style:{opacity:0,display:"none"},className:o()("splide__arrow splide__arrow--next",Du().rightArrow,Du().arrow),onClick:()=>t("next"),tabIndex:0,role:"button"},a.createElement(er.A,{direction:"right",className:o()(Du().baseArrowBtn),innerArrowClassName:Du().innerArrowClassName})))};var Lu=(0,In.W4)({name:"PayAfterActivity"})((0,i.PA)((function(){const{payBenefit:e}=(0,N.Pj)(),{promotionDisplayContentList:t,promotionClickDisplayFloatContent:n}=e||{},[r,o]=(0,a.useState)({}),i=(0,a.useRef)(null),s=(0,a.useRef)();if((0,Ru.A)("resize",(()=>{setTimeout((()=>{if(i.current?.clientWidth){o({maxWidth:i.current.clientWidth-15});const{splideRef:e}=s?.current||{},t=e?.current?.splide;t?.refresh?.(),t?.go?.(0)}}),0)}),Pu.z,{immediate:!0}),!t?.length)return null;const l=()=>{n&&(0,xu.e)(n)};return 1===t?.length?a.createElement("div",{className:Du().singleWrap},a.createElement(Bu,{data:t[0],showPopup:l})):a.createElement("div",{className:Du().wrap,ref:i},a.createElement(An.pM,{pageSize:1,ref:s,customArrows:a.createElement(Ou,{onArrowClick:e=>{(0,Tn.ev)(e,s,5)}}),onClick:l,onMoved:Tn.o2,trackClassName:Du().slideTrackWrap},t.map(((e,t)=>a.createElement(Cn.Nn,{key:t},a.createElement("div",{className:Du().itemWrap,style:r},a.createElement(Bu,{data:e})))))))}))),Wu=n(25377),zu=n(82541),Fu=n(81248),Uu=n(52081),Gu=n.n(Uu);const Hu=(0,i.PA)((function(e){let{onClickAdd:t}=e;const{t:n}=(0,p.B)("goods"),r=(0,N.Pj)(),{buyNowButton:i,optimalSku:s,buyNowButtonStore:l,addCartButtonStore:c,moduleMap:u}=r,{skuId:d}=s||{},{addToCartButton:m}=u?.bottomButtonModule?.data||{},{isShowClearanceMainButtonStyle:g,clearanceButtonStyle:h}=c,{buyNowBenefitRich:f}=l,y=(0,a.useMemo)((()=>({page_el_sn:240832,buy_scene:qc.SKU,btn_benefits_type:f?.trackingKey})),[f]),_=(0,a.useMemo)((()=>m?.skuButtonCustoms?.[d]),[d]);if(i){const e=i?.skuButtonCustoms?.[d];return a.createElement(Jc,{onClickAdd:()=>t({trackingInfo:y,clickEventData:y,addType:xn.H$.buyNow,cartScene:"",frontControl:{supportPersonalize:!0},addCustomInfoBtnText:n("main_detail.buyNowBtnText")}),btnText:e?.buttonTitle,hideButtonSubtext:1,className:o()({[Gu().clearanceBtn]:g}),style:g?h:{},pageElSn:240832})}return a.createElement(Ec,{className:o()({[Gu().clearanceBtn]:g}),style:g?h:{},onClickAdd:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,Ua.SD)([Ua.gn.addedPopupShowTime,Ua.gn.goodsPullUpSkuTime]),t({addType:xn.H$.addCart,cartScene:xn.xi.BestPricePopup,frontControl:{supportPersonalize:!0},clickEventData:{page_el_sn:240831},...e})},btnText:_?.buttonTitle,cartScene:xn.xi.BestPricePopup,pageElSn:240831})})),Vu=(0,In.W4)({name:"BestPriceLabel"})((0,i.PA)((function(e){let{onClickAdd:t}=e;const n=(0,N.Pj)(),{optimalSku:r,moduleMap:o}=n,{skuId:i}=r||{},{bestPriceRichMap:s}=o?.priceModule?.data||{},l=s?.[i],c=e=>{const{popType:r,popData:o}=e?.content||{};e?.type===Ha.E.bestPricePop&&r&&r===Ha.CV.BestPricePop&&o&&((0,Fu.bm)({data:o,optionButton:a.createElement(Hu,{onClickAdd:t}),store:n}),(0,A.A)("GoodsBestPricePopup show"))};return l?.length?a.createElement(a.Fragment,null,a.createElement("div",{className:Gu().bestRichWrap},l.map(((e,t)=>a.createElement(Va.l5,{newRichText:e,style:{textAlign:"left"},className:Gu().suffixRich,key:t,showPopup:c,showPopupWhiteList:[Ha.E.bestPricePop],countdownCls:Gu().countdown}))))):null})));var ju=n(4940),qu=n.n(ju);const Ku=(0,In.W4)({name:"MainPrice"})((0,i.PA)((function(e){let{salePriceTextRich:t,skuSalePriceRich:n}=e;const{userAgent:r}=(0,N.Pj)(),o=(0,a.useMemo)((()=>(0,Sr.Yh)(r)?{fontWeight:600}:{}),[r]),i=(0,a.useCallback)((e=>{const{id:t,pcExtra:n}=e||{},a=e?.fontWeight||n?.fontWeight;return(0,Sr.Yh)(r)&&t!==Ha.f7.BEST_PRICE_EST&&500===a?{fontWeight:600}:{}}),[r]);return t?.textRich?.length?a.createElement(Va.l5,{newRichText:t,style:{textAlign:"left"},getCustomTextRichItemStyle:i,customRenderWhiteList:Ks,customRenderTextRichItem:$s,className:qu().price}):n?.length?a.createElement("div",{className:qu().price},a.createElement(Cr.Ay,{price:n,externalStyle:o})):null})));var $u=n(2903),Ju=n.n($u);const Yu=(0,In.W4)({name:"PriceInfoLabel"})((0,i.PA)((function(){const e=(0,N.Pj)(),{optimalSku:t,skuInfoMap:n,skuSalePriceInfoRichMap:r}=e,{skuId:i}=t||{},s=r[i],l=n[i]?.skuSalePriceInfoRich,[c,u]=(0,a.useState)(s),d=e=>{const{popType:t,popData:n}=e?.content||{};e?.type===Ha.E.dialog&&t&&t===Ha.CV.PayAfterPopup&&n?.contentParagraphList?.length&&(0,xu.e)(n)};return(0,a.useEffect)((()=>{void 0!==l&&u(l?.length?l:s)}),[l]),(0,a.useEffect)((()=>{c?.length&&c.forEach((e=>{bi(e,{goodsId:t?.goodsId,skuId:i})}))}),[c]),c?.length&&i?a.createElement(a.Fragment,null,c.map(((e,t)=>{const n=a.createElement(Va.l5,{newRichText:e,style:{textAlign:"left"},key:t,className:o()(Ju().suffixRich,Ju().suffixRichDis,Ju().suffixRichVer),showPopup:d,customRenderWhiteList:Ks,customRenderTextRichItem:$s}),{action:r}=e||{},{popType:i,popData:s}=r?.content||{};return r?.type&&Ks.includes(r.type)&&i===Ha.CV.LinePriceExplain?a.createElement(qs,{popData:s,contentElement:n}):n}))):null})));var Qu=n(33733),Xu=n.n(Qu);var Zu=(0,a.memo)((function(e){let{closePopup:t,title:n,content:r}=e;const{t:o}=(0,p.B)("goods");return(0,A.r)("PriceLabelPopup"),n&&r?.length?a.createElement(Ar.Ay,{onClick:t,useSplitBg:!0},a.createElement(kn.nU,{page_el_sn:207372,useClick:!1},a.createElement("div",{className:Xu().wrap},a.createElement("div",{className:Xu().head},n),a.createElement("div",{className:Xu().container},r.map(((e,t)=>a.createElement("span",{key:t},e)))),a.createElement(Os.A,{className:Xu().btn,onClick:t},o("main_detail.priceInfo.priceLabelPopupBtn"))))):null})),ed=n(96616),td=n.n(ed);function nd(e){let{data:t}=e;const{textRich:n,dialog:r}=t||{};if(!n?.length)return null;const{title:i,content:s}=r||{},l=!!i&&!!s?.length;return a.createElement(kn.nU,{page_el_sn:207371},a.createElement("div",{className:o()(td().priceLabelWrap,l&&td().enableClick),onClick:()=>{if(!l)return;const e=(0,vn.A)(a.createElement(a.Fragment,null,a.createElement(Zu,{title:i,content:s,closePopup:()=>{e?.()}}),a.createElement(Er.A,{close:()=>e?.(),isActive:!0})),{})},role:"button",tabIndex:0,"aria-label":(0,Sr.ft)(t.textRich)},a.createElement(zs.v,{className:td().priceLabel,type:"number",style:{paddingRight:l?"2px":"5px"}},!!t?.textRich?.length&&a.createElement(Cr.sD,{richText:t.textRich}),l?a.createElement(wn.A,{className:td().arrow,"aria-hidden":!0}):null)))}var ad=n(68799),rd=n.n(ad);const od=(0,In.W4)({name:"SkuPricePrefixLabel"})((0,i.PA)((function(){const e=(0,N.Pj)(),{optimalSku:t,skuInfoMap:n,skuSalePricePrefixRichMap:r}=e,{skuId:o}=t||{},i=r[o],[s,l]=(0,a.useState)(i),{isRTL:c}=(0,Ta.Sz)(),{skuSalePricePrefixInfoRich:u}=n?.[o]||{};return(0,a.useEffect)((()=>{void 0!==u&&l(u?.length?u:i)}),[u]),s?.length&&o?a.createElement(a.Fragment,null,a.createElement("div",{className:rd().prefixRichWrap},s.map(((e,t)=>a.createElement(Va.l5,{newRichText:e,style:{textAlign:"left",[c?"marginLeft":"marginRight"]:"5px"},className:rd().suffixRich,key:t}))))):null})));var id=n(67539),sd=n.n(id);function ld(e){let{data:t}=e;const{discountInfoDisplayItem:n,expireTimeDisplayItem:r,thresholdDisplayItem:o,ruleDisplayItem:i}=t||{};return a.createElement("div",{className:sd().wrap},a.createElement("div",{className:sd().top}),a.createElement("div",{className:sd().content},a.createElement("div",{className:sd().infoDisplay},n?.displayItems?.length?a.createElement("div",{className:sd().info},a.createElement(Go.mJ,{displayItems:n.displayItems,textStyle:{lineHeight:"24px"}})):null,r?.displayItems?.length?a.createElement(Go.mJ,{displayItems:r.displayItems,textStyle:{lineHeight:"17px"}}):null),o?.displayItems?a.createElement("div",{className:sd().threshold},a.createElement(Go.mJ,{displayItems:o.displayItems})):null,a.createElement("div",{className:sd().line}),i?.displayItems?.length?a.createElement("div",{className:sd().rule},a.createElement(Go.mJ,{displayItems:i?.displayItems,imageClassName:sd().ruleImg,textClassName:sd().ruleText})):null))}var cd=n(70291),ud=n.n(cd);const dd=e=>{let{offersPopupInfo:t}=e;const{popupButtonTextDisplayItem:n,popupRuleListDisplayItem:r,popupTitleDisplayItem:o}=t||{};return a.createElement(ja.A,{onClose:qn.L,confirmButtonLabel:a.createElement(Go.mJ,{displayItems:n?.displayItems}),onConfirm:qn.L,buttonConfigs:{size:"l"},title:a.createElement(Go.mJ,{displayItems:o?.displayItems})},a.createElement("div",{className:ud().popupWrap},r?.length>0?r.map(((e,t)=>a.createElement(Go.mJ,{key:t,displayItems:e?.displayItems}))):null))};function md(e){let{data:t}=e;const{discountInfoDisplayItem:n,expireInDisplayItem:r,expireInTimeDisplayItem:o,offersDescWithoutTimeItem:i,offersPopupInfo:s}=t||{};return a.createElement("div",{className:ud().wrap},a.createElement("div",{className:ud().infoDisplay},n?.displayItems?.length?a.createElement("div",{className:ud().right},a.createElement(Go.mJ,{displayItems:n.displayItems,textStyle:{lineHeight:"22px"}})):null,a.createElement("div",{className:ud().countdown},r?.displayItems?.length?a.createElement("div",{className:ud().right},a.createElement(Go.mJ,{displayItems:r.displayItems})):null,o?.displayItems?.length?a.createElement(Go.mJ,{timeCls:ud().time,displayItems:o.displayItems}):null)),i?.displayItems?.length?a.createElement("div",{className:ud().offer},a.createElement("div",{className:ud().offerText},a.createElement(Go.mJ,{displayItems:i.displayItems,textStyle:{lineHeight:"17px"}})),a.createElement(fu.A,{className:ud().question,onClick:()=>{(0,qn.P)({popupNode:a.createElement(dd,{offersPopupInfo:s})})}})):null)}var pd=n(30255),gd=n.n(pd);function hd(e){let{leftRich:t,rightRich:n,className:r}=e;return t?.displayItems?.length||n?.displayItems?.length?a.createElement("div",{className:o()(gd().descLine,r)},t?.displayItems?.length?a.createElement("div",{className:gd().desc},a.createElement(Go.mJ,{displayItems:t.displayItems})):null,n?.displayItems?.length?a.createElement("div",{className:gd().price},a.createElement(Go.mJ,{displayItems:n.displayItems})):null):null}const fd=(0,In.W4)({name:"PromotionInfoPopup"})((function(e){let{extraPriceOffExplainPopupVo:t}=e;const{title:n,price:r,priceDesc:o,singleGoodsCouponSavingPrice:i,singleGoodsCouponSavingPriceDesc:s,eventSavingPrice:l,eventSavingPriceDesc:c,afterPromotionPrice:u,afterPromotionPriceDesc:d,additionalInfoIcon:m,additionalInfoDisplayItem:p,listTitle:g,couponList:h,eventList:f}=t||{},y=(0,a.useMemo)((()=>[[o,r],[s,i],[c,l]]),[l,c,r,o,i,s]);return(0,A.r)("PromotionInfoPopup"),a.createElement(ja.A,{onClose:qn.L,buttonConfigs:{size:"l"},title:n?.displayItems?.length?a.createElement("div",{className:gd().title},a.createElement(Go.mJ,{displayItems:n?.displayItems,textStyle:{lineHeight:"28px"}})):null},a.createElement("div",{className:gd().wrap},y?.length?a.createElement("div",{className:gd().priceBlock},y.map(((e,t)=>a.createElement(hd,{leftRich:e[0],rightRich:e[1],key:t})))):null,a.createElement(hd,{leftRich:d,rightRich:u,className:gd().totalLine}),a.createElement("div",{className:gd().addInfo},m?a.createElement(an.d,null,a.createElement(On.A,{src:m,className:gd().addIcon,resizeWidth:100,alt:""})):null,a.createElement("span",{className:gd().addText},a.createElement(Go.mJ,{displayItems:p?.displayItems}))),a.createElement("div",{className:gd().listTitle},a.createElement(Go.mJ,{displayItems:g?.displayItems})),h?.length>0?h.map(((e,t)=>a.createElement(ld,{data:e,key:t}))):null,f?.length>0?f.map(((e,t)=>a.createElement(md,{data:e,key:t}))):null))}));var yd=n(97536),_d=n.n(yd);const Ed=(0,In.W4)({name:"SkuSalePriceTipRich"})((0,i.PA)((function(){const e=(0,N.Pj)(),{optimalSku:t,querySkuInfo:n,skuInfoMap:r}=e,{skuId:o}=t||{},i=r?.[o]?.skuSalePriceTipRich;return i?.length?a.createElement("div",{className:_d().wrap},i.map((e=>a.createElement(Va.l5,{newRichText:e,timeEndCb:n,className:_d().content})))):null})));var bd=n(741),Sd=n.n(bd);const vd="detail_play_later_price",Id=(0,i.PA)((function(e){let{playLaterPrice:t}=e;const{setPayLaterPricePos:n,optimalSku:r,isShowPayBenefit:o,skuInfoMap:i}=(0,N.Pj)(),{skuId:s}=r||{},{skuSalePricePrefixInfoRich:l,skuSalePriceTipRich:c}=i?.[s]||{},u=(0,a.useRef)(null),d=(0,a.useRef)(),m=(0,a.useCallback)((()=>{if(u.current){const{offsetLeft:e,offsetWidth:t,offsetParent:a}=u.current;t&&n({offsetLeft:e,offsetWidth:t,parentWidth:a?.clientWidth})}}),[]);return(0,a.useEffect)((()=>(d.current=setTimeout((()=>{m()})),()=>{clearTimeout(d.current)})),[s,c,l]),(0,a.useEffect)((()=>(window.addEventListener("resize",m),()=>{window.removeEventListener("resize",m)})),[]),!t?.length||o?null:a.createElement("div",{className:Sd().playLaterPriceWrap,id:vd},t.map(((e,t)=>2===e?.specialFlag?a.createElement("div",{className:Sd().playLaterPrice,ref:u},a.createElement(Cr.aP,{data:e,key:t})):a.createElement(Cr.aP,{data:e,key:t}))))})),wd=e=>{let{priceLabelText:t,regularPriceText:n}=e;return a.createElement(a.Fragment,null,!!t&&a.createElement(nd,{data:t}),!!n?.textRich&&a.createElement("div",{className:o()(Sd().regularPrice,Sd().suffixRichVer),tabIndex:0,role:"button","aria-label":(0,Sr.ft)(n.textRich)},a.createElement(Cr.sD,{richText:n.textRich})))},kd=(0,i.PA)((function(e){let{salePriceSuffixRich:t,linePriceRich:n,reduction:r,reductionName:i,isShow:s,reductionCls:l,reductionStyle:c,linePriceClassName:u}=e;const{isGiftGoods:d,linePriceExplainSumerKey:m,recentlyLowestPriceNotice:p,moduleMap:g,redeemPointsBtnStore:h,skuInfoMap:f,optimalSku:y}=(0,N.Pj)(),{isRedeemPoints:_}=h,{linePriceTipsJumpUrl:E,linePriceTipsTitle:b}=g?.priceModule?.data||{},S=(0,a.useMemo)((()=>({linePriceTipsJumpUrl:E,linePriceTipsTitle:b})),[E,b]),[v,I]=(0,a.useState)(t),{skuSalePriceSuffixRich:w}=f?.[y?.skuId]||{};if((0,a.useEffect)((()=>{void 0!==w&&I(w?.length?w:t)}),[w]),(0,a.useEffect)((()=>{v?.length&&v.forEach((e=>{bi(e,{goodsId:y?.goodsId,skuId:y?.skuId})}))}),[v]),!s)return null;if(y?.skuId&&v?.length)return a.createElement(a.Fragment,null,v.map((e=>{const t=a.createElement(Va.l5,{newRichText:e,style:{textAlign:"left"},customRenderWhiteList:Ks,customRenderTextRichItem:$s,className:o()(Sd().suffixRich,Sd().suffixRichDis)}),{action:n}=e||{},{popType:r,popData:i}=n?.content||{};return n?.type&&Ks.includes(n.type)&&r===Ha.CV.LinePriceExplain?a.createElement(qs,{popData:i,contentElement:t}):t})));const k=()=>n?.length?a.createElement(kn.Rp,{page_el_sn:225018},a.createElement("div",{className:o()(Sd().linePrice,u,(d||_)&&Sd().linePriceGift),role:"button",tabIndex:0,"aria-label":(0,Sr.ft)(n)},a.createElement(Cr.Ay,{price:n}))):null;return m?a.createElement(a.Fragment,null,a.createElement(zu.A,{reduction:r,reductionName:i,style:c,className:l}),!!n?.length&&a.createElement(a.Fragment,null,!!p&&a.createElement("div",{className:Sd().recentlyLowestPrice},p),k(),a.createElement(Fs.jN,{pageElSn:224996,sumerKey:m,className:Sd().linePriceExplain,linePriceExplainData:S}))):a.createElement(a.Fragment,null,k(),a.createElement(zu.A,{reduction:r,reductionName:i,style:c,className:l}))})),Nd=(0,i.PA)((function(e){let{promotionExtraPrice:t}=e;const{moduleMap:n}=(0,N.Pj)(),{promotionExtraPriceOffStyle:r}=n?.priceModule?.data||{},{extraPriceOff:i,extraPriceOffExplainPopupVo:s,extensionMap:l}=t||{};if(i?.displayItems?.length){const{displayItems:e,background:t}=i||{},{useNewSingleGoodsCouponStyle:n}=l||{},{fontColor:c}=e[0]||{},u=n&&1===r,d=()=>{s&&(e=>{let{extraPriceOffExplainPopupVo:t}=e;(0,qn.P)({popupNode:a.createElement(fd,{extraPriceOffExplainPopupVo:t})})})({extraPriceOffExplainPopupVo:s})};return a.createElement(kn.nU,{page_el_sn:241209},a.createElement("div",{className:o()({[Sd().couponNewPrice]:n,[Sd().couponPrice]:!n}),onClick:d,style:n&&t?{background:t,color:c}:{},"aria-hidden":!0},a.createElement("div",{className:o()({[Sd().couponNewPriceText]:n,[Sd().couponPriceText]:!n,[Sd().optCouponText]:u})},a.createElement(Go.mJ,{displayItems:e})),a.createElement(wn.A,{className:o()({[Sd().extraPriceNewArrow]:n,[Sd().extraPriceArrow]:!n}),style:n&&c?{fill:c}:{}})))}return null}));var Ad=(0,i.PA)((function(e){const{skuSalePriceRich:t,salePriceTextRich:n,linePriceRich:r,isShowMarketPrice:i,reduction:s,reductionName:l,priceLabelText:c,regularPriceText:u,className:d,reductionCls:m,reductionStyle:p,linePriceClassName:g,salePriceSuffixRich:h,playLaterPrice:f,promotionExtraPrice:y,onClickAdd:_}=e,{isGiftGoods:E,richTextBlockUnderThePriceModule:b,redeemPointsBtnStore:S,showActivityPriceWrap:v,specCustom:I}=(0,N.Pj)(),{chargerInfo:w}=I||{},{isRedeemPoints:k}=S,A=i&&!u?.textRich;return n?.textRich?.length||t?.length?a.createElement("div",{className:Sd().container},a.createElement("div",{className:o()(Sd().priceWrap,(E||k)&&Sd().priceWrapGift,d,b&&Sd().memberPromotionWrap,v&&Sd().activityPriceWrap),id:"goods_price"},a.createElement(od,null),a.createElement(Ku,{salePriceTextRich:n,skuSalePriceRich:t}),a.createElement(Vu,{onClickAdd:_}),a.createElement(Ed,null),a.createElement(Id,{playLaterPrice:f}),a.createElement(wd,{priceLabelText:c,regularPriceText:u}),a.createElement(kd,{salePriceSuffixRich:h,linePriceRich:r,reduction:s,reductionName:l,isShow:A,reductionCls:m,reductionStyle:p,linePriceClassName:g}),a.createElement(Nd,{promotionExtraPrice:y}),a.createElement(Yu,null)),a.createElement(Wu.A,{data:w})):null})),Cd=n(45278),Td=n.n(Cd);function xd(e){let{payLater:t,isRTL:n}=e;const{content:r,dialogV2:i,displayWindowHint:s}=t||{},l=(0,a.useRef)(null),c=(0,a.useRef)(null),u=(0,a.useRef)(null),[d,m]=(0,a.useState)(!1),[p,g]=(0,a.useState)(!1),[h,f]=(0,a.useState)(!1),[y,_]=(0,a.useState)(0),[E,b]=(0,a.useState)(2),S=()=>{_(0),m(!1)},v=(0,Ba.x)((()=>{const e=l.current,t=c.current;if(e&&t)if(t.scrollWidth>e.clientWidth){const n=t.scrollWidth-e.clientWidth;if(n>20){const e=(n/18).toFixed(2);_(n),b(e),m(!0)}else S();f(!0)}else S(),f(!1)}),500);(0,Ru.A)("resize",v,Pu.z,{immediate:!0});return(0,nn.T)((()=>{clearTimeout(u.current)})),r?.length||s?a.createElement("div",{className:o()(Td().contentWrap,{[Td().click]:s,[Td().contentMask]:h&&!d}),ref:l,onClick:()=>{s&&i&&(0,xu.e)(i)},"aria-hidden":!0},a.createElement("div",{className:o()(Td().content,{[Td().animation]:d&&!p,[Td().animationBack]:d&&p,[Td().scrollContent]:h&&!d}),ref:c,style:{"--pay-later-translate-distance":`-${y+8}px`,"--pay-later-translate-duration":`${E}s`},onAnimationEnd:()=>{clearTimeout(u.current),u.current=setTimeout((()=>{g((e=>!e))}),500)}},a.createElement(Dd,{content:r,isRTL:n,imgCls:Td().richImg,textCls:Td().richText}))):null}var Pd=(0,Xt.A)((0,In.W4)({name:"PayAfterV2"}),i.PA)((()=>{const{payLaterAll:e,payLaterPricePos:t,optimalSku:n}=(0,N.Pj)(),{isRTL:r}=(0,Ta.Sz)(),[i,s]=(0,a.useState)(!1),[l,c]=(0,a.useState)({position:"absolute"}),u=(0,a.useRef)(null),{isOnsale:d,skuId:m}=n||{},p=()=>{const e=document.getElementById(vd);if(e&&u.current){const t=e.getBoundingClientRect(),n=u.current.getBoundingClientRect();if(t.bottom&&n.top&&n.top-t.bottom<=15)return void s(!0)}s(!1)},g=(0,a.useCallback)((()=>{const{offsetWidth:e}=t;e&&p()}),[t]);return(0,Ru.A)("resize",g,Pu.z),(0,a.useEffect)((()=>{const{offsetLeft:e,offsetWidth:n,parentWidth:a}=t;if(r&&n&&a){return c({right:a-e-n/2-11}),void p()}if(n){c({left:e+n/2-11}),p()}}),[t,r]),d&&m&&e?.[m]?a.createElement("div",{className:Td().wrap,ref:u},a.createElement("div",{className:o()(Td().arrowWrap,i&&Td().show),style:l}),a.createElement(xd,{payLater:e[m],isRTL:r})):null})),Rd=n(46546),Md=n.n(Rd);function Dd(e){let{content:t,isRTL:n,imgCls:r="",textCls:i=""}=e;return t?.length?a.createElement(a.Fragment,null,t.map(((e,s)=>{const{picUrl:l,text:c,type:u,color:d,size:m,height:p,width:g,weight:h=400}=e||{},f={color:d,fontSize:m,fontWeight:h},y={width:g,height:p};if(2===u&&l)return a.createElement("div",{className:o()(Md().payImage,r),key:s},a.createElement(On.A,{src:l,quality:70,style:y,"aria-hidden":!0,resizeWidth:300,alt:""}));const{type:_,picUrl:E}=t[s+1]||{};let b={};return(2===_&&E||1===u&&s===t.length-1)&&(b={[n?"marginLeft":"marginRight"]:"4px"}),a.createElement("div",{className:o()(Md().payAfterText,i),style:{...b,...f},key:s,"aria-label":c,tabIndex:0,role:"button","aria-haspopup":"dialog"},c)}))):null}function Bd(e){let{payLater:t,className:n,isRTL:r,richImgCls:i,richTextCls:s}=e;const{t:l}=(0,p.B)("goods"),{content:c,dialogV2:u,displayWindowHint:d,contentFrameStyle:m}=t||{},g=(0,a.useMemo)((()=>{const{lineColor:e,lineWidth:t}=m||{};return e?{borderColor:e,borderWidth:t||1,padding:"3px 8px",borderStyle:"solid",marginTop:6}:{}}),[m]);return c?.length||d?a.createElement("div",{className:o()(Md().wrap,n),style:g},a.createElement(Dd,{content:c,isRTL:r,imgCls:i,textCls:o()(s,m?.lineColor&&Md().contentBorder)}),d?a.createElement(kn.Rp,{page_el_sn:201348},a.createElement("div",{onClick:()=>{u&&(0,xu.e)(u)},className:Md().showIcon,tabIndex:0,role:"button","aria-label":l("accessibility.showPayAfter")},a.createElement(fr.A,{className:Md().icon,"aria-hidden":!0}))):null):null}var Od=(0,In.W4)({name:"PayAfter"})((0,i.PA)((function(){const{payLater:e,payLaterAll:t,optimalSku:n,isShowPayLaterV2:r,isShowPayBenefit:o}=(0,N.Pj)(),{isRTL:i}=(0,Ta.Sz)(),{isOnsale:s,skuId:l}=n||{};return s?o?a.createElement(Lu,null):r?a.createElement(Pd,null):a.createElement(Bd,{payLater:t?.[l]||e,isRTL:i}):null})));var Ld=(0,Xt.A)((0,In.W4)({name:"PriceInfo"}),i.PA)((e=>{let{goods:t,className:n,onClickAdd:r}=e;const{optimalSku:o,isSEOSoldOut:i,skuSalePriceRichMap:s,goodsSalePriceRich:l,isShowMarketPrice:c,skuSalePriceSuffixRichMap:u,sku:d,payLaterAll:m,promotionExtraPriceOffMap:p}=(0,N.Pj)(),{reductionName:g,priceLabelText:h,salePriceRich:f}=t,{skuId:y,isOnsale:_}=o||{},E=s[y]||{};if((0,a.useEffect)((()=>{!i&&!E?.textRich?.length&&(0,A.A)("goods price info error",{fields:{e:JSON.stringify({sku:d,optimalSku:o,goods:t,skuSalePriceRichMap:s})}})}),[y]),(()=>{const e=(0,N.Pj)(),{optimalSku:t,control:n,querySkuInfo:a,isEnhancedStockGroupClearanceStyle:r,explicitlySelected:o,skuInfoMap:i}=e,{defaultSkuId:s}=n||{},{skuId:l}=t||{},c=i[l]?.skuActivityInfo,u=c?.[o]||c?.[ls.t.All];(0,Qo.A)((()=>{const e=r&&!u;(l!==s||e)&&a(e?{explicitly_selected:o}:void 0)})),(0,Yo.A)((()=>{r||a()}),[l]),(0,Yo.A)((()=>{r&&a({useCache:!0,explicitly_selected:o})}),[l,o])})(),i)return null;const b={isShowMarketPrice:!!c&&!o?.control?.notDisplayDiscount,reductionName:g,className:n};if(E?.textRich?.length){const e=u[y]||[],{linePriceRich:t,regularPriceText:n,reduction:i}=o||{},{firstPeriodContentList:s}=m?.[y]||{};return a.createElement(Ad,(0,q.A)({},b,{linePriceRich:t,regularPriceText:n,salePriceTextRich:E,salePriceSuffixRich:e,reduction:i,priceLabelText:h,playLaterPrice:_?s:[],promotionExtraPrice:p?.[y],onClickAdd:r}))}return a.createElement(Ad,(0,q.A)({},b,{salePriceTextRich:l,skuSalePriceRich:f}))})),Wd=n(57157),zd=n.n(Wd),Fd=(0,Xt.A)((0,In.W4)({name:"GiftCell"}),i.PA)((function(){const{moduleMap:e}=(0,N.Pj)(),{pointsRedeemTip:t}=e?.priceModule?.data||{};return t?a.createElement("div",{className:zd().wrap,role:"button",tabIndex:0},t):null})),Ud=n(24631),Gd=n.n(Ud);var Hd=(0,In.W4)({name:"TaxInclude"})((0,i.PA)((()=>{const{moduleMap:e}=(0,N.Pj)(),{taxInclude:t}=e?.priceModule?.data||{};return t?.textRich?a.createElement("div",{className:Gd().wrap},a.createElement(Va.l5,{newRichText:t,style:{textAlign:"left",lineHeight:"normal"}})):null})));var Vd=(0,Xt.A)((0,In.W4)({name:"PriceBlock"}),i.PA)((e=>{let{onClickAdd:t}=e;const n=(0,N.Pj)(),{goods:r,selectedSku:o,promotionUnderThePriceModule:i,promotionUnderThePriceModuleV2:s,supportActivityAtmosphere:l,richTextBlockUnderThePriceModule:c,showActivityPriceWrap:u,serverRenderTime:d}=n;return u?a.createElement(a.Fragment,null,c?a.createElement(Tu,null):null,a.createElement(Ss,{isShowArrow:!1,serverRenderTime:d},a.createElement(Ld,{goods:r,selectedSku:o,onClickAdd:t}),a.createElement(Hd,null),s||i?a.createElement(Iu,null):null,a.createElement(Od,null),a.createElement(Nu,null),a.createElement(Fd,null),l?null:a.createElement(Mi,null))):a.createElement(a.Fragment,null,c?a.createElement(Tu,null):null,a.createElement(Ld,{goods:r,selectedSku:o,onClickAdd:t}),a.createElement(Hd,null),s||i?a.createElement(Iu,null):null,a.createElement(Od,null),a.createElement(Nu,null),a.createElement(Fd,null),l?null:a.createElement(Mi,null))})),jd=n(94317),qd=n(45362),Kd=n(41157),$d=n.n(Kd);var Jd=(0,Xt.A)((0,In.W4)({name:"PromotionTips"}),i.PA)((()=>{const e=(0,N.Pj)(),{collectPromotion:t,showCollectOrderBar:n,promotionCarousel:r,globalResizeTrigger:i,supportCollectBenefit:s,bottomButtonBenefit:l}=e;if(!n||!s)return null;const c=!(!l?.benefits?.length||!l.benefits[0]?.textRich?.length),u=!!t?.promotionTextDisplayItem||!!r?.carouselDisplayList?.length||c;return a.createElement(vi.t,{show:u,className:o()(u&&$d().wrap)},t?.promotionTextDisplayItem?a.createElement(jd.A,{collectPromotion:t}):r?.carouselDisplayList?.length?a.createElement(qd.F,{carousel:r,isResizeTrigger:!!i,canStopCarousel:!0}):c&&l.benefits?a.createElement(Va.l5,{newRichText:l.benefits[0],style:{textAlign:"left"}}):null)})),Yd=n(71998),Qd=n.n(Yd);const Xd=(0,In.W4)({name:"PurchaseEnhanceTip"})((0,i.PA)((function(){const{moduleMap:e}=(0,N.Pj)(),{recentPurchases:t}=e?.benefitAboveTheTitleModule?.data||{};return t?.textRich?.length?a.createElement(kn.nU,{page_el_sn:233671,useClick:!1},a.createElement("div",{className:Qd().wrap},a.createElement(Va.l5,{newRichText:t,style:{textAlign:"left"}}))):null})));var Zd=n(76258),em=n(3079),tm=n(99372),nm=n.n(tm),am=(0,i.PA)((function(e){let{className:t}=e;const{reviewStore:n}=(0,N.Pj)(),{showScore:r,showScoreStr:i}=n,s=(0,a.useCallback)((()=>{const e=document.getElementById("reviewContent"),{top:t}=e?.getBoundingClientRect()||{};t<=150&&t>0||(0,Da.BD)(t+(0,en.x)()-150)}),[]);return r>0?a.createElement("div",{className:o()(nm().reviewNumWrap,t),onClick:s,"data-aria-enter":"1",tabIndex:0},a.createElement("div",{className:nm().score},i),a.createElement(em.Zb,{cur:r,size:16,activeStarClass:nm().reviewStar,starClass:nm().startClass})):null})),rm=n(90705),om=n.n(rm);var im=(0,Xt.A)((0,In.W4)({name:"RankWithSale"}),i.PA)((()=>{const e=(0,N.Pj)(),{moduleMap:t,control:n}=e,{rankWithSale:r}=t?.bestSellerModule?.data||{},o=2===n?.detailSupportExperimentControl?.foldReviewStar;return a.createElement("div",{className:om().wrap},a.createElement(Zd.A,{rankWithSale:r,isShowBestSellerBg:o,pageElSn:207303}),a.createElement(am,null))})),sm=n(84369),lm=n(1307),cm=n.n(lm);function um(e){let{mallTag:t}=e;const{text:n,startColor:r,endColor:o,textureUrl:i,iconUrl:s,textColor:l,iconWidth:c}=t||{};return n?a.createElement("div",{className:cm().mallTag,style:{"--mall-tag-bg-start-color":r,"--mall-tag-bg-end-color":o}},i?a.createElement(Nn.Ay,{className:cm().tagTexture,src:i,resizeWidth:100,"aria-hidden":!0,alt:n}):null,s?a.createElement(Nn.Ay,{style:c?{width:c}:{},className:cm().tagIcon,src:s,resizeWidth:100,"aria-hidden":!0,alt:n}):null,a.createElement("span",{className:cm().tagText,style:l?{color:l}:{}},n)):null}var dm=(0,Xt.A)((0,In.W4)({name:"SaleInfo"}),i.PA)((()=>{const e=(0,N.Pj)(),{goods:t,reviewStore:n,expParams:r,moduleMap:i}=e,{showScore:s}=n,{mallTag:l}=i?.salesTipModule?.data||{},{goodsSoldTip:c,mallLogo:u,mallJumpUrl:d,seoUrl:m,providedBy:p,mallName:g,hotSaleRich:h}=t?.saleInfo||{},f=m||d,y=!!h?.textRich?.length,_="2"!==r?.noReviewInfo,E=()=>{f&&(0,Zt.MJ)((0,Ln.LV)(f),{openTarget:"_blank"})},{containerRef:b,scrollRef:S,transformStyle:v,start:I}=(0,sm.g)({scrollTime:4,carouselLength:u&&y?2:1,minItemHeight:16});(0,a.useEffect)((()=>{u&&y&&I()}),[u,y,I]);const w=()=>a.createElement(a.Fragment,null,p?a.createElement("span",{className:cm().providedBy,"aria-hidden":!0},p):null,a.createElement(Eo.N_,{seoUrl:f,url:f,onClick:E,className:cm().mallInfoWrapLink},a.createElement(kn.Rp,{page_el_sn:202447},a.createElement("div",{className:cm().mallInfo},a.createElement("div",{className:o()(cm().mallLogo,cm().logoRight)},a.createElement(Nn.Ay,{src:u,resizeWidth:48,"aria-hidden":!0,alt:g})),a.createElement(um,{mallTag:l}),a.createElement(wn.A,{className:cm().arrow,onClick:E,"aria-hidden":!0})))));return!c&&s<=0&&!u?null:a.createElement("div",{className:o()(cm().wrap,!y),tabIndex:0,"aria-label":`${c}${p}${g}`,role:"textbox"},u||c?a.createElement("div",{className:cm().wrapLeft},c?a.createElement("div",{className:cm().providedByWrap},a.createElement("span",{className:cm().tipsAfter},c),y?null:a.createElement("div",{className:cm().beforeLine})):null,(()=>{if(!u)return null;if(y&&c){const e=a.createElement(Va.l5,{newRichText:h,className:cm().hotSaleRich,style:{textAlign:"left",color:h.textRich?.[0]?.fontColor}}),t=a.createElement("div",{className:cm().mallInfoWrap,"aria-hidden":!0},a.createElement("div",{className:cm().beforeLine}),w());return a.createElement("div",{className:cm().mallCarouselWrap,ref:b,"aria-hidden":!0},a.createElement("div",{className:cm().mallCarouselContainer,ref:S,style:v,"aria-hidden":!0},t,e,t))}return w()})()):null,_?a.createElement(am,null):null)})),mm=n(75946),pm=n(11180),gm=n(68797),hm=n(63101),fm=n.n(hm);var ym=e=>{let{data:t}=e;const{questionName:n,answerName:r,questionAvatar:o,answerAvatar:i,question:s,answer:l}=t;return a.createElement("div",{className:fm().faqItem},a.createElement("div",{className:fm().question},a.createElement("div",{className:fm().user},a.createElement(On.A,{src:o,className:fm().avatar}),a.createElement("div",{className:fm().name},n,":")),a.createElement("div",{className:fm().boldText},s)),a.createElement("div",{className:fm().answer},a.createElement("div",{className:fm().user},a.createElement(On.A,{src:i,className:fm().avatar}),a.createElement("div",{className:fm().name},r,":")),a.createElement("div",{className:fm().text},l)))},_m=n(32964),Em=n.n(_m);const bm=()=>null;var Sm=(0,i.PA)((e=>{let{faqList:t}=e;const{t:n}=(0,p.B)("goods");return t?.length?a.createElement("div",{className:Em().wrap},a.createElement("div",{className:Em().title},n("main_detail.securityFaqListTitle")),a.createElement(gm.A,{wrapperClass:Em().list,datasource:t,hasMore:!1,itemKey:"reviewId",renderItem:ym,ListEndView:bm,autoOptimize:!1,loadingText:""})):null}));var vm=(0,i.PA)((e=>{let{faqList:t,onClose:n}=e;return a.createElement(Ar.Ay,{onClick:n,useSplitBg:!0},a.createElement(Sm,{faqList:t}))})),Im=n(67513),wm=n.n(Im);var km=function(e){return e[e.SmallIcon=1]="SmallIcon",e[e.BigIcon=2]="BigIcon",e[e.Content=3]="Content",e}(km||{});const Nm={[km.SmallIcon]:wm().channelSmallImg,[km.BigIcon]:wm().channelBigImg},Am=(0,a.memo)((function(e){let{closePopup:t,detail:n,queryFaqData:r,updatePopupCount:i,goodsId:s,webpEnable:l,store:c}=e;const{t:u}=(0,p.B)("goods"),{style:m,name:g,icons:h,richIcons:f,pcJumpUrl:y,jumpText:_}=n,E=f?.length,b=(0,a.useRef)(!1),S=(0,a.useRef)(),v=(0,a.useCallback)((async()=>{if(b.current)return;b.current=!0,S.current||(S.current=await r()),b.current=!1,i(!0);const e=(0,vn.A)(a.createElement(a.Fragment,null,a.createElement(vm,{faqList:S.current?.faqList,onClose:()=>{i(!1),e()}}),a.createElement(Er.A,{close:()=>{i(!1),e()},isActive:!0})),{})}),[]);if(m===km.Content)return a.createElement("div",{className:wm().channelContentWrapper},g?a.createElement("div",{className:wm().channelTitle},g):null,E?a.createElement("div",{className:wm().channelContent},f.map(((e,n)=>a.createElement(kn.Rp,{page_el_sn:2===e?.type?204324:void 0},a.createElement("div",{className:wm().channelContentItem,key:n,onClick:n=>{if(1!==e.type)return 2===e.type?((e=>{e.stopPropagation(),(0,d.uT)({isOfficialChat:!0,params:{goods_id:s}})})(n),void t()):void(e.jumpUrl&&(0,Zt.MJ)(e.jumpUrl.replace(/^\/*/,"/"),{openTarget:"_blank",needForceWeb:!0}));v()},role:"button",tabIndex:0},a.createElement(On.A,{src:e.icon,className:wm().channelContentItemIcon,resizeWidth:200,webpEnable:l,alt:""}),a.createElement("div",{className:wm().channelContentItemText},e.text)))))):null);const I=f?.length?f:(h||[]).map((e=>({icon:e})));return a.createElement("div",{className:o()(wm().channelWrapper,f?.length>0?wm().align:null)},g?a.createElement("div",{className:wm().channelTitle},g):null,a.createElement("div",{className:wm().channelImgs},I.length>0&&I.map((e=>{const{icon:t,height:n,width:r}=e||{},o={};return r&&n&&(o.width=34*r/n),a.createElement(On.A,{src:t,className:Nm[m],style:o,resizeWidth:200,webpEnable:l,alt:""})}))),y?a.createElement("div",{className:o()(wm().more,wm().moreWithoutMarginLeft),onClick:()=>{(0,Zt.MJ)(y.replace(/^\/*/,"/"),{openTarget:"_blank",needForceWeb:!0})},role:"button",tabIndex:0},_||u("main_detail.securityPopupJumpText"),a.createElement(Ra.hu,{className:wm().arrow})):null)}));var Cm=(0,a.memo)((function(e){let{closePopup:t,dialog:n,queryFaqData:r,goodsId:o,webpEnable:i,store:s}=e;const{title:l}=n,c=n.contents||[],{t:u}=(0,p.B)("goods"),[d,m]=(0,a.useState)(0);(0,pm.A)(t,!d),(0,A.r)("SecurityPopup");const g=(0,a.useCallback)((e=>{m((t=>t+(e?1:-1)))}),[]);return a.createElement(Ar.Ay,{onClick:t,useSplitBg:!0},a.createElement("div",{className:wm().wrap},a.createElement("div",{className:wm().head},l),a.createElement("div",{className:wm().container,"data-scroll":!0},c.map(((e,n)=>{const l=e.descriptions;return a.createElement("div",{key:n,className:wm().policy},a.createElement("div",{className:wm().title,style:{color:e.nameColor}},e.nameIcon?a.createElement(On.A,{src:e.nameIcon,className:wm().nameIcon,resizeWidth:70,webpEnable:i,alt:""}):null,e.name),l.map((e=>{const{descRich:n}=e||{};return a.createElement(a.Fragment,null,a.createElement("div",{className:wm().desc},a.createElement("div",{className:wm().dot}),n?.textRich?.length?a.createElement(Va.l5,{newRichText:n,style:{textAlign:"left"}}):a.createElement("span",null,e.desc)),e.detail?.length>0?e.detail.map(((e,n)=>a.createElement(Am,{closePopup:t,key:n,detail:e,queryFaqData:r,updatePopupCount:g,goodsId:o,webpEnable:i,store:s}))):null,e.pcJumpUrl?a.createElement("div",{className:wm().more,onClick:()=>{(0,Zt.MJ)(e.pcJumpUrl.replace(/^\/*/,"/"),{openTarget:"_blank",needForceWeb:!0})},role:"button",tabIndex:0},e.jumpText||u("main_detail.securityPopupJumpText"),a.createElement(Ra.hu,{className:wm().arrow})):a.createElement("div",{className:wm().blank}))})))})))))})),Tm=n(22024),xm=n.n(Tm);var Pm=(0,Xt.A)((0,In.W4)({name:"Security"}),i.PA)((()=>{const e=(0,N.Pj)(),{queryFaqData:t,goodsId:n,webpEnable:r}=e,o=e.guarantee||{},{title:i,titleColor:s,iconColor:l}=o,c=(0,a.useMemo)((()=>o.contents||[]),[o.contents]),u=!!o.dialog,d=(0,a.useCallback)((()=>{if(!o.dialog)return;const i=(0,vn.A)(a.createElement(Cm,{dialog:o.dialog,queryFaqData:t,closePopup:()=>{i?.()},goodsId:n,webpEnable:r,store:e}),{})}),[o.dialog]);return(0,a.useMemo)((()=>c.length>0),[c])?a.createElement("div",{className:xm().wrap,"data-id":"module"},a.createElement("div",{className:xm().security,onClick:d,role:"button",tabIndex:0},a.createElement(cr,{icon:mm.A,title:i,hideArrow:!u,iconColor:l,color:s||"#0A8800"}),a.createElement("div",{className:xm().list},c.map(((e,t)=>e?.name?a.createElement("div",{key:t,className:xm().item,tabIndex:0,role:"button","aria-label":e.name},e.name):null))))):null})),Rm=n(42158),Mm=n.n(Rm);var Dm=(0,i.PA)((()=>{const{goods:e,selectedSku:t}=(0,N.Pj)(),n=(0,a.useMemo)((()=>t.skuId?t.sensitiveProductTip:e.sensitiveProductTip),[e,t]);return n?a.createElement("div",{className:Mm().container},a.createElement("span",{className:Mm().iconWrap},a.createElement(Ra.JE,{className:Mm().icon})),n):null})),Bm=n(71866),Om=n(49510),Lm=n.n(Om);var Wm=(0,Xt.A)((0,In.W4)({name:"ShareBlock"}),i.PA)((()=>{const e=(0,N.Pj)(),{t:t}=(0,p.B)("goods"),{goods:n,query:r,gallery:i,galleryIndex:s,$service:l,shareInfo:c,goodsId:u}=e,{goodsName:d,itemId:g}=n,h=(0,a.useCallback)((()=>{const e=`${t("share.itemIdTxt")}: ${g}`;return a.createElement("div",{className:Lm().sharePanel},a.createElement("div",null,t("share.to")),g?a.createElement("div",{className:Lm().itemId},e,a.createElement(vs.A,{page_el_sn:204394,className:Lm().copyButton,text:g})):null)}),[g,t]),f=(0,a.useMemo)((()=>{const{shareImageUrl:e}=c||{},{url:t=""}=i?.[s]||{};return e||t}),[i,s,c]),y=(0,a.useCallback)((()=>{const{sku_id:e}=r||{},{pathname:t}=location||{},{linkUrl:n}=c||{};if(n)return(0,m.rs)(n,{sku_id:e,share_img:f});const a=(t||"").includes(`g-${u}.html`);return(0,m.rs)(t,{sku_id:e,goods_id:a?void 0:u,share_img:f})}),[u,r,c,f]),_=(0,a.useCallback)((async e=>{const t=await l.queryShareInfo({url:e,goods_id:u}).catch((()=>{}));return(0,A.A)("OnShortUrlClick"),t?.shortUrl}),[l,u]);return a.createElement("div",{className:o()(Lm().shareWrap)},a.createElement(Bm.A,{suppressHydrationWarning:!0,panelTitle:a.createElement(h,null),cls:o()(Lm().shareEntry,Lm().shareContent),title:d||"",shareImage:f,link:y(),mailSubject:t("Check_this_item_out_on_Temu"),getShortUrlTimeout:5e3,queryShortUrl:_,className:Lm().sharePop,pageSn:xn.LM}))})),zm=n(23058),Fm=n(34760),Um=n(50834),Gm=n.n(Um),Hm=(0,a.memo)((function(e){let{reviewData:t,visible:n}=e;const{popupClothFitReviewText:r,clothFitReviewInfoList:o,expParams:i,popupClothFitRichText:s}=t||{};return a.createElement("div",{className:Gm().wrap},a.createElement("div",{className:Gm().container},a.createElement("div",{className:Gm().title},s?.textRich?.length?a.createElement(Va.l5,{newRichText:s,style:{textAlign:"left"}}):r),a.createElement(Fm.A,{visible:n,clothFitReviewInfoList:o,progressElSn:200355,clothFitTipV2:i?.clothFitTipV2,isShowReviewProgress:!0})))})),Vm=n(11579),jm=n.n(Vm),qm=(0,a.memo)((function(e){let{reviewData:t,isScrolling:n,isShowNewSize:r}=e;const{clothFitReviewText:i,reviewClothFitTip:s,popupClothFitReviewText:l,clothFitRichText:c,popupClothFitReviewRichText:u}=t||{},d=!n&&(l||u?.textRich?.length)&&!s&&i,[m,p]=(0,a.useState)(!1);return i||s?a.createElement(_r.A,{appendToBody:!0,adapted:!0,overlay:d?a.createElement(Hm,{visible:m,reviewData:t}):null,onPopoverVisibleChange:p},a.createElement("div",{className:o()(jm().itemText,{[jm().clothFitReview]:r,[jm().newClothFitReview]:!r&&s,[jm().hover]:!!l}),role:"button","aria-label":i,tabIndex:0},c?.textRich?.length?a.createElement(Va.l5,{newRichText:c,style:{textAlign:"left"}}):r||s?a.createElement(a.Fragment,null,a.createElement(bo.A,{className:jm().explainIcon}),s||i):a.createElement(a.Fragment,null,i,a.createElement(fr.A,{className:jm().questionIcon})))):null})),Km=n(50622),$m=n(4304),Jm=n(37348),Ym=n.n(Jm);var Qm=e=>{let{showFireIcon:t,specValue:n,wrapCls:r,style:i}=e;return t?a.createElement("span",{className:Ym().iconWrap,"aria-hidden":!0},a.createElement($m.A,{className:o()(Ym().fireIcon,r),alt:n,style:i})):null},Xm=n(31111),Zm=n.n(Xm);const ep=e=>{const{currentSpecIdSelect:t,avalibleSpecsId:n,item:r,handleSpecChangedById:i,type:s,isLast:l,getSpecLocalOptimalSku:c,showPictureSpecKeyId:u,specValueId:d,specKeyId:m,className:g,showSpecSoldoutTagV1:h,showSpecSoldoutTagV2:f,isSingleSpec:y,isFirstSpec:_,specClearanceIcon:E,formatSkuData:b,isSoldoutItem:S,skuSoldOutToast:v,showFindSimilarToast:I,getSkuBySpecId:w,isSupportTouch:k,isShowImgRatioExperimentV1:N,isShowImgRatioExperimentV2:C,isEnhanceSpecStyle:T,isSkc:x,specCustom:P,webpEnable:R,skuUnitBestValueTag:M,skuUnitPriceRich:D,sku:B}=e,{t:O}=(0,p.B)("goods"),{specIdIsOnsaleMap:L,skuTypeValues:W,specIdStrToSkuId:z,skuInfos:F}=b||{},{hotSpecList:U,skuActivityUrgencyInfo:G}=P||{},H=`${m}${d}`,V=!L?.[H],{imgUrl:j,text:q,alt:K,spec:$,skcId:J}=r,Y=(0,a.useMemo)((()=>t[m]===d),[t,m,d]),Q=(0,a.useMemo)((()=>(n||{})[m][d]),[n,m,d]),X=(0,a.useMemo)((()=>({...t,[m]:d})),[t,m,d]),Z=(0,a.useMemo)((()=>Object.entries(X).filter((e=>e[1]))?.length===W.length),[X,W]),ee=(0,a.useMemo)((()=>Object.entries(X).filter((e=>e?.[1])).some((e=>{let[t,n]=e;const a=`${t}${n}`;return!L?.[a]}))),[L,X]),te=h&&(ee?V:!Q&&l)||f&&!Q&&(y||_),ne=(0,a.useMemo)((()=>U?.some((e=>e.specKeyId===m&&e.specValueId===d))),[U,m,d]),ae=(0,a.useMemo)((()=>c(X)),[X,c]),{skuId:re}=ae||{},{bestValTag:oe,unitPriceRich:ie}=(0,a.useMemo)((()=>y?{bestValTag:M?.[re],unitPriceRich:D?.[re]}:{}),[y,re,M,D]),se=(0,a.useMemo)((()=>{if(ne){if(re||Z)return G?.[re]?.urgencyText;const e=gi(X,B),t=e?.find((e=>G?.[e?.skuId]?.urgencyText));return G?.[t?.skuId]?.urgencyText}}),[ne,G,re,Z,X,B]),le=(0,a.useMemo)((()=>(0,Km.A)({showFireIcon:ne,showSoldouTag:te})),[ne,te]),ce=(0,a.useMemo)((()=>({page_el_sn:200332,spec_key:s,spec_value:q,spec_value_id:d,type:Q?1:2,little_flame:+ne||0,set:ae?.save?1:0,skc_id:J,...le})),[s,q,Q,le,J]),ue=(0,a.useCallback)((()=>{if(v&&!Q&&!Y){const e={...t,[m]:d},n=w(e);if(0===n?.isOnsale)return I(),void(0,A.A)("chooseSoldOutSkuSpecItem",{fields:{data:JSON.stringify({specKeyId:m,specValueId:d,isSelected:Y})}})}i(m,d,{...ce,is_selected:Y?0:1})}),[m,d,Y,u,t]),de=()=>{const{specValueShowRich:e}=$||{};return e?.length?a.createElement(a.Fragment,null,e.map((e=>{const{text:t,textFormat:n}=e||{},{color:r}=n||{};return t?a.createElement("span",{style:{color:r}},t):null}))):null},me=()=>ne?a.createElement(Qm,{showFireIcon:ne,specValue:q,wrapCls:Zm().fireIcon}):E?a.createElement(On.A,{src:E,resizeWidth:100,className:Zm().clearanceIcon,alt:""}):null,pe=(0,a.useMemo)((()=>x?j:ae?.specShowImageUrl||ae?.thumbUrl||j),[ae,j,x]),ge=(0,a.useMemo)((()=>{const e=ie?.textRich?.find((e=>e.type===Ha.aV.text))?.fontColor;return e?{color:e}:{}}),[ie]),he=ie?.textRich?.length&&Q;return a.createElement(kn.Rp,{page_el_sn:200332,others:ce,useClick:!1},a.createElement("div",{className:o()({[Zm().colorItem]:!k,[Zm().colorItem4Pad]:k,[Zm().disabled]:!Q&&!Y,[Zm().selected]:Y,[Zm().selectedEnhance]:Y&&T,[Zm().colorItem4to3V2]:C,className:g}),onClick:ue,role:"button",tabIndex:0,"aria-label":q,"data-aria-enter":"1"},a.createElement("div",{className:o()(Zm().content,{[Zm().content4to3]:N,[Zm().content4to3V2]:C})},a.createElement(On.A,{src:pe,resizeWidth:xn.QH.resizeWidth,quality:xn.QH.quality,wrapperClass:Zm().contentImg,alt:K||q,webpEnable:R,progress:!0,progressBlurredCompressParams:_l.b3}),(oe||se)&&ae?.isOnsale?a.createElement("div",{className:Zm().tag},a.createElement("div",{className:o()(Zm().tagContent)},oe||se)):null,(()=>{if(te)return a.createElement("div",{className:o()(Zm().soldoutTag,{[Zm().isSoldoutItemTag]:S})},O("specSoldoutTag"))})()),a.createElement("div",{className:Zm().spec},a.createElement("div",{className:o()(Zm().specContainer,{[Zm().specContainerWithUnitPrice]:he})},he?a.createElement("div",{className:Zm().specValueContainer},me(),de()||q):a.createElement(a.Fragment,null,me(),de()||q),he?a.createElement(a.Fragment,null,a.createElement(Va.l5,{newRichText:ie,style:ge,className:Zm().unitPriceRich})):null))))};var tp=(0,a.memo)(ep),np=n(193),ap=n.n(np);var rp=(0,In.W4)({name:"SoldoutColorItem"})((0,i.PA)((e=>{let{onClick:t,commonColorItemProps:n}=e;const{soldoutPicSpecValueIds:r}=(0,N.Pj)(),i=r?.[0]||{},{specValueId:s}=i||{},l=`+${r.length}`,c=(0,a.useRef)(null),u=(0,a.useRef)(null),[d,m]=(0,a.useState)(),[p,g]=(0,a.useState)(),[h,f]=(0,a.useState)(!1),{isRTL:y}=(0,Ta.Sz)();return(0,a.useEffect)((()=>{const e=(0,Xo.s)((()=>{if(!c.current)return;const{left:e,width:t}=c.current?.getBoundingClientRect()||{},{width:n=0,left:a=0}=c.current?.parentElement?.getBoundingClientRect()||{},r=e-a;(y?n-r-t:r)<t/2?(m({opacity:0}),g(y?{right:-21}:{left:-21})):(m(void 0),g(void 0))}),100);return e(),f(!0),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[c,y]),r?.length?a.createElement(a.Fragment,null,a.createElement(kn.nU,{page_el_sn:237431,others:{fold_num:r.length}},a.createElement("div",{className:o()(ap().wrap,{[ap().init]:h}),ref:c},a.createElement("div",{className:o()(ap().line),ref:u,style:d}),a.createElement("div",{className:ap().right,onClick:t,style:p,role:"button",tabIndex:0},a.createElement(tp,(0,q.A)({},n,{className:ap().innerColorItem,isSoldoutItem:!0,item:i,specValueId:s})),a.createElement("div",{className:ap().mask},a.createElement("div",{className:ap().count},l,a.createElement(wn.A,{className:ap().arrow}))))))):null}))),op=n(56703),ip=n.n(op);var sp=(0,In.W4)({name:"PicSpecItem"})((0,i.PA)((e=>{let{isLast:t,spec:n,isScrolling:r,showFindSimilarToast:i,isShaking:s,isFirstSpec:l}=e;const{t:c}=(0,p.B)("goods"),{supportActivityAtmosphere:u,selectedSku:d,control:m,formatSkuData:g,currentSpecIdSelect:h,picSpecList:f,specStatusById:y,specCustom:_,getSpecLocalOptimalSku:E,optimalSku:b,isEnhancedStockGroupClearanceStyle:S,handleSpecChangedById:v,sku:I,getSkuBySpecId:w,review:k,soldoutPicSpecValueIds:A,selectedSkuSpec:C,isSkc:T,skuSoldOutToast:x,showSpecSoldoutTagV1:P,showSpecSoldoutTagV2:R,isSupportTouch:M,isShowImgRatioExperimentV1:D,isShowImgRatioExperimentV2:B,isEnhanceSpecStyle:O,webpEnable:L,moduleMap:W}=(0,N.Pj)(),{skuUnitPriceRich:z,skuUnitBestValueTag:F}=W?.skuSpecSelectorModule?.data||{},U=(0,a.useRef)(),{specValueId2SpecValueMap:G,skuTypeValues:H}=g||{},{skuThumbSpecKeyId:V,showPictureSpecKeyId:j}=m||{},{specValueShowRich:K}=d||{},$=1===H?.length,{specKeyId:J,values:Y,specKeyShowName:Q,type:X}=n||{},Z=1===Y?.length,ee=G?.[h?.[J]],[te,ne]=(0,a.useState)(!1),ae=J===j||J===V,re=!h[J],oe=(0,a.useMemo)((()=>!!A.length&&!f?.find((e=>h[e?.spec?.specKeyId]===e?.spec?.specValueId))?.isAllSoldout),[f,h,A]),[ie,se]=(0,a.useState)(oe);(0,a.useEffect)((()=>(0,Ga.P)({specKeyId:J,ref:U})),[]),(0,a.useEffect)((()=>{J===j||re||ne(!1)}),[re]),(0,a.useEffect)((()=>{J!==j&&s&&re&&ne(!0)}),[s]);const le=(0,a.useCallback)((()=>{se((e=>!e))}),[]),ce=a.createElement("div",{className:te?ip().prominentColor:"",role:"button",tabIndex:0,"aria-label":X},a.createElement("span",{className:ip().specText},Q||X,": ",Z||ae?t&&K?.length>0?a.createElement(Cr.sD,{richText:K}):a.createElement("em",null,ee):null),!Z&&!!te&&a.createElement("span",{className:ip().remindTip},a.createElement(Ra.Xw,{className:ip().remindTipIcon,"aria-hidden":!0}),c("main_detail.UnSelectedTipNew",{specs:X?.toLowerCase()}))),ue=(0,a.useMemo)((()=>({formatSkuData:g,currentSpecIdSelect:h,avalibleSpecsId:y,specKeyId:J,showPictureSpecKeyId:j,specCustom:_,getSpecLocalOptimalSku:E,optimalSku:b,handleSpecChangedById:v,type:X,isLast:t,showSpecSoldoutTagV1:P,showSpecSoldoutTagV2:R,isSingleSpec:$,isFirstSpec:l,isSkc:T,sku:I,selectedSkuSpec:C,showFindSimilarToast:i,skuSoldOutToast:x,getSkuBySpecId:w,isShowImgRatioExperimentV1:D,isShowImgRatioExperimentV2:B,isEnhanceSpecStyle:O,isSupportTouch:M,webpEnable:L,skuUnitPriceRich:z,skuUnitBestValueTag:F})),[g,h,y,J,j,_,E,b,v,X,t,P,R,$,l,T,I,C,i,x,w,D,B,O,M,L,z,F]);return a.createElement("div",{className:o()(ip().spec,u&&ip().newSpec)},a.createElement("div",{className:ip().specHead},a.createElement("div",{className:ip().colorHead},ce),!!t&&a.createElement(qm,{isScrolling:r,reviewData:k?.reviewData})),a.createElement("div",{ref:U,className:o()(ip().colorItems,{shaking:re,[ip().colorRemindBorder]:J===V&&re&&s})},f?.length>1&&f.map((e=>{const{isAllSoldout:t,specValueId:n}=e||{};return t&&ie&&oe?null:a.createElement(tp,(0,q.A)({},ue,{key:n,item:e,specValueId:n,specClearanceIcon:S?_?.nonSkcSpecClearanceIcons?.[n]:void 0}))})),ie&&oe?a.createElement(rp,{commonColorItemProps:ue,onClick:le}):null))}))),lp=n(96704),cp=n(67660),up=n(31264),dp=n(26824),mp=n.n(dp);const pp=(0,In.W4)()((0,i.PA)((function(e){const{isScrolling:t}=e||{},{sizeSpecModule:n,review:r,currentSpecIdSelect:i,control:s,selectLocationId:l,sku:c,isShowNewSize:u,sizeGuide:d,goodsId:m,updateModelTryOn:p,supportSizeRecommend:g,querySizeRecommend:h,isLogin:f,showSizePopupParams:y}=(0,N.Pj)(),_=(0,a.useRef)(),[E,b]=(0,a.useState)({}),{sizeGuideSpecKeyId:S=""}=s||{},v=!!i?.[S],{sizeSpecContentMap:I}=n||{},{sizeSpecValueContentMap:w}=I?.[l]||{},k=E[l],C=i?.[S],{sizeBubble:T}=w?.[C]||{},{realSizeTips:x,sizePropertyList:P}=T||{},R=d?.show,M=(0,a.useCallback)((async()=>{if(!g||!f)return;const e=await h();if(e.success){const{recommendSuc:t,locationIdToRecommendSizeMap:n}=e?.result||{};b(t?n:{})}}),[f,h,g]),{perfetchSizePopupData:D,renderSizePopup:B}=(0,cp.$h)();(0,a.useEffect)((()=>(M(),(0,up.vL)(M))),[]);const O=(0,Xo.s)((()=>{R&&(_.current=(0,lp.x)(),B({source:cp.Je.Guide,goodsId:m,onChangeUnit:p,...y},(()=>{_.current?.end?.({name:"pc_goods_sizePopupContentShowTime"}),(0,A.A)("SizeGuidePopup",{fields:{data:JSON.stringify({is_auto_show:0,from:"SizeInfo"})}})})))}),200),L=(0,a.useMemo)((()=>v&&!(!P?.find((e=>e.textRich?.find((e=>e.value))))&&!x?.textRich?.find((e=>e.value)))),[v,P,x]);return a.createElement(a.Fragment,null,a.createElement(vi.t,{show:L,maxHeight:200},L?a.createElement("div",{className:o()(mp().wrap,{[mp().clickable]:R}),onMouseDown:()=>{D({goodsId:m,...y})},onClick:O,role:"button",tabIndex:0},a.createElement(kn.Rp,{page_el_sn:228247},a.createElement("div",{className:mp().left},x?a.createElement("div",{className:mp().realSizeTipWrap},a.createElement(Va.l5,{className:o()(mp().leftTop,mp().textAlignLeft,x&&P?.length?mp().realSizeTipsMarginBottom:""),newRichText:x})):null,P?.map((e=>e?.textRich?.length?a.createElement("div",{className:mp().sizePropertyItem},a.createElement(Va.l5,{className:o()(mp().textAlignLeft,mp().sizePropertyItemText),newRichText:e})):null)))),R?a.createElement(wn.A,{className:mp().arrow}):null):null),a.createElement(a.Fragment,null,a.createElement(vi.t,{show:!v&&k,maxHeight:100},!v&&k?a.createElement("div",{className:mp().recommendTips},a.createElement(Va.l5,{className:o()(mp().textAlignLeft,mp().recommendTipsText),newRichText:k})):null),r?.reviewData?.clothFitReviewText||r?.reviewData?.reviewClothFitTip?a.createElement(kn.Rp,{page_el_sn:228248},a.createElement("div",null,a.createElement(qm,{isScrolling:t,reviewData:r?.reviewData,isShowNewSize:u}))):null))})));var gp=n(64561),hp=n.n(gp);const fp="SizeGuidePopup";var yp=(0,Xt.A)((0,In.W4)({name:"SizeGuide"}),i.PA)((function(e){const{className:t,contentClassName:n}=e,r=(0,N.Pj)(),{t:i}=(0,p.B)("goods"),{sizeGuide:s,goodsId:l,updateModelTryOn:c,query:u,showSizePopupParams:d}=r,m=(0,a.useRef)(),{perfetchSizePopupData:g,renderSizePopup:h}=(0,cp.$h)();(0,a.useEffect)((()=>{const{auto_show_popup:e}=u||{};e===xn.vs.SIZE_GUIDE&&s?.show&&h({source:cp.Je.Guide,goodsId:l,onChangeUnit:c,...d},(()=>{(0,A.A)(fp,{fields:{data:JSON.stringify({is_auto_show:1,from:"SizeGuide"})}})}))}),[]);const f=(0,Xo.s)((()=>{m.current=(0,lp.x)(),h({source:cp.Je.Guide,goodsId:l,onChangeUnit:c,...d},(()=>{m.current?.end?.({name:"pc_goods_sizePopupContentShowTime"}),(0,A.A)(fp,{fields:{data:JSON.stringify({is_auto_show:0,from:"SizeGuide"})}})}))}),200);return s?.show?a.createElement(kn.nU,{page_el_sn:200353},a.createElement("div",{className:o()(hp().wrap,t)},a.createElement("div",{className:o()(hp().guide,n),onClick:f,onMouseDown:()=>{g({goodsId:l,...d})},role:"button",tabIndex:0,"aria-label":i("sizeGuide.sizePopupTitle")},a.createElement(bc.i,{"aria-hidden":!0,path:"M870.4 256c56.6 0 102.4 45.8 102.4 102.4l0 358.4c0 56.6-45.8 102.4-102.4 102.4l-716.8 0c-56.6 0-102.4-45.8-102.4-102.4l0-358.4c0-56.6 45.8-102.4 102.4-102.4l716.8 0z m-593.9 61.4l-122.9 0c-22.6 0-41 18.3-41 41l0 358.4c0 22.6 18.3 41 41 41l716.8 0c22.6 0 41-18.3 41-41l0-358.4c0-22.6-18.3-41-41-41l-122.9 0 0 245.8c0 17-13.8 30.7-30.7 30.7-17 0-30.7-13.8-30.7-30.7l0-245.8-143.4 0 0 160.5c0 17-13.8 30.7-30.7 30.7-17 0-30.7-13.8-30.7-30.7l0-160.5-143.4 0 0 245.8c0 17-13.8 30.7-30.7 30.7-17 0-30.7-13.8-30.7-30.7l0-245.8z",width:"20px",height:"20px",className:hp().sizeIcon}),i("sizeGuide.sizePopupTitle")))):null})),_p=n(86603),Ep=n.n(_p);const bp=(0,a.memo)((function(e){const{list:t,activeId:n,onChange:r,wrapEle:i,type:s}=e||{},[l,c]=(0,a.useState)(n),[u,d]=(0,a.useState)(!1);(0,a.useEffect)((()=>{c(n)}),[n]);const m=e=>{r?.(e),c(e),d(!1)};(0,a.useEffect)((()=>{if(!u)return;const e=i||window.document,t=e=>{let t=e.target;for(;t;){if(t?.classList?.contains(Ep().arrow))return void d(!1);if(t?.classList?.contains(Ep().selectListWrap))return;t=t?.parentNode}d(!1)};return e.addEventListener("click",t),()=>e.removeEventListener("click",t)}),[u]);const p=(0,a.useMemo)((()=>t?.find((e=>e.id===l))),[l,t]);return s!==Zn.inline&&t?.length?s===Zn.buttons?a.createElement("div",{className:o()(Ep().btns)},t?.map((e=>{const{name:t,id:n}=e||{};return a.createElement("div",{onClick:()=>m(n),className:o()(Ep().btnItem,{[Ep().activeBtnItem]:n===l}),key:n},t)}))):s===Zn.list?a.createElement(_r.A,{trigger:["click"],visible:u,overlay:a.createElement("div",{className:Ep().listWrap},t?.map((e=>{const{id:t,name:n}=e||{};return a.createElement("div",{className:Ep().listItem,key:t,onClick:()=>m(t)},n,t===l?a.createElement(Za.A,{className:Ep().selectedIcon}):null)}))),placement:"bottom"},a.createElement("div",{className:Ep().selectListWrap},a.createElement("div",{className:Ep().selectList,onClick:()=>d(!u)},a.createElement("div",{className:Ep().inner}),p?.name,a.createElement(Ra.hu,{direction:"bottom",className:Ep().arrow})))):void 0:null}));var Sp=n(90787),vp=n.n(Sp);const Ip=(0,a.memo)((function(e){const{specs:t}=e,{t:n}=(0,p.B)("goods");return a.createElement("span",{className:vp().remindTip},a.createElement(Ra.Xw,{className:vp().remindTipIcon,"aria-hidden":!0}),a.createElement("span",null,n("main_detail.UnSelectedTipNew",{specs:t})))})),wp=(0,In.W4)()((0,a.memo)((function(e){const{ifShowUnSelectTip:t,type:n,sizeSpecModule:r,onLocationIdChange:i,selectLocationId:s,isOnlySpec:l,currentSpecValue:c}=e,{specName:u,locationSizeList:d,sizeSpecContentMap:m,type:p=1}=r||{},[g,h]=(0,a.useState)(p),[f,y]=(0,a.useState)(s),_=(0,a.useCallback)((e=>{i?.(e),y(e)}),[]);(0,a.useEffect)((()=>{y(s)}),[s]);const{styleTips:E}=m?.[f]||{},b=(0,a.useRef)(),S=(0,a.useRef)(),v=(0,a.useRef)(),I=(0,a.useRef)(),w=(0,a.useRef)(),[k,N]=(0,a.useState)(!1),[A,C]=(0,a.useState)(!1),[T,x]=(0,a.useState)(!1),P=(0,a.useRef)();(0,a.useEffect)((()=>{const e=()=>{const{width:e=0}=b?.current?.getBoundingClientRect()||{},{width:t=0}=S?.current?.getBoundingClientRect()||{},{width:n=0}=v?.current?.getBoundingClientRect?.()||{},{width:a=0}=I?.current?.getBoundingClientRect?.()||{},{width:r}=w?.current?.getBoundingClientRect?.()||{},o=r-e-t-a;return x(n+a>=r),o>0&&o<n?(N(!0),void C(!1)):r-e-t<a?(N(!1),void C(!0)):(N(!1),void C(!1))};return window.addEventListener("resize",e),e(),()=>{window.removeEventListener("resize",e)}}),[t]),(0,a.useEffect)((()=>{const e=()=>{const{width:e=0}=S?.current?.getBoundingClientRect()||{},{width:t}=w?.current?.getBoundingClientRect?.()||{};p===Zn.buttons&&(P.current||(P.current=e),P.current>=t?h(Zn.list):P.current<=t&&h(p))};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[p,s]);const R=()=>a.createElement(a.Fragment,null,a.createElement("div",{className:vp().specName,ref:b},u,g!==Zn.inline||l?null:a.createElement("span",null,": "),l?a.createElement("span",null,": ",c):null),a.createElement(kn.Rp,{page_el_sn:228245,others:{local_size_type:d?.find((e=>e.id===s))?.name,size_switch_type:g}},a.createElement("div",{ref:S,className:vp().countrySelectWrap},a.createElement(bp,{list:d,activeId:f,onChange:_,type:g}))));return a.createElement("div",{className:o()(vp().specHead,{[vp().specHeadMarginBottom]:g===Zn.inline}),ref:w},k?a.createElement(a.Fragment,null,a.createElement("div",{className:o()(vp().top,t?vp().prominentColor:""),role:"button",tabIndex:0,"aria-label":n},R(),a.createElement("div",{className:vp().flexGrow}),a.createElement("div",{ref:I,className:vp().topRightSizeGuide},a.createElement(yp,{className:vp().sizeGuide}))),a.createElement("div",{className:vp().bottom},t?a.createElement("div",{ref:v,className:vp().remindTipWrap},a.createElement(Ip,{specs:n?.toLowerCase?.()})):null)):A?a.createElement(a.Fragment,null,a.createElement("div",{className:o()(vp().top,t?vp().prominentColor:""),role:"button",tabIndex:0,"aria-label":n},R()),a.createElement("div",{className:vp().bottom},t?a.createElement("div",{ref:v,className:T?vp().rightTotalNewLineRemindTipWrap:""},a.createElement(Ip,{specs:n?.toLowerCase?.()})):null,a.createElement("div",{ref:I},a.createElement(yp,{className:o()(vp().sizeGuide,vp().rightTotalNewLineSizeGuide)})))):a.createElement("div",{className:o()(vp().top,t?vp().prominentColor:""),role:"button",tabIndex:0,"aria-label":n},R(),t?a.createElement("div",{ref:v},a.createElement(Ip,{specs:n?.toLowerCase?.()})):null,a.createElement("div",{className:vp().flexGrow}),a.createElement("div",{ref:I,className:vp().topRightSizeGuide},a.createElement(yp,{className:vp().sizeGuide,contentClassName:vp().contentClassName}))),E?.textRich?.length?a.createElement(kn.Rp,{page_el_sn:228246},a.createElement("div",{className:vp().styleTipsWrap},a.createElement(Va.l5,{className:vp().textAlignLeft,newRichText:E}))):null)})));var kp=n(74735),Np=n(17157);const Ap=e=>{const{currentSpecIdSelect:t,avalibleSpecsId:n,specValue:r,handleSpecChangedById:i,type:s,isSizeType:l,isLast:c,sku:u=[],isShowNewSize:d,specValueId:m,specKeyId:g,sizeSpecModule:h,selectLocationId:f,formatSkuData:y,className:_,showSpecSoldoutTagV1:E,showSpecSoldoutTagV2:b,isFirstSpec:S,isSingleSpec:v,skuSoldOutToast:I,showFindSimilarToast:w,getSkuBySpecId:k,isSupportTouch:N,isEnhanceSpecStyle:C,specCustom:T,getSpecLocalOptimalSku:x,skuUnitBestValueTag:P,skuUnitPriceRich:R}=e,{t:M}=(0,p.B)("goods"),{hotSpecList:D,skuActivityUrgencyInfo:B}=T||{},O=(0,a.useMemo)((()=>t[g]===m),[t,g,m]),{sizeSpecValueContentMap:L}=h?.sizeSpecContentMap?.[f]||{},W=L?.[m]?.specValueStr,{specIdIsOnsaleMap:z,skuTypeValues:F,specIdStrToSkuId:U,skuInfos:G}=y||{},H=`${g}${m}`,V=!z?.[H],j=(0,a.useMemo)((()=>(n||{})[g][m]),[n,g,m]),q=(0,a.useMemo)((()=>({...t,[g]:m})),[t,g,m]),K=(0,a.useMemo)((()=>Object.entries(q).filter((e=>e[1]))?.length===F.length),[q,F]),$=(0,a.useMemo)((()=>Object.entries(q).filter((e=>e?.[1])).some((e=>{let[t,n]=e;const a=`${t}${n}`;return!z?.[a]}))),[z,q]),J=E&&($?V:!j&&c)||b&&!j&&(v||S),Y=(0,a.useMemo)((()=>x(q)),[q,x]),{skuId:Q}=Y||{},X=(0,a.useMemo)((()=>D?.some((e=>e.specKeyId===g&&e.specValueId===m))),[D,g,m]),{bestValTag:Z,unitPriceRich:ee}=(0,a.useMemo)((()=>v?{bestValTag:P?.[Q],unitPriceRich:R?.[Q]}:{}),[v,Q,P,R]),te=(0,a.useMemo)((()=>{if(X){if(Q||K)return B?.[Q]?.urgencyText;const e=gi(q,u),t=e?.find((e=>B?.[e?.skuId]?.urgencyText));return B?.[t?.skuId]?.urgencyText}}),[X,B,Q,K,q,u]),ne=(0,a.useMemo)((()=>(0,Km.A)({showFireIcon:X,showSoldouTag:J})),[X,J]),ae=(0,a.useMemo)((()=>({page_el_sn:200330,spec_key:s,spec_value:r,spec_value_id:m,type:j?1:2,little_flame:+X||0,set:Y?.save?1:0,...ne})),[s,r,j,Y,X,ne]),re=()=>a.createElement("span",{className:ni().soldoutTag},M("specSoldoutTag")),oe=()=>ee?.textRich?.length?a.createElement(a.Fragment,null,a.createElement(Va.l5,{newRichText:ee,className:o()(ni().unitPriceRich,ni().marginLeft)})):null,ie=(0,a.useCallback)((()=>{if(!j&&I){const e={...t,[g]:m},n=k(e);if(0===n?.isOnsale)return w(),void(0,A.A)("chooseSoldOutSkuSpecItem",{fields:{data:JSON.stringify({specKeyId:g,specValueId:m,isSelected:O})}})}i(g,m,{...ae,is_selected:O?0:1})}),[g,m,O,ae,t]),{onMouseEnter:se,onMouseLeave:le}=(0,kp.b)({skuInfos:G,isSupportTouch:N,sizeSpecValueContentMap:L,specValueId:m,isSizeType:l,isShowNewSize:d,sizeSpecModule:h,selectLocationId:f});return a.createElement("div",{className:o()(ni().wrap,_)},a.createElement(kn.Rp,{page_el_sn:200330,others:ae,useClick:!1},a.createElement("div",{className:o()(ni().skuItem,{[ni().disableSkuItemHover]:N,[ni().disabled]:!j&&!O,[ni().selected]:O,[ni().selectedEnhance]:O&&C}),tabIndex:0,"aria-label":(0,Sr.ft)(Y?.specValueShowRich)||r,role:"button",onClick:ie,"data-aria-enter":"1",onMouseEnter:se,onMouseLeave:le},a.createElement("div",{className:ni().skuContentWrap},a.createElement("div",{className:o()(ni().skuItemContent,{[ni().skuItemContentSelected]:O})},X?a.createElement(Qm,{specValue:r,showFireIcon:X,wrapCls:ni().fireIcon}):null,W||(()=>{const{specValueShowRich:e}=Y||{};return e?.length?a.createElement(a.Fragment,null,e.map((e=>{const{text:t,textFormat:n}=e||{},{color:r,fontSize:o,fontWeight:i}=n||{};return t?a.createElement("span",{style:{color:r,fontSize:o,fontWeight:i}},t):null}))):null})()||r,O?J?re():ee?.textRich?.length||te?a.createElement("span",{className:o()(ni().skuSaleInfo)},a.createElement(Np._,null),oe(),te?a.createElement("span",{className:ni().marginLeft},te):null):null:null),O?null:J?re():ee?.textRich?.length||te?a.createElement("span",{className:o()(ni().skuSaleInfo,ni().unActiveSkuSaleInfo)},a.createElement(Np._,null),oe(),te?a.createElement("span",{className:ni().marginLeft},te):null):null),Z&&Y?.isOnsale?a.createElement("div",{className:ni().tag},a.createElement("div",{className:ni().tagContent},Z)):null)))};var Cp=(0,a.memo)(Ap),Tp=n(59650),xp=n.n(Tp);var Pp=(0,In.W4)({name:"TextSpecItem"})((0,i.PA)((e=>{let{spec:t,isLast:n,isShaking:r,isScrolling:i,showFindSimilarToast:s,isFirstSpec:l}=e;const{selectedSku:c,formatSkuData:u,currentSpecIdSelect:d,control:m,sizeSpecModule:g,isShowNewSize:h,selectLocationId:f,updateSelectLocationId:y,review:_,skuSoldOutToast:E,getSkuBySpecId:b,specStatusById:S,handleSpecChangedById:v,similarSizeSpecData:I,supportActivityAtmosphere:w,specCustom:k,showSpecSoldoutTagV1:A,showSpecSoldoutTagV2:C,isSupportTouch:T,isEnhanceSpecStyle:x,getSpecLocalOptimalSku:P,sku:R,moduleMap:M}=(0,N.Pj)(),{t:D}=(0,p.B)("goods"),B=(0,a.useRef)(),{showPictureSpecKeyId:O,sizeGuideSpecKeyId:L}=m||{},{skuUnitPriceRich:W,skuUnitBestValueTag:z}=M?.skuSpecSelectorModule?.data||{},{specValueId2SpecValueMap:F,skuTypeValues:U}=u||{},{type:G,values:H,specKeyShowName:V,specKeyId:j,valueIds:q}=t||{},K=H?.length,$=j===L,J=!d[j],{specValueShowRich:Y}=c||{},[Q,X]=(0,a.useState)(!1),{overSizeOutfit:Z}=g?.sizeSpecContentMap?.[f]||{},ee=1===K,te=1===U?.length,{specText:ne}=Z||I||{},ae=F?.[d[j]];(0,a.useEffect)((()=>{j===O||J||X(!1)}),[J]),(0,a.useEffect)((()=>{j!==O&&r&&J&&X(!0)}),[r]);const re=a.createElement("div",{className:Q?xp().prominentColor:"",role:"button",tabIndex:0,"aria-label":G},a.createElement("span",{className:xp().specText},V||G,": ",ee?n&&Y?.length>0?a.createElement(Cr.sD,{richText:Y}):a.createElement("em",null,ae):null),!ee&&!!Q&&a.createElement("span",{className:xp().remindTip},a.createElement(Ra.Xw,{className:xp().remindTipIcon,"aria-hidden":!0}),D("main_detail.UnSelectedTipNew",{specs:G?.toLowerCase()})));return a.createElement(a.Fragment,null,a.createElement("div",{className:o()(xp().spec,w&&xp().newSpec)},$&&h?a.createElement(wp,{isOnlySpec:ee,currentSpecValue:ae,ifShowUnSelectTip:Q,type:G,sizeSpecModule:g,selectLocationId:f,onLocationIdChange:y}):a.createElement("div",{className:xp().specHead},re,!!n&&a.createElement(qm,{isScrolling:i,reviewData:_?.reviewData})),!ee&&a.createElement("div",{className:o()(xp().specSelector,{shaking:J,[xp().remindBorder]:J&&r}),ref:B},H.map(((e,t)=>a.createElement(Cp,{key:t,isLast:n,getSpecLocalOptimalSku:P,currentSpecIdSelect:d,avalibleSpecsId:S,specKeyId:j,specValue:e,specValueId:q?.[t],showSpecSoldoutTagV1:A,showSpecSoldoutTagV2:C,isSingleSpec:te,isFirstSpec:l,handleSpecChangedById:v,type:G,sku:R,selectLocationId:f,sizeSpecModule:g,specCustom:k,isSupportTouch:T,isSizeType:$,formatSkuData:u,isShowNewSize:h,showFindSimilarToast:s,skuSoldOutToast:E,getSkuBySpecId:b,skuUnitPriceRich:W,skuUnitBestValueTag:z,isEnhanceSpecStyle:x}))),ne?a.createElement(oi,null):null)),h&&$?a.createElement(pp,{isScrolling:i}):null)}))),Rp=n(74507),Mp=n.n(Rp);const Dp=(0,i.PA)((function(e){let{spec:t,isShowSuffix:n}=e;const{type:r,specKeyShowName:o,values:i}=t||{},s=t?.values.length;if(!s)return null;const l=n&&a.createElement(a.Fragment,null,",");return a.createElement("span",{className:Mp().spec},o||r,": ",a.createElement("em",null,i?.[0]),l)}));var Bp=(0,i.PA)((function(){const{formatSkuData:e,sku:t}=(0,N.Pj)(),n=t[0].sizeDescHoverLists||[],r=(e.skuTypeValues?.length||0)-1;return a.createElement(a.Fragment,null,a.createElement("div",{className:Mp().wholeSingleSku},(e.skuTypeValues||[]).map(((e,t)=>a.createElement(Dp,{key:t,spec:e,isShowSuffix:t!==r})))),!!n?.length&&a.createElement("div",{className:Mp().sizeDes},a.createElement("div",{className:Mp().measurementInfoWrap},n.map((e=>{const{title:t,sizeDescList:n,foldShow:r}=e||{};return t||n?.length?a.createElement(a.Fragment,{key:t},a.createElement("div",{className:Mp().measurementTitle},t,":"),a.createElement("div",{className:o()(r&&Mp().oneLineTextEllipsis)},(n||[]).map((e=>a.createElement("div",{key:`${e?.name}${e?.content}`,className:Mp().measurementInfo},e?.name?a.createElement("span",null,e.name,"-"):null,e?.content))))):null})))))}));const Op=(0,i.PA)((function(e){let{spec:t,isScrolling:n,isShaking:r,isLast:o,isFirst:i}=e;const s=(0,N.Pj)(),{skuSoldOutToast:l}=s,{showPictureSpecKeyId:c,skuThumbSpecKeyId:u}=s.control||{},{values:d,specKeyId:m}=t||{},p=d.length,{showFindSimilar:g}=Xc(),h=(0,a.useCallback)((()=>{zm.A.customize(a.createElement(ii,{toast:l,onClick:g}),{timeout:3e3})}),[l,g]);return p?m===c||m===u?a.createElement(sp,{spec:t,isLast:o,isFirstSpec:i,isScrolling:n,isShaking:r,showFindSimilarToast:h}):a.createElement(Pp,{spec:t,isLast:o,isFirstSpec:i,isScrolling:n,isShaking:r,showFindSimilarToast:h}):null}));var Lp=(0,Xt.A)((0,In.W4)({name:"SimpleSkuSelector"}),i.PA)((e=>{let{isScrolling:t,isShaking:n,className:r}=e;const{formatSkuData:i,sku:s}=(0,N.Pj)();return a.createElement(kn.Rp,{page_el_sn:200224,others:{spec_comb:i.skuTypeValues.map((e=>e.specKeyId)).join(",")},useClick:!1},a.createElement("div",{className:o()(r,{shakingRoot:n})},1===s.length?a.createElement(Bp,null):a.createElement("div",null,(i.skuTypeValues||[]).map(((e,r)=>a.createElement(Op,{key:r,spec:e,isScrolling:t,isShaking:n,isLast:r===i.skuTypeValues?.length-1,isFirst:0===r}))))))})),Wp=n(51064),zp=n.n(Wp);var Fp=(0,i.PA)((()=>{const{supportFindSimilar:e,isShowNewSize:t}=(0,N.Pj)(),{t:n}=(0,p.B)("goods"),r=n("main_detail.FindSimilarTip");return e?a.createElement("div",{className:o()(zp().container,{[zp().containerMargin]:t})},a.createElement("span",{className:zp().iconWrap},a.createElement(Ra.JE,{className:zp().icon})),r):null})),Up=n(7350),Gp=n.n(Up),Hp=n(41655),Vp=n(84573),jp=n(75601),qp=n.n(jp);var Kp=(0,Xt.A)((0,In.W4)({name:"WrapSelectCount"}),i.PA)((e=>{let{onClickAdd:t,className:n}=e;const{t:r}=(0,p.B)("goods"),i=(0,N.Pj)(),{qty:s,setQty:l,selectedSku:c,selectedSkuSpec:u,message:d,formatSkuData:m,control:g,addedAmount:h,shoppingCartSkuAmountMap:f,sku:y,optimalSku:_}=i,{supportRemoveQuantitySelector:E=0}=g||{},{skuTypeValues:b}=m,S=(0,a.useMemo)((()=>c?.skuId?c.limitQuantity||1:Math.min(999,_?.limitQuantity||1)),[c,_]),v=(0,a.useRef)(null),I=r(h>1?"main_detail.AddedPlural":"main_detail.Added"),w=(0,a.useCallback)((()=>{"string"==typeof d?.autoTuneNumberToast&&d?.autoTuneNumberToast&&Fa.A.warning(d.autoTuneNumberToast)}),[d]),k=(0,Vp.A)(c);(0,a.useEffect)((()=>{if(s>S){const e=c.autoTuneNumberToast;k?.skuId?w():e&&Fa.A.warning(e),l(S)}}),[S,w,c,s]);const A=(0,a.useCallback)(Gp()((e=>{let{value:t,isAdd:n,isInputOver:a}=e;if(0===t)return Fa.A.warning(r("main_detail.warnQuantityEmptyMsg"));const o=c.skuLimitToast||d?.skuLimitToast||"";(n||a)&&o&&Fa.A.warning(o)}),1e3),[d,c.skuLimitToast,w]),C=u?.length,{isOnsale:T}=c||{};if(E||C>0&&C===b?.length&&1!==T)return null;return a.createElement("div",{className:o()(qp().qty,n,1===y?.length&&qp().qtyTop),ref:v},a.createElement("div",{className:qp().qtyTitle,tabIndex:0,"aria-label":r("main_detail.qtyTitle"),role:"textbox"},r("main_detail.qtyTitle")),a.createElement("div",{className:qp().qtyContentWrap},a.createElement(Hp.A,{className:qp().qtyContent,inputClass:qp().qtyInput,showSelectIcon:!0,selectItemCls:qp().qtySelectItem,selectListCls:qp().qtySelect,min:1,max:Math.min(Math.max(S,1),99),inputMax:99,onDelete:async()=>{await t({addCount:0,operateType:Sa.Delete})},value:h||s,valueDeps:[f],onChange:async e=>{var n;(e-h<=0&&(0,ge.E0)({page_el_sn:212286,cart_scene:xn.xi.MainGoods,cart_type:4,quantity:e,choose_effect:2,sku_number:e-h}),h)?(n=e)-h!=0&&t({addCount:n-h,operateType:Sa.Update,clickEventData:{page_el_sn:212286,quantity:n,choose_effect:1}}):l(e)},onOverRangeClick:A,listPageElSn:212253,inputPageElSn:h?209463:204100,inputClickEventData:{cart_scene:xn.xi.MainGoods,cart_type:h?0:4}})),h?a.createElement("span",{className:qp().added,tabIndex:0,"aria-label":I,role:"textbox"},I):null)})),$p=n(32919),Jp=n.n($p);const Yp=e=>{let{data:t}=e;return(0,a.useEffect)((()=>{(0,A.A)("bzTaxInfoShow")}),[]),a.createElement(Va.l5,{newRichText:t,className:Jp().wrap,style:{textAlign:"left"}})};var Qp=(0,In.W4)({name:"TaxInfo"})((()=>{const{goods:e}=(0,N.Pj)(),{instructionRich:t}=e?.complianceInstructions||{};return t?.textRich?.length?a.createElement(Yp,{data:t}):null})),Xp=n(45727);var Zp=n(39392);function eg(e){let{firstShakingElementSelector:t,fixedActionWrapRef:n,contentRef:r,ifTriggerShaking:o,setIfTriggerShaking:i,skuId:s}=e;const[l,c]=(0,Zp.e)();return(0,a.useEffect)((()=>{o&&(!s&&(()=>{if(!l){c();const e=document.querySelector(t);if(e){const{top:t}=e.getBoundingClientRect();let a=0,o=!1;const i=document.getElementById("mainHeader")?.firstElementChild;if(i){const{height:e,bottom:t}=i.getBoundingClientRect();t>0&&(o=!0,a=e)}if((t<a||t>window.innerHeight-(n.current?.getBoundingClientRect()?.height||0))&&(e.scrollIntoView(),o)){const e=r.current;e&&(e.scrollTop-=a)}}setTimeout((()=>{c()}),1e3)}})(),i(!1))}),[o]),{isShaking:l}}var tg=n(94501),ng=n.n(tg);const ag="rightContent";var rg=(0,Xt.A)((0,In.W4)({name:"Detail"}),i.PA)((function(){const e=(0,N.Pj)(),{t:t}=(0,p.B)("goods"),{goods:n,selectedSku:r,addCart:i,control:s,formatSkuData:l,addOrderInfoStore:c,query:u,selectedSkuSpec:d,qty:g,skuShow:h,ifTriggerShaking:f,setIfTriggerShaking:y,isGiftGoods:_,addGiftPick:E,showFindSimilarBar:S,showCollectOrderBar:v,description:I,moduleTags:w,isGiftSupportAddOrder:k,queryOrderInfo:C,sku:T,isShowShareBlock:x,bestSeller:P,shipping:R,commitment:M,supportCollectBenefit:D,isShowNewSize:B,isSupportNewCustomized:O,supportActivityAtmosphere:L,activityInfo:W,selectedBenefitTags:z,destoryShoppingCartDataListener:F,buyNowButtonStore:U,serverRenderTime:G,customizedBtnStore:H,redeemPointsBtnStore:V,globalResizeTrigger:j,moduleMap:q,showContentTransition:K,showActivityPriceWrap:$,favStore:J,showRankWithSale:Y}=e,{showSmallFavBtnPos:Q}=J,{onCustomizedBtnClick:X}=H,{order:Z,onAddOrderClick:ee}=c,{buyNowCallback:te,supportQuickMerge:ne,supportQuickMerge4TimeLimitedActivity:ae}=U,{goodsId:re,goodsName:oe}=n,ie=Z?.allowPurchase,{skuId:se}=r||{};(0,a.useEffect)((()=>()=>F?.()),[]),(0,a.useEffect)((()=>{(()=>{const e=(0,m.Xe)(window.location.href);e?.show_over_size_switch_tips&&(setTimeout((()=>{Fa.A.info((0,Zo.t)("main_detail.switchToast",{ns:"goods"}))}),1e3),(0,Zt.ci)((0,m.rE)({show_over_size_switch_tips:null},location.href)))})()}),[]);const le=(0,Oa.A)((async e=>{const{addType:o=xn.H$.addCart,addCount:s=0,pageSource:c,cartScene:m=xn.xi.MainGoods,operateType:p,clickEventData:f={page_el_sn:200061,acty_type:W?.activityType||0,...z},addedAmount:b,afterAddCartSucc:S,frontControl:v,source:I,trackingInfo:w,addCustomInfoBtnText:N}=e||{},{isOnsale:A,skuId:x,goodsId:P}=r||{},R=s||g;let M=null;if(x&&I!==Ia.TimeLimitedActivity)if(A&&l.skuTypeValues.length){if(O&&v?.supportPersonalize){const e=await X({goodsId:re,skuId:x,qty:R,btnText:N});if(!e)return;M=e}if(o!==xn.H$.redeemPoints)if(o!==xn.H$.addGift)o!==xn.H$.addOrder?o!==xn.H$.buyNow?await i({skuId:x,curGoodsId:P,amount:R,cartScene:m,operateType:p,clickEventData:f,addedAmount:b,afterAddCartSucc:S,customizedInfoDict:M}):te({goodsId:re,skuId:x,goodsNumber:R,skuInfo:r,goods:n,clickEventData:f,customizedInfoDict:M}):ee({skuId:x,qty:R,customizedInfoDict:M});else{(0,tn.Tn)({op:"click",page_el_sn:207367});const e=[E()];k&&e.push(C());const t={goodsId:re,skuId:x,goodsNumber:+g,selectSpecs:d,skuInfo:r,goods:n,sku:T},[o,i]=await Promise.all(e);o&&((e,t,n)=>{let{freeGiftPromotionInfo:r,giftInfoList:o,pickedText:i}=e;const{orderInfo:s,skuData:l}=t||{};let c=xs.A;s&&s?.allowPurchase&&(c=Ps.A);const u=(0,vn.A)(a.createElement(c,{promotionInfo:r,giftList:o,pickedText:i,pageSn:xn.LM,popupElsn:207368,gift_map:n?.gift_map,buttonElsn:207369,orderInfo:s,skuCallBackInfo:l,onClose:()=>{u?.()}}))})(o,{orderInfo:i,skuData:t},u)}else await V.onRedeemPointsBtnClick({goodsId:re,skuId:x})}else Fa.A.error(t("main_detail.errorSoldOutMsg"));else{if(x||(0,La.ON)({specItemRefMap:(0,Ga.v)(),specKeyIds:l?.skuTypeValues?.map((e=>e.specKeyId))||[],actionWrapRef:ue,fixedActionWrapRef:de,parentRef:ce,eventName:"goodsSpecPositionReportOnClick"}),!_&&!V.isRedeemPoints){const e={addType:o,cartScene:xn.xi.MainGoods,needInitCheckSpec:!0,pageSource:c||(o===xn.H$.addCart?xn.Xh.addCart:void 0),frontControl:v,trackingInfo:w,onSkuShow:()=>{(0,Ua.rO)(Ua.gn.goodsPullUpSkuTime)}};return!x&&o===xn.H$.buyNow&&ne||I===Ia.TimeLimitedActivity&&ae?void te({goodsId:re,skuId:x,goodsNumber:R,skuInfo:r,goods:n,clickEventData:f,customizedInfoDict:M,skuParams:e}):h(e)}y(!0)}})),ce=(0,a.useRef)(null),ue=(0,a.useRef)(null),de=(0,a.useRef)(null),{isShaking:me}=eg({firstShakingElementSelector:`.${ng().sku} .shaking`,fixedActionWrapRef:de,contentRef:ce,ifTriggerShaking:f,setIfTriggerShaking:y,skuId:se}),{isScrolling:pe,needFixedAction:ge,fixedActionStyle:he,style:fe,onContentScroll:ye}=function(e){let{contentRef:t,actionWrapRef:n,fixedActionWrapRef:r,globalResizeTrigger:o}=e;const{isRTL:i}=(0,Ta.Sz)(),{width:s}=(0,a.useContext)(Xp.qc),[l,c]=(0,a.useState)({}),u=(0,a.useRef)(l),d=(0,a.useCallback)((e=>{const t={...e,maxHeight:window.innerHeight-15};u.current=t,c(t)}),[]),[m,p]=(0,a.useState)(!1),g=(0,a.useRef)(),h=(0,a.useCallback)(Gp()((()=>{p(!0),g.current=setTimeout((()=>{p(!1)}),100)})),[]),[f,y]=(0,a.useState)({}),_=(0,a.useCallback)((e=>{y((t=>({...t,...e})))}),[]),[E,b]=(0,a.useState)(!1),S=(0,a.useRef)(!1),v=(0,a.useCallback)((e=>{if(!(e||S.current&&E))return;if(S.current=!0,!n.current)return;const{bottom:a,left:o,width:i}=n.current.getBoundingClientRect();if(a)if(e)window.innerHeight<a&&(b(!0),_({opacity:1,pointerEvents:"auto",width:i,left:o,position:"fixed",top:"auto",bottom:0}),(0,A.A)("show fixed cart button",{tags:{page_sn:xn.LM}}));else{const{bottom:e,height:s}=r.current?.getBoundingClientRect();if(e<a){const e={opacity:1,pointerEvents:"auto",width:i,left:o,position:"fixed",top:"auto",bottom:0};if("absolute"===u.current.position&&t.current){const a=t.current,{height:r}=a.getBoundingClientRect();e.position="absolute",e.top=r+a.scrollTop-s,e.bottom="auto",e.left=n.current.offsetLeft}_(e)}else _({opacity:0,pointerEvents:"none",width:i,left:o,position:"fixed",top:"auto",bottom:0})}}),[E]);(0,a.useEffect)((()=>{setTimeout((()=>{v(!0)}),window.__SSR__?0:1e3)}),[]);const I=(0,a.useCallback)((()=>{v(),clearTimeout(g.current),h()}),[E]),w=(0,a.useCallback)((()=>{v(),h()}),[E]);(0,a.useEffect)((()=>{const e=t.current;if(e)return e.addEventListener("scroll",I),window.addEventListener("resize",I),I(),()=>{e.removeEventListener("scroll",I),window.removeEventListener("resize",I)}}),[E]);const k=(0,a.useCallback)((()=>{const e=document.getElementById("leftContent");if(!e||!t.current)return;const n=e.parentElement,{height:a,width:r}=t.current.getBoundingClientRect(),{top:o,right:s,left:l,bottom:c,width:u}=e.getBoundingClientRect(),{width:m,height:p}=n?.getBoundingClientRect()||{};u&&(d(o>15?{position:"relative"}:c<a?{position:"absolute",top:p-a+15+5}:{position:"fixed",top:15,width:m?.453859*m:"39%",left:i?l-r+11:s}),w())}),[E]);return(0,a.useEffect)((()=>(document.addEventListener("scroll",k),window.addEventListener("resize",k),k(),()=>{document.removeEventListener("scroll",k),window.removeEventListener("resize",k)})),[k,o]),(0,a.useEffect)((()=>{k()}),[s,k]),{isScrolling:m,style:l,fixedActionStyle:f,onContentScroll:I,needFixedAction:E}}({contentRef:ce,actionWrapRef:ue,fixedActionWrapRef:de,globalResizeTrigger:j});(()=>{const e=(0,N.Pj)(),{queryCollectPromotion:t,optimalSku:n,control:r,addCartBenefitRich:o,buyNowButton:i,buyNowBenefitRich:s,resetBuyNowBenefitRich:l,qty:c,goods:u,supportCollectBenefit:d,isGShoppingRobot:m,addedAmount:p,querySkuInfo:g}=e,{isLocalGoods:h}=u||{},{supportAddCartBenefits:f,skuRefreshWaistBanner:y}=r?.detailSupportExperimentControl||{},_=1===y,E=(d||_)&&!m,S=(0,a.useCallback)((0,Xo.s)(t,500),[]),{skuId:v}=n||{},I=1===f&&!i&&!o?.[v]?.textRich?.length;(0,Yo.A)((()=>{(I||_)&&S()}),[S,I,v,_]),(0,Yo.A)((()=>{1===f&&i&&!s?.[v]?.textRich?.length&&S()}),[S,v]),(0,Yo.A)((()=>{1===f&&i&&(l(),S())}),[S,c]),(0,Yo.A)((()=>{p&&(l(),S())}),[S,p]),(0,Qo.A)((()=>{E&&t()})),(0,a.useEffect)((()=>{if(E)return(0,b.Xu)((e=>{let{updateCartType:n}=e;n!==b.oi.INITD_LAYOUT_CART&&(t({},!0),h&&g({useCache:!1}))}))}),[h,t,g,E])})();const _e=()=>a.createElement(a.Fragment,null,v?null:S?a.createElement(Fp,null):r.sensitiveProductTip||n.sensitiveProductTip?a.createElement(Dm,null):void 0,a.createElement("div",{className:o()(ng().action,S&&ng().similarTop)},a.createElement("div",{className:ng().actionBtns},a.createElement(su,{onClickAdd:le,isScrolling:pe}),Q===oa.BUTTON?a.createElement(Jo,null):null))),Ee=(0,a.useCallback)((()=>a.createElement("div",{className:o()(x?ng().titleWrap:ng().titleWrapNoShare),"aria-label":oe},a.createElement(ac,{goodsName:oe}),x?a.createElement(Wm,null):null)),[oe,x]),{rankV4:be,rankExplainDialog:Se}=q?.bestSellerModule?.data||{},ve=(0,a.useCallback)((()=>{(0,A.A)("rankExplainShow")}),[]);return a.createElement("div",{className:ng().wrap},a.createElement("div",{className:o()(ng().content,{[ng().showContentTransition]:K}),ref:ce,style:fe,id:ag},L?a.createElement(Mi,{className:ng().activity}):null,Ee(),a.createElement("div",{style:{fontSize:0}},a.createElement(ss,null),a.createElement(hc,null),Y?a.createElement(im,null):a.createElement(dm,null)),a.createElement(Xd,null),Y?null:a.createElement(Wa.r,{data:P,pageElSn:207303,rankV4:be,onRankExplaginShow:ve,rankExplainDialog:Se}),a.createElement(Vd,{onClickAdd:le}),(()=>{const e=a.createElement(a.Fragment,null,a.createElement(Lp,{isScrolling:pe,isShaking:me,className:o()(ng().sku,L&&!$&&ng().activityTop)}),a.createElement(hu,null),B?null:a.createElement(yp,null),(()=>{const e=d?.length,{supportRemoveQuantitySelector:t=0}=s||{},{isOnsale:n}=r||{};return t||e>0&&e===l?.skuTypeValues?.length&&1!==n?null:a.createElement(Kp,{onClickAdd:le})})(),a.createElement(Qp,null));return $?e:L&&W?a.createElement(Ss,{onClick:()=>{1!==T?.length&&le({source:Ia.TimeLimitedActivity,frontControl:{supportPersonalize:!c.isAddOrderScene,supportBuyNowSkuMultiButton:2}})},isShowArrow:1!==T?.length,serverRenderTime:G},e):e})(),a.createElement(ci,null),D||n?.isLocalGoods?a.createElement(Jd,null):null,a.createElement("div",{className:o()(ng().actionWrap,{[ng().hidden]:1===he.opacity}),ref:ue},_e()),a.createElement("div",{className:ng().fixedActionWrap,ref:de,style:he},!!ge&&_e()),R?a.createElement(za.j,{data:R,className:ng().shipping}):null,ie?a.createElement(Zi,null):null,a.createElement(zo,{isScrolling:pe}),!M&&a.createElement(Pm,null),a.createElement(cc,{tag:w}),a.createElement(mu,null),I?.items?.length?a.createElement(Ts,{onExpand:ye}):null))})),og=n(90241),ig=n(15634),sg=n.n(ig);var lg=(0,Xt.A)((0,In.W4)({name:"GalleryAddCartBlock"}),i.PA)((e=>{let{gallery:t,galleryIndex:n,onClickMask:r}=e;const{t:i}=(0,p.B)("goods"),s=(0,N.Pj)(),{formatSkuData:l,currentSpecIdSelect:c,selectedSku:u,sku:d,isSkc:m,control:g,skuShow:h,setCurrentSpecIdSelect:f,shoppingCartSkuAmountMap:y,qty:_,addOrderInfoStore:E,buyNowButton:b,addCartButtonStore:S,moduleMap:v,optimalSku:I}=s,{isShowClearanceMainButtonStyle:w,clearanceButtonStyle:k}=S,A=(0,a.useMemo)((()=>w?{style:k,className:sg().clearanceBtn}:{}),[k,w]),{isGoodsAddOrderAB:C,order:T}=E,{buttonDesc:x}=T||{},{skuInfos:P,specIdStrToSkuId:R}=l||{},{isOnsale:M,skuId:D}=u||{},B=(0,a.useMemo)((()=>{const{id:e,videoUrl:a,showTextSpecs:r}=t[n]||{},o=d.filter((t=>t?.galleryId===e));if(1===d?.length)return d[0];if(a)return null;if(1===o?.length)return o[0];let i={};if(r?.length){const{specKeyId:e,specValueId:t}=r[0]||{};e&&t&&(i={[e]:t})}if(i={...c,...i},(m||o?.length>1)&&(0,Sr.RP)(i)){const e=R?.[pi(i)];return{...P?.[e],currentSpecId:i}}}),[n,t,m,P,R,c])||{},{skuId:O}=B||{},L=y?.[O||""],W=async e=>{let{sku:t,skuParams:n,skuTypeValues:a,defaultSpecId:r}=e;const{skuId:o,isOnsale:i,specs:s,goodsId:l}=t||{},c=s?.reduce(((e,t)=>{const{specKeyId:n,specValueId:a}=t||{};return n&&a&&(e[n]=a),e}),{});if(!o||!i){const e={...n,defaultGoodsNumber:L?1:_},t=a[a.length-1]?.specKeyId;return t&&(e.currentSpecIdSelect={...r||c,[t]:null}),h(e)}return setTimeout((()=>f(c)),500),h({...n,defaultSkuId:o,directAddSkuId:g?.detailSupportExperimentControl?.supportNewCustom?void 0:o,defaultGoodsNumber:L?1:_,directAddGoodsId:l})},z=async e=>{const{specIdStrToSkuId:a,skuInfos:r,skuTypeValues:o}=l||{},i=t[n],{showTextSpecs:s,id:u,videoUrl:p}=i||{},g={addType:xn.H$.addCart,pageSource:406,needInitCheckSpec:!0,cartScene:xn.xi.BigPicture,frontControl:{supportPersonalize:!0},...e};if(1===d?.length&&d?.[0]?.isOnsale)return W({sku:d[0],skuParams:g,skuTypeValues:o});if(p)return h(g);const f=d.filter((e=>e?.galleryId===u));if(1===f?.length)return W({sku:f[0],skuParams:g,skuTypeValues:o});let y={};if(s?.length){const{specKeyId:e,specValueId:t}=s[0]||{};e&&t&&(y={[e]:t})}if(y={...c,...y},(m||f?.length>1)&&(0,Sr.RP)(y)){const e=a?.[pi(y)];return W({sku:r?.[e]||{},skuParams:g,skuTypeValues:o,defaultSpecId:y})}h({...g,currentSpecIdSelect:y})},F=e=>{const{type:t=Gt.el.primary,className:n,btnText:r=i("main_gallery.add"),underBtnText:s,onClick:l=z,trackingInfo:c,style:u}=e||{},{page_el_sn:d,...m}=c||{};return a.createElement(fc.Y,{innerCls:sg().borderInnerCls,pageElSn:d||200061,useClick:!1,others:{cart_scene:xn.xi.BigPicture,cart_type:0,...m},type:t,style:u,className:o()(sg().footerBtn,n),onClick:l,btnContent:r,btnBottomContent:s,"data-id":"button"})},{skuButtonCustoms:U,skuButtonSubBlock:G}=v?.bottomButtonModule?.data?.oneClickPayButton||{},{skuId:H}=I||{},{buttonTitle:V}=U?.[H]||{},j=(0,a.useMemo)((()=>G?.[H]?.textRich?.length?a.createElement(Va.l5,{newRichText:G[H]}):a.createElement(Rc,null)),[G,H]),q=V||x||i("main_detail.btnAllowPurchaseText");return a.createElement("div",{className:sg().wrap,id:"big_picture_button",onClick:r,"aria-hidden":!0},a.createElement("div",{className:sg().btnContainer,onClick:r,"aria-hidden":!0},(()=>{if(C)return a.createElement(a.Fragment,null,a.createElement(fc.Y,{className:o()(sg().footerBtn,sg().small,A.className,sg().addOrderBtn),onClick:()=>h({addType:xn.H$.addOrder,pageSource:406,frontControl:{supportPersonalize:!0}}),btnContent:q,btnBottomContent:j,"data-id":"button",style:A.style}),F({type:Gt.el.border,className:sg().cartsSmall}));if(b){const e={page_el_sn:jc,buy_scene:qc.BIG_GALLERY};return a.createElement(a.Fragment,null,F({type:Gt.el.border,className:sg().cartsSmall}),F({btnText:i("main_detail.buyNowBtnText"),className:o()(sg().small,A.className),trackingInfo:e,style:A.style,onClick:()=>{z({addType:xn.H$.buyNow,trackingInfo:e})}}))}return F({...A})})()))})),cg=n(64383),ug=n(65703),dg=n(7045),mg=n.n(dg),pg=function(e){return e[e.image=0]="image",e[e.video=1]="video",e}(pg||{});var gg=(0,Xt.A)((0,In.eE)(),i.PA)((e=>{let{data:t,index:n,onClickImage:r,onClickMask:i,onLoaded:s,galleryIndex:l,webpEnable:c,videoStatusListRef:u,baseTrackingInfo:d,store:p}=e;const{goodsId:g,grayConfig:h,bannerRatio:f}=p,{url:y,videoUrl:_,goodsId:E}=t,{videoUrl:b,width:S,height:v}=t.video||{},I=b||_,w=(0,a.useRef)(null),k=n===l,N=1===h?.cp144589?.videoOpt,[C,T]=(0,a.useState)({}),x={width:"100%",height:"auto"};if(I&&S&&v&&f){v/S-f>.01&&(x.width="auto",x.height="100%")}const P=(0,a.useMemo)((()=>d?.page_el_sn?{play:{...d,page_el_sn:d.page_el_sn,pichead_index:n,pic_type:pg.video,op:"event",sub_op:"video_start"},pause:{...d,page_el_sn:d.page_el_sn,pichead_index:n,pic_type:pg.video,op:"event",sub_op:"video_pause"},end:{...d,page_el_sn:d.page_el_sn,pichead_index:n,pic_type:pg.video,op:"event",sub_op:"video_end"}}:{}),[d,n]);(0,a.useEffect)((()=>{const e=w.current;if(e&&k){const t=u.current[n];e.currentTime=t.currentTime,(0,Sr.R5)(e,!0),t.playing=!0}}),[]),(0,Ls.A)({ref:w,options:{threshold:.8},onEnter:()=>{const e=w.current;if(!e)return;const t=u.current[n];t&&(e.currentTime=t.currentTime,t.playing&&((0,Sr.R5)(e,!0),t.playing=!0))},onLeave:()=>{const e=w.current;if(!e||0===e.currentTime)return;const t=u.current[n];t&&(t.playing=!e.paused,t.currentTime=e.currentTime,t.muted=e.muted,(0,Sr.R5)(e,!1))}});const R=(0,ug.A)();(0,a.useEffect)((()=>{const e=w.current;if(!e)return;const t=u.current[n];t&&k&&(R&&t.playing?((0,Sr.R5)(e,!0),t.playing=!0):(t.playing=!e.paused,(0,Sr.R5)(e,!1)))}),[R]);return a.createElement("div",{className:o()(mg().contentItem,{[mg().contentActive]:k}),key:n,onClick:i,"aria-hidden":!0},!!I&&!N&&a.createElement("video",{ref:w,src:(0,m.VG)(I),onTimeUpdate:()=>{u.current[n]&&(u.current[n].currentTime=w?.current?.currentTime||0)},onClick:e=>{e.stopPropagation()},onVolumeChange:()=>{const e=w.current,t=u.current[n];t&&(t.muted=e?.muted)},muted:u.current[n]?.muted,controls:!0,controlsList:"nodownload noremoteplayback",disablePictureInPicture:!0,disableRemotePlayback:!0,"x-webkit-airplay":"deny",onPlay:()=>{P.play&&(0,ge.OS)(P.play)},onPause:()=>{w.current?.ended?P.end&&(0,ge.OS)(P.end):P.pause&&(0,ge.OS)(P.pause)},onLoadedData:()=>{T({height:"auto"}),s()},style:C}),I&&N?a.createElement(cg.A,{videoUrl:I,galleryIndex:l,index:n,videoStatusListRef:u,videoTrackingInfo:P,isPlayEndGoBackFirstFrame:!0,autoPlay:!0,hideControls:!1,logger:A.A,className:mg().videoPlay,videoStyle:x,hideCustomPlayIconInPad:!0,scene:cg.r.BIG_PICTURE}):null,!I&&y?a.createElement(kn.Rp,{page_el_sn:d?.page_el_sn,others:{...d,pichead_index:n,pic_type:pg.image,goods_id:g},useClick:!1},a.createElement("div",{id:k?"big_picture_img_item":"",className:mg().imgWrap},a.createElement(On.A,{src:y,webpEnable:c,onClick:r,progress:!0,progressBlurredCompressParams:xn.QH,alt:""}))):null)})),hg=n(14273),fg=n.n(hg),yg=function(e){return e[e.Text=1]="Text",e[e.HotIcon=2]="HotIcon",e}(yg||{});const _g=e=>{let{data:t}=e;const{type:n,text:r}=t;return n===yg.HotIcon?a.createElement($m.A,{className:fg().fireIcon}):n===yg.Text?a.createElement("span",null,r):null};var Eg=(0,Xt.A)((0,In.W4)({name:"SpecTag"}),i.PA)((e=>{let{currentGalleryItem:t}=e;const{showTextSpecs:n,id:r,skuId:o}=t||{},i=(0,N.Pj)(),{sizeSpecModule:s,selectLocationId:l,currentSpecIdSelect:c,isShowNewSize:u,formatSkuData:d,sku:m,isSkc:p,control:g}=i,{sizeGuideSpecKeyId:h}=g||{},{skuTypeValues:f,specKeyId2SpecKeyMap:y,specValueId2SpecMap:_}=d,[E,b]=(0,a.useState)(!0),[S,v]=(0,a.useState)(!1),[I,w]=(0,a.useState)({}),[k,A]=(0,a.useState)([]),C=(e,t)=>{if(u&&e===h)return s?.sizeSpecContentMap?.[l]?.sizeSpecValueContentMap?.[t]?.specValueStr},T=()=>{const e=document.getElementById("big_picture_img_item")?.clientWidth||0;e>500&&w({maxWidth:e})};(0,a.useEffect)((()=>{T(),setTimeout((()=>v(!0)),300)}),[]),(0,Ru.A)("resize",T,Pu.z);const x=(0,a.useCallback)((function(e,t,n){let a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const r=[{type:yg.Text,text:e}];return a&&r.push({type:yg.Text,text:": "}),r.push({type:yg.Text,text:n||t}),r}),[]);if((0,a.useEffect)((()=>{(()=>{if(1===m.length){const e=Object.entries(c).map((e=>{let[t,n]=e;const a=y[t],{specValue:r}=_[n]||{};return x(a,r)}));return A(e),void b(!0)}let e=!1;if(r){const t=m.filter((e=>e?.galleryId===r));if(1===t?.length){const e=t[0].specs?.map((e=>{const{specKeyId:t,specValueId:n,specKey:a,specValue:r}=e||{};return a&&r?x(a,r,C(t,n)):[]}));if(e?.length)return A(e),void b(!0)}e=t?.length>1}const t=[];Object.entries(c).forEach((a=>{let[r,i]=a;const s=+r,l=(n||[]).find((e=>e?.specKeyId===s)),c=_[i]||{},{specValueId:u,specKeyId:d}=l||{},m=y[s];if(e&&l?.specValue)t.push(x(m,l.specValue,C(d,u))),b(!0);else if((o||p)&&i)t.push(x(m,c?.specValue,C(s,i))),b(!0);else{const e=(f||[]).find((e=>e?.specKeyId===s));if(e?.values?.length){const n=e.values.length;if(1===n){const{values:n,valueIds:a,specKeyId:r}=e||{};t.push(x(m,n?.[0],C(r,a?.[0]))),b(!0)}else t.push(x(`${n} `,m,"",!1)),b(!1)}}})),A(t)})()}),[c,r,o,p]),!S||!k.length)return null;return a.createElement("div",{className:fg().spec,style:I},a.createElement(zs.v,{type:"gray",size:"lg",className:fg().tag},1===k.length?k[0].map(((e,t)=>a.createElement(_g,{data:e,key:t}))):k.map(((e,t)=>a.createElement(a.Fragment,null,e.map(((e,t)=>a.createElement(_g,{data:e,key:t}))),0===t&&(E?" / ":", "))))))})),bg=n(67187),Sg=n.n(bg),vg=function(e){return e[e.image=0]="image",e[e.video=1]="video",e}(vg||{});const Ig=e=>e<.2?0:e>.8?1:(e-.2)/.6,wg=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"smooth";setTimeout((()=>{document.querySelectorAll(`.${Sg().spec}`)?.[e]?.scrollIntoView({behavior:t,block:"center"})}),0)};var kg=(0,Xt.A)((0,In.W4)({name:"GalleryBigPicture"}),i.PA)((e=>{const{onClose:t,index:n,callback:r,webpEnable:s,hideThumb:l,onMount:c,videoStatusList:u,store:d}=e,{isGiftGoods:m,isSkc:p,currentSpecIdSelect:g,concatGallery:h,sku:f,isChangeSpecBySkuSelector:y,selectedSkuSpec:_,isSkuSelectorCloseChange:E,control:b,addOrderInfoStore:S,redeemPointsBtnStore:v}=d,{isRedeemPoints:I}=v,{isGoodsAddOrderAB:w,order:k}=S,N=(0,a.useMemo)((()=>h.map((e=>({...e,videoUrl:e.video?.videoUrl})))),[h]),[C,T]=(0,a.useState)(n),[x,P]=(0,a.useState)(!1),R=N.length,M=N[C]||{},D=(0,a.useRef)(null),B=(0,a.useRef)({}),O=(0,a.useRef)(u||new Array(R).fill(0).map((()=>({currentTime:0,playing:!1})))),L=(0,a.useRef)(null),W=(0,a.useMemo)((()=>({page_el_sn:220163,pichead_index:C,pic_type:N[C]?.video?.videoUrl?vg.video:vg.image,product_pic:R})),[C,R]);(0,a.useEffect)((()=>{c?.()}),[]);(0,Ru.A)("resize",(()=>{if(!D.current)return;const{clientWidth:e,clientHeight:t}=D.current;B.current={width:e,height:t}}),Pu.z,{immediate:!0,deps:[x]});const z=(0,a.useRef)(),F=e=>{const t=+e.currentTarget.dataset.index||0;z.current=setTimeout((()=>{T(t)}),100)},U=()=>{clearTimeout(z.current)};(0,a.useEffect)((()=>(wg(C,"instant"),(0,A.A)("GalleryBigPicture"),()=>{clearTimeout(z.current)})),[]);(0,a.useEffect)((()=>{(()=>{if(p)return;if(!p&&!y)return;if(Object.values(g).every((e=>!e)))return;const{showPictureSpecKeyId:e,skuThumbSpecKeyId:t}=b||{},n=e||t;if(n&&!g[n])return;const a=f.filter((e=>{let{specs:t}=e;return t?.some?.((e=>e.specValueId===_[0]?.specValueId))}));if(a?.length>0){const e=a.find((e=>{let{specs:t}=e;return _?.every((e=>t?.some?.((t=>t.specValueId===e.specValueId))))}));if(e?.galleryId){const t=N.findIndex((t=>e.galleryId===t.id));if(t>=0)return void T(t)}const t=N.findIndex((e=>a.some((t=>t.galleryId===e.id))));t>=0&&T(t)}})()}),[E]),(0,a.useEffect)((()=>{const e=L.current;if(!e)return;const t=e.parentElement;if(!t)return;const{height:n}=t.getBoundingClientRect(),a=L.current.children[C];if(!a)return;const{height:r}=a.getBoundingClientRect(),o=a.offsetTop,i=a.offsetTop+r;t.scrollTop>i?(0,Da.BD)(o,t):t.scrollTop+n<o&&(0,Da.BD)(i-n,t)}),[C]);const G=()=>{if(t(),M.videoUrl){const e=document.querySelector(`.${Sg().contentActive} video`);e&&(O.current[C].playing=!e.paused)}r?.(C,{videoStatusList:O.current})},H=e=>{e.target===e.currentTarget&&G()},V=e=>{e.stopPropagation(),W?.page_el_sn&&(0,ge.OS)({...W,op:"left_slide"});let t=C-1;t<0&&(t=R-1),wg(t),T(t)},j=e=>{e.stopPropagation(),W?.page_el_sn&&(0,ge.OS)({...W,op:"right_slide"});let t=C+1;t>=R&&(t=0);const{right:n=0}=L.current?.getBoundingClientRect()||{};n>=0&&wg(t),T(t)};(0,og.A)({[og.N.ArrowLeft]:V,[og.N.ArrowRight]:j},[C]);const q=N.length>1,[K,$]=(0,a.useState)({}),[J,Y]=(0,a.useState)(!1),Q=e=>{const{offsetX:t,offsetY:n}=e.nativeEvent,{width:a,height:r}=B.current,{width:o,height:i}=K;let s=0,l=0;return i>r&&(s=-(i-r)*Ig(n/r)),o>a&&(l=-(o-a)*Ig(t/a)),{top:s,left:l}},X=e=>{const{width:t,height:n}=e.target,a=n/t,{width:r}=B.current,{width:o,height:i}=M;let s={};s=o&&i?o<r?{width:r,height:r*i/o}:{width:o,height:i}:{width:r,height:r*a},$({...s,...Q(e)}),Y(!0)},Z=()=>{Y(!1)},ee=k?.allowPurchase&&!w||m||I;return a.createElement(i.Kq,{store:d},a.createElement(Ar.Ay,{onClick:G,className:Sg().content,wrapClassName:Sg().popupWrap,popupShowClassName:Sg().popupShow,isShowClose:!1},a.createElement("div",{className:Sg().close,onClick:G,"aria-hidden":!0},a.createElement(Ra.HW,{className:Sg().closeIcon})),a.createElement(kn.nU,{page_el_sn:void 0!==p?200351:p,others:{scenes:1,type:p?1:2}},a.createElement("div",{className:Sg().wrap,onClick:H,"aria-hidden":!0},a.createElement("div",{className:o()(Sg().mainContent),onClick:H,"aria-hidden":!0},!l&&a.createElement("div",{className:Sg().thumb,onClick:H,"aria-hidden":!0},a.createElement("div",{className:Sg().thumbInner,ref:L},N.map(((e,t)=>{const{width:n,height:r,url:i,videoUrl:l}=e;if(!i)return null;const c={};return n&&r&&(c.paddingBottom=100*r/n+"%"),a.createElement("div",{key:t,onMouseEnter:F,onMouseLeave:U,"data-index":t,style:c,className:o()(Sg().spec,{[Sg().active]:t===C})},a.createElement(Nn.Ay,{src:i,webpEnable:s,resizeWidth:180,alt:""}),l?a.createElement("div",{className:Sg().videoIcon},a.createElement(Ra.np,{className:Sg().icon})):null)})))),a.createElement("div",{className:Sg().right,onClick:H,"aria-hidden":!0},a.createElement("div",{className:o()(Sg().big,{[Sg().single]:!q}),onClick:H,ref:D,"aria-hidden":!0},!!q&&a.createElement(er.A,{direction:"left",className:Sg().arrowLeft,innerArrowClassName:Sg().picArrow,onClick:V}),a.createElement("div",{className:Sg().mediaContent},N.map(((e,t)=>a.createElement(gg,{data:e,index:t,galleryIndex:C,onClickImage:X,onClickMask:H,webpEnable:s,videoStatusListRef:O,baseTrackingInfo:W,store:d,onLoaded:()=>P(!0)}))),M?.videoUrl?null:a.createElement(Eg,{currentGalleryItem:M})),!!q&&a.createElement(er.A,{direction:"right",className:Sg().arrowRight,innerArrowClassName:Sg().picArrow,onClick:j}),M?.url?a.createElement("div",{className:o()(Sg().bigImage,{[Sg().showBig]:J}),onClick:Z,onMouseLeave:Z,onMouseMove:e=>{$({...K,...Q(e)})},"aria-hidden":!0},a.createElement("div",{className:Sg().imgWrap,style:K},a.createElement(Nn.Ay,{webpEnable:s,src:M.url,alt:""}))):null),ee?null:a.createElement(lg,{gallery:N,galleryIndex:C,onClickMask:H})))))))})),Ng=n(903),Ag=n(56208),Cg=n.n(Ag),Tg=function(e){return e[e.image=0]="image",e[e.video=1]="video",e}(Tg||{});var xg=e=>{let{data:t,bannerRatio:n,style:r,lazy:i,alt:s,index:l,onClickImage:c,galleryIndex:u,videoStatusListRef:d,isRefreshGallery:g,className:h="",setVideoPlay:f,baseTrackingInfo:y,progressInfo:_,detailAdvanceVideo:E,isRobot:b,seoImgUrlMap:S,isClone:v,showEnlarge:I}=e;const{t:w}=(0,p.B)("goods",{keyPrefix:"accessibility"}),{isRTL:k}=(0,Ta.Sz)(),C=(0,N.Pj)(),T=(0,a.useRef)(),x=l===u,{goodsId:P,grayConfig:R,usePrefetchVideo:M}=C,{width:D,height:B,url:O,goodsId:L}=t,{videoUrl:W,width:z,height:F,url:U}=t.video||{},{videoUrl:G,url:H}=E||{},V=W||G,j=b&&S?.[V]?S[V]:V,K=b&&S?.[O]?S[O]:O,$=U||H,{style:J}=(0,Ng.r)?.({eleRef:T,enable:x&&I})||{},Y=(0,a.useMemo)((()=>{const e={width:"100%",height:"auto"};if(D&&B&&n){B/D-n>.01&&(e.width="auto",e.height="100%")}return{...e,...J}}),[D,B,n,J]),Q=1===R?.cp144589?.videoOpt,[X,Z]=(0,a.useState)(!1),ee=(0,a.useMemo)((()=>{const e={width:"100%",height:"auto"};if(j&&z&&F&&n){F/z-n>.01&&(e.width="auto",e.height="100%")}return e}),[j,z,F,n]),{t:te}=(0,p.B)("goods"),ne=(0,a.useRef)(null),[ae,re]=(0,a.useState)(!1),oe=()=>{re(!0),f(!0,l)},ie=(0,a.useMemo)((()=>y?.page_el_sn?{play:{...y,pichead_index:l,pic_type:Tg.video,op:"event",sub_op:"video_start"},pause:{...y,pichead_index:l,pic_type:Tg.video,op:"event",sub_op:"video_pause"},end:{...y,pichead_index:l,pic_type:Tg.video,op:"event",sub_op:"video_end"}}:{}),[y,l]);(0,Ls.A)({ref:ne,options:{threshold:.8},onEnter:()=>{const e=ne.current,t=d.current[l];e&&ae&&t&&t.playing&&((0,Sr.R5)(e,!0),t.playing=!0)},onLeave:()=>{const e=ne.current,t=d.current[l];e&&ae&&t&&(t.playing=!e.paused,(0,Sr.R5)(e,!1))}});const se=(0,ug.A)();(0,a.useEffect)((()=>{const e=ne.current,t=d.current[l];if(e&&ae&&t){if(x&&se&&t.playing)return(0,Sr.R5)(e,!0),void(t.playing=!0);t.playing=!e.paused,(0,Sr.R5)(e,!1)}}),[ae,se,x]),(0,a.useEffect)((()=>{const e=ne.current,t=d.current[l];x&&t&&j&&(t.playing?e?(e.currentTime=t.currentTime,(0,Sr.R5)(e,!0)):(oe(),setTimeout((()=>{const e=ne.current;e&&(e.currentTime=t.currentTime,(0,Sr.R5)(e,!0))}),50)):t.currentTime>0?(oe(),setTimeout((()=>{const e=ne.current;e&&(e.currentTime=t.currentTime,(0,Sr.R5)(e,!1))}),50)):re(!1))}),[g,x]);const le=()=>a.createElement(On.A,(0,q.A)({role:"img","aria-label":te("main_gallery.goodsImage"),className:Cg().img,style:Y,src:K,lazy:i,fetchpriority:"high",draggable:!1,alt:s||w("goodsImage"),wrapperStyle:{paddingBottom:100*n+"%",backgroundPosition:"0 0"},onClick:c},_,xn.be));return a.createElement(kn.nU,{page_el_sn:v?"":219771,others:{...y,pichead_index:l,pic_type:j?Tg.video:Tg.image,goods_id:P}},a.createElement("div",{className:o()(o()(Cg().scrollPage,`sp${l}`,h,{[Cg().videoPlayed]:ae||X,[Cg().rtl]:k})),style:r,ref:T,"data-index":l},ae||Q&&j?null:le(),Q&&j?a.createElement(cg.A,{videoUrl:j,poster:le(),galleryIndex:u,index:l,videoStatusListRef:d,videoTrackingInfo:ie,isPlayEndGoBackFirstFrame:!0,logger:A.A,recordVideoPlay:e=>Z(e),videoStyle:ee,scene:cg.r.GALLERY,usePrefetchVideo:M}):null,Q||ae||!j?null:a.createElement(Jt.A,{enable:!0},a.createElement("div",{className:o()(Cg().videoIcon,Cg().largeIcon),onClick:e=>{e.stopPropagation(),oe(),setTimeout((()=>{(0,Sr.R5)(ne.current,!0)}),50)},role:"button",tabIndex:0},a.createElement(Ra.np,{className:Cg().icon}))),!Q&&!!j&&a.createElement("video",{ref:ne,preload:"auto",onTimeUpdate:()=>{const e=d.current[l];e&&(e.currentTime=ne?.current?.currentTime||0)},className:o()(Cg().video,ae?"":Cg().hideVideo),src:(0,m.VG)(j),style:ee,onVolumeChange:()=>{const e=ne.current,t=d.current[l];t&&(t.muted=e?.muted)},poster:$,muted:d?.current[l]?.muted,controls:!0,controlsList:"nodownload noremoteplayback",disablePictureInPicture:!0,disableRemotePlayback:!0,"x-webkit-airplay":"deny",onPlay:()=>{ie.play&&(0,ge.OS)(ie.play)},onPause:()=>{ne.current?.ended?ie.end&&(0,ge.OS)(ie.end):ie.pause&&(0,ge.OS)(ie.pause)}})))},Pg=n(77140),Rg=n(52493),Mg=n.n(Rg);var Dg=(0,In.W4)({name:"GalleryReview"})((0,a.memo)((0,i.PA)((e=>{let{style:t,className:n,index:r}=e;const{review:i}=(0,N.Pj)(),{featuredReviewInfo:s}=i?.reviewData||{},[l,c]=(0,a.useState)(1),u=(0,a.useRef)(null),d=(0,a.useRef)(null),{goodsScoreText:m,reviewNumStr:p,lightingIcon:g,goodsScore:h,title:f,reviewList:y}=s||{},[_,E]=(0,a.useState)(!1),{isRTL:b}=(0,Ta.Sz)(),S=(0,a.useRef)();(0,a.useEffect)((()=>{const e=(0,D.nF)((()=>{if(!u.current||!d.current)return;E(!0);const{width:e=0}=u.current?.getBoundingClientRect?.()||{};c(Math.min(1,e/536))}),30);return clearTimeout(S.current),S.current=setTimeout(e,100),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[d.current,u.current]);const v=`(${p})`;return a.createElement("div",{className:o()(Mg().bg,n,{[Mg().unVisible]:!_}),style:t,ref:u,"data-index":r},a.createElement("div",{className:Mg().wrap,ref:d,style:{transform:`scale(${l})`,width:432}},a.createElement("div",{className:Mg().header},a.createElement("div",{className:Mg().headerContent},a.createElement("span",{className:Mg().headerReview},f),m?a.createElement("span",{className:Mg().headerRate},m):null,h?a.createElement(em.Zb,{commentNumTips:v,cur:4,size:12,wrapStyle:{alignItems:"center"},emptyStarStyle:{fill:"#fff"},activeStyle:{fill:"#fff"},numCls:Mg().num,starClass:Mg().headerStar}):null),g?a.createElement(Nn.Ay,{src:g,className:Mg().icon}):null),a.createElement("div",{className:Mg().content},y?.map(((e,t)=>{const{avatar:n,name:r,score:o,concatRichText:i,comment:s,pictures:l}=e||{},c=l?.length||0,u=c>1?"+"+(c-1):"";return a.createElement("div",{className:Mg().reviewItem,key:t},a.createElement("div",{className:Mg().reviewItemTop},a.createElement("div",{className:Mg().avatarWrap},n?a.createElement(Nn.Ay,{src:n,className:Mg().avatar,"aria-hidden":!0}):null),a.createElement("div",{className:Mg().nickname},r),a.createElement("div",{className:Mg().reviewItemRate},a.createElement(em.Zb,{cur:o,size:16,wrapStyle:{alignItems:"center"},starClass:Mg().reviewItemStar})),i?.textRich?.length?a.createElement("div",{className:Mg().reviewItemCountry},a.createElement(Pg.A,{concatRichText:i,isRTL:b})):null),a.createElement("div",{className:Mg().reviewItemBottom},a.createElement("div",{className:Mg().reviewItemContent},s),l?.length?a.createElement("div",{className:Mg().imgs},l[0]?.url?a.createElement(Nn.Ay,{src:l[0]?.url,className:Mg().img,"aria-hidden":!0}):null,l.length>1?a.createElement("div",{className:Mg().imgCntTag},u):null):null))})))))})))),Bg=n(30406),Og=n.n(Bg);const Lg=e=>{const{seoImgUrlMap:t,videoStatusListRef:n,size:r,data:i,index:s,isReady:l,isRobot:c,goodsAlt:u,bannerRatio:d,setVideoPlay:m,accessT:p,isRefreshGallery:g,onClickImage:h,galleryIndex:f,video:y,baseTrackingInfo:_,isClone:E,showEnlarge:b}=e,{alt:S,galleryReview:v}=i||{},I=`${S||u} ${s}`,w=!c&&(l||s<xn.au);return v?a.createElement(Dg,{index:s,style:r,className:o()(Og().scrollPage)}):a.createElement(xg,{isClone:E,key:`${s}.${i.id||0}`,index:s,setVideoPlay:m,bannerRatio:d,detailAdvanceVideo:c&&0===s?y:null,data:i,lazy:0!==s,showEnlarge:b,progressInfo:{progress:w,progressBlurredCompressParams:xn.QH},alt:I||u||p("goodsImage"),style:r,isRefreshGallery:g,onClickImage:h,galleryIndex:f,videoStatusListRef:n,baseTrackingInfo:_,seoImgUrlMap:t,isRobot:c})};var Wg=function(e){return e[e.image=0]="image",e[e.video=1]="video",e}(Wg||{});const zg={direction:"ltr"},Fg=()=>{};var Ug=(0,Xt.A)((0,In.W4)({name:"Gallery"}),i.PA)((function(){const e=(0,N.Pj)(),{t:t}=(0,p.B)("goods",{keyPrefix:"accessibility"}),{goods:n,concatGallery:r,bannerRatio:i,isSkc:s,webpEnable:l,globalResizeTrigger:c,seoDataPageAlt:u,isRobot:d,video:m,seoImgUrlMap:g,selectedSku:h,optimalSku:f,showGalleryReview:y,isSupportTouch:_,grayConfig:E,favStore:b,localInfo:S}=e,{isRTL:v}=(0,Ta.Sz)(),I=(0,a.useMemo)((()=>y?[...r,{galleryReview:1}]:r),[r,y]),{goodsName:w,goodsId:k}=n||{},C=I.length,T=C>1,x=(0,a.useRef)(null),P=(0,a.useRef)(null),R=(0,a.useRef)(null),M=(0,a.useRef)(null),{galleryIndex:D,setGalleryIndex:B}=e,O=(0,a.useRef)(D),[L,W]=(0,a.useState)(!1),z=(0,a.useRef)(),{showSmallFavBtnPos:F}=b,U=(0,a.useMemo)((()=>({page_el_sn:219771,pichead_index:D,pic_type:I[D]?.video?.videoUrl?Wg.video:Wg.image,product_pic:C})),[D,C]),[G,H]=(0,a.useState)(new Array(C).fill(!1)),V=(0,a.useCallback)(((e,t)=>{H(G.map(((n,a)=>a===t?e:n)))}),[G]),[j,K]=(0,a.useState)(!1),[$,J]=(0,a.useState)({}),Y=(0,a.useRef)(new Array(C).fill(0).map((()=>({currentTime:0,playing:!1,muted:!0})))),Q=(0,a.useRef)();(0,a.useEffect)((()=>{Y.current=new Array(I.length).fill(0).map((()=>({currentTime:0,playing:!1,muted:!0}))),K((e=>!e))}),[I]),(0,a.useEffect)((()=>{if(!P.current)return;const{width:e,height:t}=P.current.getBoundingClientRect();e&&(J({width:+e.toFixed(0),height:+t.toFixed(0)}),W(!0))}),[P.current]),(0,a.useEffect)((()=>{const e=x.current;if(!(L&&e&&$.width&&P.current))return Fg;const t=()=>{const{width:e,height:t}=P.current?.getBoundingClientRect?.()||{};if(e&&$.width!==e&&e<=654){const n=+e.toFixed(0),a=+t.toFixed(0);J({width:n,height:a}),z.current?.updateCurTranslateX(n),z.current?.setSyncWidthStyle({width:`${n}px`})}};return Q.current=t,window.addEventListener("resize",t,!1),()=>{window.removeEventListener("resize",t,!1)}}),[L,$]),(0,a.useEffect)((()=>{Q.current?.()}),[c]);const X=u||w||"";(0,a.useEffect)((()=>{s&&L&&(B(0),O.current=0)}),[L,I,s]),(0,a.useEffect)((()=>{if(z.current?.slideTo(D,!0),O.current=D,L&&M.current){const e=M.current.parentElement,{height:t}=e?.getBoundingClientRect?.()||{},n=M.current.children[D];if(!n)return;const{height:a}=n.getBoundingClientRect(),r=n.offsetTop,o=n.offsetTop+a;if(e&&e.scrollTop>o)return void(0,Da.BD)(r,e);e&&e.scrollTop+Number(t)<r&&(0,Da.BD)(o-Number(t),e)}}),[D,R.current,L]);const Z=(0,a.useRef)(),ee=e=>{const t=+e.currentTarget.dataset.index||0;clearTimeout(Z.current),Z.current=setTimeout((()=>{z.current?.slideTo(t,!0)}),50)},te=()=>{clearTimeout(Z.current)};(0,a.useEffect)((()=>()=>{clearTimeout(Z.current)}),[]);const[ne,ae]=(0,a.useState)(!1),re=(e,t)=>{let{videoStatusList:n}=t;B(e),n&&(Y.current=n,K((e=>!e)))},oe=(0,Ba.x)((async()=>{const t=(0,vn.A)(a.createElement(kg,{store:e,onClose:()=>t?.(),index:D,callback:re,webpEnable:l,videoStatusList:Y.current}),{})}),500),ie=((0,a.useCallback)((()=>{const{left:e,width:t,right:n}=document.querySelector(`#${ag}`)?.getBoundingClientRect()||{},{clientHeight:a,clientWidth:r}=document.body||{},o=v?Math.min(t,t+e-10):Math.min(t,r-e-10);return{width:o,height:a-160-44,...v?{left:n+window.scrollX-o}:{left:(window.scrollX||0)+e},top:160}}),[]),(0,a.useMemo)((()=>!!I[D]?.video?.videoUrl||!!I?.[D]?.galleryReview),[I,D])),se=1===E?.[(0,Aa.xc)(S?.region)===Ca.DR.eu?"cp181368":"cp160182"]?.styleV4&&!_&&!ie;return C?a.createElement("div",{className:Og().wrap,ref:x},a.createElement("div",{className:Og().thumb,tabIndex:0,role:"button","aria-label":t("goodsImage")},a.createElement("div",{className:Og().thumbInner,ref:M},I.map(((e,n)=>{const{id:r,width:i,height:s,url:l="",video:c,alt:u,galleryReview:m}=e,p=`${u||X} ${n}`,h=c?.videoUrl,f={};i&&s&&(f.paddingBottom=100*s/i+"%");const y=n===D,_=d&&g?.[l]?g[l]:l;return m?a.createElement("div",{key:n,onMouseEnter:ee,onMouseLeave:te,"data-index":n,style:{paddingBottom:100*(I[0]?.height||0)/i+"%"},className:o()(Og().spec,{[Og().active]:y})},a.createElement(Dg,{key:n,index:n,className:Og().thumbGalleryReview})):a.createElement("div",{key:`${r}_${n}`,onMouseEnter:ee,onMouseLeave:te,"data-index":n,style:f,className:o()(Og().spec,{[Og().active]:y})},a.createElement(On.A,(0,q.A)({src:_,alt:p||t("goodsImage"),tabIndex:0,lazy:!d&&n>=xn.au,fetchpriority:"high"},xn.QH)),h?a.createElement("div",{className:Og().videoIcon,"aria-hidden":!0},a.createElement(Ra.np,{className:Og().icon})):null)})))),a.createElement("div",{className:Og().pic,onMouseEnter:()=>{T&&ae(!0)},onMouseLeave:()=>{T&&ae(!1)},style:zg},a.createElement("div",{ref:P,className:Og().fixRatio,style:{paddingBottom:100*i+"%"}},a.createElement(Ma.A,{Slider:Lg,list:I,wrapClassName:Og().slideWrapper,initialIndex:D,ref:z,wrapStyle:$,olClassName:Og().scrollContent,containerWidth:$?.width,onSlideWillChange:B,customSliderProps:{seoImgUrlMap:g,videoStatusListRef:Y,size:$,isReady:L,isRobot:d,goodsAlt:X,bannerRatio:i,setVideoPlay:V,accessT:t,isRefreshGallery:j,onClickImage:oe,galleryIndex:D,video:m,baseTrackingInfo:U,showEnlarge:se}})),a.createElement(Pa.A,{show:ne,leftCls:Og().arrowLeft,rightCls:Og().arrowRight,innerCls:Og().picArrow,onPrev:e=>{e.stopPropagation(),z.current?.slideTo(D-1),(0,A.A)("GalleryClickPrev")},onNext:e=>{e.stopPropagation(),z.current?.slideTo(D+1),(0,A.A)("GalleryClickNext")}}),F===oa.GALLERY?a.createElement(Jo,null):null),a.createElement(xa._I,{hide:G?.[D],data:n?.energyTag,goodsId:h?.goodsId||k,repairData:f?.skuRepairabilityIndex,skuId:f?.skuId,efficiencyCls:f?.skuRepairabilityIndex?Og().efficiencyCls:""})):null})),Gg=n(99759),Hg=n(14171),Vg=n.n(Hg);const jg="https://aimg.kwcdn.com/upload_aimg/web/e0f7e21f-a924-4da4-9cb6-54d4c3893217.png";var qg=(0,Xt.A)((0,In.W4)({name:"SoldOutPage"}),i.PA)((function(){const e=(0,N.Pj)(),{t:t}=(0,p.B)("goods",{keyPrefix:"soldOutPage"}),{goods:n,crumbOptList:r,switches:i,sku:s,$service:l,control:c}=e,{hdThumbUrl:u,imageUrl:d,soldOutJumpUrl:m,soldOutSubscribeStatus:g,soldOutContent:h,goodsId:f}=n||{},{soldOutTitleContent:y,soldOutDetailContent:_,soldOutBeforeSubscribeTip:E,soldOutBeforeSubscribeButtonContent:b,soldOutAfterSubscribeTip:S,soldOutAfterSubscribeSubTip:v,soldOutAfterSubscribeButtonContent:I,soldOutDetailContentRich:w}=h||{},k=u||d,C=(0,a.useMemo)((()=>!!c?.findSimilar&&!!(s||[]).find((e=>e.canSubscribe&&e.subscribeStatus===xn.$p.Subscribe))),[c,s]),T=(0,a.useMemo)((()=>!!c?.findSimilar&&!!(s||[]).find((e=>e.canSubscribe&&e.subscribeStatus===xn.$p.UnSubscribe))),[c,s]),x=(0,a.useCallback)((e=>{const t=[];return(s||[]).forEach((n=>{n.canSubscribe&&n.subscribeStatus!==e&&t.push(Number(n.skuId))})),{type:1,goods_id:f,sku_id_list:t}}),[s,f]),P=(0,a.useCallback)((async()=>{const n=x(xn.$p.Subscribe);if(!n?.sku_id_list?.length)return!1;const a=await l.subscribe(n),{success:r,error:o}=a||{};return r?(s.forEach((e=>{n.sku_id_list.includes(Number(e.skuId))&&(e.subscribeStatus=xn.$p.Subscribe)})),e.sku=[...s],a):(40001!==o?.errorCode&&Fa.A.error(t("store.subscribeFailToast",{ns:"goods"})),!1)}),[s]),R=(0,a.useCallback)((async()=>{const n=x(xn.$p.UnSubscribe);if(!n?.sku_id_list?.length)return!1;const a=await l.unSubscribe(n);a.success?(Fa.A.success(a?.tips),s.forEach((e=>{n.sku_id_list.includes(Number(e.skuId))&&(e.subscribeStatus=xn.$p.UnSubscribe)})),e.sku=[...s]):40001!==a?.error?.errorCode&&Fa.A.error(t("store.unsubscribeFailToast",{ns:"goods"}))}),[s]),M=1===g&&(T||C),D=()=>{(0,Gg.r)({request:{list_id:(0,mn.A)(6),offline:!0,main_goods_ids:[n.goodsId],main_goods:[n.goodsId],top_goods:[n.goodsId]},config:{pageSn:xn.LM,pageElSn:205397,frontControl:{supportPersonalize:!0}},goods:{goodsId:n.goodsId}})},B=async()=>{if(T){const e=await P(!0);e?.success&&D()}else R(!0)},O=()=>{m&&(0,Zt.MJ)((0,Ln.LV)(m),{openTarget:"_blank"})},L=(0,a.useMemo)((()=>{const e=S&&v?S+v:t("unSubscribeTips");return M?T?E||t("notifyTips"):a.createElement("span",{className:Vg().unSubscribeTips,onClick:D,role:"button",tabIndex:0},e,a.createElement(Ra.hu,{direction:Ra.bs.RIGHT,className:Vg().rightArrow})):w?.textRich?.length?a.createElement(Va.l5,{className:Vg().detailRichContent,newRichText:w}):_||t("checkOutSimilar")}),[M,T]);return(0,a.useEffect)((()=>{(0,A.A)("SoldOutPageComp",{fields:{has_snapshot:+(!!i?.showSnapshotEntry&&!!m),has_goods:+!ua()(n),status:n?.status?n.status:0}})}),[]),i?.showSnapshotEntry&&m?a.createElement("div",{className:o()(Vg().wrap,M&&Vg().subscribe,r?.length&&Vg().crumbMargin)},a.createElement("div",{className:o()(Vg().image,{[Vg().goodsImage]:k})},a.createElement(On.A,{src:k||jg,resizeWidth:180,alt:""})),M?a.createElement(a.Fragment,null,a.createElement(kn.Rp,{page_el_sn:201408},a.createElement("div",{className:o()(Vg().text,Vg().clickable),onClick:O,role:"button",tabIndex:0},y||`${t("soldOut")} ${t("viewMoreDetails")}`,a.createElement(Ra.hu,{className:Vg().arrow}))),a.createElement("div",{className:Vg().subText},L),a.createElement(kn.Rp,{page_el_sn:203050,others:{subscribe_type:T?0:1}},a.createElement(Os.A,{className:o()(Vg().subscribeBtn),type:C?"border":"main",onClick:B},T?a.createElement(a.Fragment,null,a.createElement(Ra.J2,{className:Vg().notifyIcon}),b||t("notify")):I||t("unsubscribe")))):a.createElement(a.Fragment,null,a.createElement("div",{className:Vg().text},y||t("soldOut")),a.createElement(kn.Rp,{page_el_sn:201408},a.createElement("div",{className:o()(Vg().subText,Vg().clickable),onClick:O,role:"button",tabIndex:0},w?.textRich?.length?a.createElement(Va.l5,{newRichText:w,className:Vg().detailRichContent}):a.createElement(a.Fragment,null,_||t("viewMoreDetails"),a.createElement(Ra.hu,{className:Vg().arrow})))))):a.createElement("div",{className:o()(Vg().wrap,M&&Vg().subscribe,r?.length&&Vg().crumbMargin)},a.createElement("div",{className:o()(Vg().image,{[Vg().goodsImage]:k})},a.createElement(On.A,{src:k||jg,resizeWidth:180,alt:""})),a.createElement("div",{className:Vg().text},y||t("soldOut")),a.createElement("div",{className:Vg().subText},L),M?a.createElement(kn.Rp,{page_el_sn:203050,others:{subscribe_type:T?0:1}},a.createElement(Os.A,{className:o()(Vg().subscribeBtn),type:C?"border":"main",onClick:B},T?a.createElement(a.Fragment,null,a.createElement(Ra.J2,{className:Vg().notifyIcon}),b||t("notify")):I||t("unsubscribe"))):null)})),Kg=n(70535),$g=n.n(Kg);var Jg=(0,Xt.A)((0,In.W4)({name:"AgeConfirmationPage"}),i.PA)((()=>{const e=(0,N.Pj)(),{addOrderInfoStore:t,isNormalStatus:n,isSEOSoldOut:r,goods:i,triggerGlobalResize:s,webLayoutData:l,moduleMap:c,$axiosHttp:u}=e,{popup:d}=c?.ageConfirmationPopupModule?.data||{},m=(0,a.useRef)(null),p=(0,a.useMemo)((()=>({enableSidebarLayout:!t?.order?.allowPurchase,enableFullSidebar:!0})),[t?.order?.allowPurchase]),h=(0,a.useRef)(S.f.None),f=(0,a.useMemo)((()=>({getContentType:e=>{const t=e?.sidebarWidth;return t!==h.current&&(h.current=t,Promise.resolve().then((()=>{s(),m.current&&(t===S.f.Double?m.current.className=o()($g().wrap,"doubleSideCart"):m.current.className=$g().wrap)}))),t>0}})),[]),y=(0,a.useMemo)((()=>!(!l?.headerData?.cartNum||(0,S.N)(l.headerData.cartNum)!==S.f.Double)),[l?.headerData?.cartNum]);return(0,a.useEffect)((()=>{if(d)if(d?.popupData?.isLogin){(0,A.A)("ShowPassAgeVerifyPopup",{fields:{e:JSON.stringify({data:d})}});const e=()=>{(0,Zt.Qw)(location.href)},t=()=>{(0,Zt.Qw)("/")};(0,jn.dW)({data:d,successCb:e,failCb:t})}else{(0,A.A)("AgeVerifyPopupToLogin");const e=()=>{(0,Zt.Qw)("/")},t=()=>{(0,Zt.Qw)(location.href)},n=(0,sa.Ri)("region");(0,vn.A)(a.createElement(Wt.Ay,{modalVisible:!0,axiosHttp:u,onCloseClick:e,regionId:n,loginScene:220,onSuccess:t}),{})}else(0,A.A)("AgeConfirmationPageDataError")}),[d]),a.createElement(v.y.Provider,{value:p},a.createElement(Na,{enableScale:!0,enableScaleTo768:!0,allInCenterLayout:f,pageSn:xn.LM},a.createElement(la,null),n||r?a.createElement(a.Fragment,null,a.createElement("div",{className:o()($g().wrap,y&&"doubleSideCart"),ref:m,style:{marginTop:43}},a.createElement(I.H1,{"aria-label":i?.goodsName,className:$g().goodsName},i?.goodsName),a.createElement("div",{className:$g().left,id:"leftContent"},a.createElement(Ug,null),a.createElement(g.zj,null)))):a.createElement(a.Fragment,null,a.createElement(qg,null),a.createElement(g.zj,null))))})),Yg=n(14840),Qg=n(9570),Xg=n(87126),Zg=n.n(Xg);const eh={[Xn.IMAGE]:227626,[Xn.VIDEO]:237941,[Xn.PDF]:224256},th=e=>{let{curIndex:t,list:n}=e;const[r,i]=(0,a.useState)(!1),s=(0,a.useRef)();return(0,a.useEffect)((()=>{i(!0),clearTimeout(s.current),s.current=setTimeout((()=>{i(!1)}),3e3)}),[t]),a.createElement("div",{className:o()(Zg().pageInfo,{[Zg().showPageInfo]:r})},a.createElement("div",null,t+1,"/",n?.length))},nh=e=>{let{store:t}=e;const{webpEnable:n,isSkc:r,$service:o,goodsId:i,query:s,moduleMap:l}=t,{instruction:c}=l?.productDetailExtensionModule?.data||{},{manualTitle:u,guideFile:d,imgInstruction:m}=c||{},{desc:p}=m||d||{},g=(0,Oa.A)((async()=>{const{imgList:e}=await o.queryGuideFileImg({goods_id:i});if(!e?.length)return;const t=(0,vn.A)(a.createElement(Qg.A,{webpEnable:n,isSkc:r,index:0,galleryCls:Zg().imgItem,renderFooter:th,list:e,onClose:()=>{t?.()}}),{});(0,A.A)("ProductGuidesPopup")}));(0,a.useEffect)((()=>{const{auto_show_popup:e}=s||{};e===xn.vs.PRODUCT_GUIDES&&p&&u&&g()}),[]);return{onClick:e=>{e.type!==Xn.IMAGE?(e=>{e&&(0,Zt.MJ)(e,{openTarget:"_blank"})})(e?.url):g()}}},ah=(0,i.PA)((function(){const{webpEnable:e,isSkc:t,$service:n,goodsId:r,query:o,moduleMap:i}=(0,N.Pj)(),{t:s}=(0,p.B)("goods"),{instruction:l}=i?.productDetailExtensionModule?.data||{},{manualNote:c,manualTitle:u,videoInstruction:d,guideFile:m,imgInstruction:g}=l||{},{desc:h}=g||m||{},f=(0,a.useMemo)((()=>{const e=[];return g?.desc?e.push({...g,type:Xn.IMAGE}):m?.desc&&e.push({...m,type:Xn.PDF}),d?.desc&&e.push({...d,type:Xn.VIDEO}),e}),[d,g,m]),y=(0,Oa.A)((async()=>{const{imgList:o}=await n.queryGuideFileImg({goods_id:r});if(!o?.length)return;const i=(0,vn.A)(a.createElement(Qg.A,{webpEnable:e,isSkc:t,index:0,galleryCls:Zg().imgItem,renderFooter:th,list:o,onClose:()=>{i?.()}}),{});(0,A.A)("ProductGuidesPopup")}));if((0,a.useEffect)((()=>{const{auto_show_popup:e}=o||{};e===xn.vs.PRODUCT_GUIDES&&h&&u&&y()}),[]),!u||!f?.length)return null;const _=e=>{e.type!==Xn.IMAGE?(e=>{e&&(0,Zt.MJ)(e,{openTarget:"_blank"})})(e?.url):y()};return a.createElement(kn.Rp,{page_el_sn:224256},a.createElement("div",{className:Zg().wrap},a.createElement("div",{className:Zg().title,"aria-label":u},u),a.createElement("div",{className:Zg().content},f.map(((e,t)=>a.createElement(kn.Rp,{page_el_sn:eh[e.type]},a.createElement("div",{className:Zg().desc,onClick:()=>_(e),key:t,"aria-label":e.desc,tabIndex:0,role:"button"},a.createElement("span",{className:Zg().name},a.createElement(On.A,{src:e.iconUrl,resizeWidth:100,className:Zg().icon,alt:""}),a.createElement("div",{className:Zg().nameContent},e.desc)),a.createElement("span",{className:Zg().right},s("guide_file.review"),a.createElement(Ra.hu,{direction:Ra.bs.RIGHT,className:Zg().rightArrow,"aria-hidden":!0}))))))),c?a.createElement("div",{className:Zg().note,"aria-label":c},a.createElement(On.A,{resizeWidth:100,className:Zg().noteIcon,alt:"",src:"https://aimg.kwcdn.com/upload_aimg/pho/6fddd410-4a3b-46e2-9091-f3d69332a893.png.slim.png","aria-hidden":!0}),a.createElement("span",{className:Zg().noteText},c)):null))})),rh=(0,i.PA)((function(){const{guideFile:e,webpEnable:t,isSkc:n,imgInstruction:r,$service:i,goodsId:s,query:l}=(0,N.Pj)(),{t:c}=(0,p.B)("goods"),{name:u,title:d,url:m}=r||e||{},g=(0,Oa.A)((async()=>{const{imgList:e}=await i.queryGuideFileImg({goods_id:s});if(!e?.length)return;const r=(0,vn.A)(a.createElement(Qg.A,{webpEnable:t,isSkc:n,index:0,galleryCls:Zg().imgItem,renderFooter:th,list:e,onClose:()=>{r?.()}}),{});(0,A.A)("ProductGuidesPopup")}));if((0,a.useEffect)((()=>{const{auto_show_popup:e}=l||{};e===xn.vs.PRODUCT_GUIDES&&u&&d&&g()}),[]),!u||!d)return null;return a.createElement(kn.Rp,{page_el_sn:224256},a.createElement("div",{className:Zg().wrap},a.createElement("div",{className:Zg().title},d),a.createElement("p",{className:o()(Zg().desc,Zg().descTop),onClick:()=>{r?g():m&&(0,Zt.MJ)(m,{openTarget:"_blank"})}},a.createElement("span",{className:Zg().name},a.createElement(Yg.A,{className:Zg().pdfIcon}),u),a.createElement("span",{className:Zg().right},c("guide_file.review"),a.createElement(Ra.hu,{direction:Ra.bs.RIGHT,className:Zg().rightArrow,"aria-hidden":!0})))))}));var oh=(0,Xt.A)((0,In.W4)({name:"ProductGuides"}),i.PA)((function(){const{moduleMap:e}=(0,N.Pj)(),{instruction:t}=e?.productDetailExtensionModule?.data||{};return t?a.createElement(ah,null):a.createElement(rh,null)})),ih=n(71400),sh=n.n(ih);var lh=(0,In.W4)({name:"AssemblyGuide"})((()=>{const e=(0,N.Pj)(),{moduleMap:t}=e,{instruction:n}=t?.productDetailExtensionModule?.data||{},{manualNote:r,manualTitle:o,videoInstruction:i,guideFile:s,imgInstruction:l}=n||{},c=(0,a.useMemo)((()=>{const e=[];return l?.desc?e.push({...l,type:Xn.IMAGE}):s?.desc&&e.push({...s,type:Xn.PDF}),i?.desc&&e.push({...i,type:Xn.VIDEO}),e}),[i,l,s]),{onClick:u}=nh({store:e});return a.createElement("div",{className:sh().wrap},a.createElement("div",{className:sh().title},a.createElement("div",{className:sh().titleText},o),r?a.createElement(an.d,null,a.createElement(_r.A,{arrowClassName:sh().explainArrow,placement:"bottomLeft",trigger:["hover"],overlay:a.createElement("div",{className:sh().explain},r)},a.createElement(fr.A,{className:sh().explainIcon}))):null),a.createElement("div",{className:sh().list},c.map(((e,t)=>{const{desc:n,iconUrl:r}=e||{};return a.createElement(a.Fragment,null,a.createElement("div",{key:t,className:sh().item,onClick:()=>u(e),role:"button",tabIndex:0},a.createElement("div",{className:sh().itemLeft},r?a.createElement(Nn.Ay,{className:sh().itemIcon,src:r,alt:""}):null,a.createElement("div",{className:sh().itemLeftText},n)),a.createElement(an.d,null,a.createElement(wn.A,{className:sh().arrow}))))}))))})),ch=n(56020),uh=n(89919),dh=n.n(uh);let mh;async function ph(){return mh||(mh=n.e(9161).then(n.bind(n,49983)).then((e=>{let{default:t}=e;return t})).catch((()=>null)),mh)}var gh=(0,Xt.A)((0,In.W4)({name:"CompatibleVehicles"}),i.PA)((()=>{const{t:e}=(0,p.B)("goods"),t=(0,N.Pj)(),{moduleMap:n}=t,{data:r}=n?.productDetailExtensionModule||{},{relationName:o}=r?.carPropertyRelationId?.relationIdAndName||{},i=(0,Sc.A)((async()=>{const{compatibleVehiclesStore:n}=t,{queryGoodsExtend:r,initParams:o}=n;o();const[i,s]=await Promise.all([r(),ph()]);if(i&&s){const e=(0,vn.A)(a.createElement(s,{onClose:()=>e(),store:t}),{})}else Fa.A.error(e("goodsDetail.noNetwork")),(0,A.A)("show CompatibleVehiclesPopup fail")}));return o?a.createElement(kn.nU,{page_el_sn:237404},a.createElement("div",{className:dh().wrap},a.createElement("div",{className:dh().relationItem,onClick:()=>i(),tabIndex:0,role:"button","aria-label":o},a.createElement("span",{className:dh().relationName},o),a.createElement(wn.A,{className:dh().relationIcon,alt:""})))):null})),hh=n(84408),fh=n.n(hh);var yh=(0,In.W4)({name:"Compatibility"})((0,i.PA)((e=>{let{isSingle:t}=e;const n=(0,N.Pj)(),{moduleMap:r,compatibleVehiclesStore:o}=n,{carPropertyRelationId:i}=r?.productDetailExtensionModule?.data||{},{carPropertyIcon:s,carPropertyTitle:l,carPropertyDesc:c}=i||{},{t:u}=(0,p.B)("goods"),d=(0,Oa.A)((async()=>{const{queryGoodsExtend:e,initParams:t}=o;t();const[r,i]=await Promise.all([e(),ph()]);if(r&&i){const e=(0,vn.A)(a.createElement(i,{onClose:()=>e(),store:n}),{})}else Fa.A.error(u("goodsDetail.noNetwork")),(0,ch.A)("show CompatibleVehiclesPopup fail")}));return a.createElement("div",{className:fh().wrap},a.createElement("div",{className:fh().title},l),a.createElement("div",{className:fh().list},a.createElement("div",{className:fh().item,onClick:d,role:"button",tabIndex:0},a.createElement("div",{className:fh().itemLeft},s?a.createElement(On.A,{className:fh().itemIcon,src:s,alt:""}):null,a.createElement("div",{className:fh().itemLeftText},c)),a.createElement("span",{className:fh().itemRight},t?a.createElement("span",{className:fh().view},u("goodsDetail.view")):null,a.createElement(wn.A,{className:fh().arrow})))))}))),_h=n(32941),Eh=n.n(_h);var bh=(0,In.W4)({name:"AssemblyGuideAndCompatibility"})((0,a.memo)((0,i.PA)((()=>{const{moduleMap:e}=(0,N.Pj)(),{instruction:t,carPropertyRelationId:n}=e?.productDetailExtensionModule?.data||{},r=(0,a.useMemo)((()=>{const e=[];return t&&e.push(lh),n?.carPropertyTitle&&e.push(yh),e}),[]),o=1===r?.length;return r?.length?a.createElement("div",{className:Eh().wrap},r.map((e=>a.createElement("div",{className:Eh().item},a.createElement(e,{isSingle:o,className:Eh().wrap}))))):null})))),Sh=n(76855),vh=n(20252),Ih=n.n(vh);const wh=e=>{const{title:t,children:n,expanded:r,onExpandChange:i}=e,[s,l]=(0,a.useState)(r);return(0,a.useEffect)((()=>{i?.()}),[s]),t&&n?a.createElement("div",{className:Ih().itemWrap},a.createElement("div",{className:Ih().itemTop,onClick:()=>l(!s),role:"button",tabIndex:0},a.createElement("div",null,a.createElement(an.d,null,a.createElement(bo.A,{className:Ih().explainIcon})),t),a.createElement(Br.A,{className:o()(Ih().arrow,{[Ih().expandedArrow]:s})})),a.createElement("div",{className:o()(Ih().itemContent,{[Ih().expandedContent]:s})},a.createElement("div",{className:Ih().itemContentPaddingTop},n))):null};var kh=(0,In.W4)({name:"CollapseProperty"})((0,i.PA)((()=>{const{goods:e,triggerGlobalResize:t,showProductWarning:n,showGoodsDetailModuleOptimized:r,updateShowContentTransition:o,showContentTransition:i}=(0,N.Pj)(),{t:s}=(0,p.B)("goods"),{complianceInformation:l,productWarning:c,complianceInstructions:u}=e||{},d=(0,a.useMemo)((()=>n&&r&&c?.tips?.filter((e=>e.moveDisplayType&&[ta.bottom,ta.bottomAndExpand].includes(e.moveDisplayType)))||[]),[n,c,r]),m=[ta.bottom,ta.bottomAndExpand].includes(u?.moveDisplayType)&&r,{tips:g}=c||{},h=(0,a.useMemo)((()=>{const e=[],{text:t,moveDisplayType:n}=u||{};if((d?.length||u?.text&&m)&&e.push({title:s("goodsDetail.notes"),content:a.createElement(a.Fragment,null,d?.length?a.createElement(Sh.A,{productWarningList:d}):null,t&&m?a.createElement("span",null,t):null),expanded:g?.some((e=>e.moveDisplayType===ta.bottomAndExpand))||n===ta.bottomAndExpand}),l){const{entrance:t,floatingLayer:n}=l||{},{text:r}=t||{},{paragraphs:o}=n||{};e.push({title:r,content:a.createElement("div",null,o?.map((e=>e.text||null))),expanded:!1})}return e}),[l,g,u,s,m,d]),f=(0,a.useRef)(),y=(0,a.useRef)(),_=(0,a.useCallback)((()=>{!i&&o(!0),clearTimeout(f.current),f.current=setTimeout((()=>{t(),clearTimeout(y.current),y.current=setTimeout((()=>{o(!1)}),110)}),110)}),[i]);return a.createElement("div",{className:Ih().wrap},h.map((e=>{const{title:t,content:n,expanded:r}=e||{};return a.createElement(wh,{title:t,expanded:r,onExpandChange:_},a.createElement("span",null,n))})))}))),Nh=n(60525),Ah=n.n(Nh),Ch=(0,Xt.A)((0,In.W4)({name:"ComplianceInformation"}),i.PA)((function(){const{t:e}=(0,p.B)("global"),{goods:t}=(0,N.Pj)(),{entrance:n,floatingLayer:r}=t?.complianceInformation||{},{text:o,iconUrl:i}=n||{};return o?a.createElement(kn.Rp,{page_el_sn:224256},a.createElement("div",{className:Ah().wrap,onClick:t=>{t.stopPropagation();const{title:n,paragraphs:o}=r||{},{text:i}=n||{};if(!o?.length)return;const s=(0,vn.A)(a.createElement(Ar.Ay,{onClick:()=>s()},a.createElement("div",{className:Ah().dialogWrap},a.createElement("div",{className:Ah().dialogTitle},i),a.createElement("div",{className:Ah().content},o?.map(((e,t)=>{const{text:n}=e||{};return n?a.createElement("div",{className:Ah().dialogItem,key:t},n):null}))),a.createElement(Ut.A,{className:Ah().confirm,onClick:()=>s()},e("OK")))),{})},role:"button","aria-label":o,tabIndex:0},i?a.createElement(On.A,{src:i,className:Ah().icon}):null,a.createElement("span",{className:Ah().title},o),a.createElement(Ra.hu,{direction:Ra.bs.RIGHT,className:Ah().rightArrow,"aria-hidden":!0}))):null})),Th=n(32878),xh=n(33590),Ph=n.n(xh);var Rh=(0,Xt.A)((0,In.W4)({name:"Crumbs"}),i.PA)((function(){const e=(0,N.Pj)(),{crumbOptList:t,goods:n,fromOrderDetail:r,query:o,addOrderInfoStore:i}=e,{isFromAddOrderPage:s,order:l}=i,{t:c}=(0,p.B)("goods"),u=l?.allowPurchase,d=()=>{let e=(0,m.rE)({parent_order_sn:o.parent_order_sn},"/bgt_payment_success.html");r&&(e=(0,m.rE)({parent_order_sn:o.parent_order_sn},"/bgt_order_detail.html")),(0,Zt.Qw)(e,{needForceWeb:!0})};if(u&&s)return a.createElement("div",{className:Ph().purchase,onClick:d},a.createElement(Ft.hu,{direction:"left",className:Ph().picArrow}),c("crumb.allowPurchase"));if(!t?.length)return a.createElement("div",{className:Ph().placeholder});let g=[];g=-100===t[0]?.optId?[...t]:[{title:c("crumb.displayHomeItemTitle"),href:"/"},...t];const h=n.goodsName||"",f=h.length>26?`${h.slice(0,26)}...`:h;return f&&g.push({title:f}),a.createElement("div",{className:Ph().crumbs},a.createElement(Th.A,{list:g,className:Ph().breadCrumb}))})),Mh=n(9455),Dh=n(53938),Bh=n(73846),Oh=n.n(Bh);var Lh=(0,In.W4)({name:"DimensionEntry"})((0,i.PA)((e=>{let{className:t}=e;const{moduleMap:n,webpEnable:r}=(0,N.Pj)(),{entrance:i,layerContents:s}=n?.productDetailExtensionModule?.data?.dimensionIllustration||{},{iconUrl:l,text:c}=i||{},u=s?.length,d=(0,a.useMemo)((()=>s?.length?s.filter((e=>e.type===Yn.img&&e.imageUrl)).map((e=>({url:e.imageUrl}))):[]),[s]);return(0,a.useEffect)((()=>{c&&(0,A.A)("DimensionEntry")}),[]),c?a.createElement(kn.nU,{page_el_sn:235715},a.createElement("div",{className:o()(Oh().wrap,u&&Oh().clickable,t),onClick:()=>{if(!u)return;const e=(0,vn.A)(a.createElement(Qg.A,{list:d,isSkc:!1,webpEnable:r,index:0,onClose:()=>e?.()}),{})},role:"button",tabIndex:0},l?a.createElement(On.A,{src:l,className:Oh().icon,alt:""}):null,c,u?a.createElement(wn.A,{className:Oh().arrow,alt:""}):null)):null}))),Wh=n(76865),zh=n(76252),Fh=n(14414),Uh=n.n(Fh);let Gh;async function Hh(){return Gh||(Gh=n.e(2736).then(n.bind(n,48535)).then((e=>{let{default:t}=e;return t})).catch((()=>null)),Gh)}var Vh=(0,Xt.A)((0,In.W4)({name:"Certification"}),i.PA)((e=>{let{className:t}=e;const{t:n}=(0,p.B)("goods"),r=(0,N.Pj)(),{moduleMap:i}=r,{certificationProperty:s}=i?.productDetailExtensionModule?.data||{},{key:l,showEntrance:c,value:u,certTypes:d,valueRich:m}=s||{},g=(0,Sc.A)((async()=>{if(!c)return;const{$service:e,goodsId:t}=r,[o,i]=await Promise.all([e.queryCertification({cert_types:d,goods_id:t}),Hh()]),{certificationLayer:s,error:l}=o||{},{certifications:u}=s||{};if(1!==u?.length||1!==u[0]?.certFiles?.length)s&&i?(0,qn.P)({popupNode:a.createElement(i,{certificationLayer:s})}):[zh.DZ.DEFAULT_VERIFY,zh.DZ.LOGIN_VERIFY].includes(l?.errorCode)||(Fa.A.error(n("goodsDetail.noNetwork")),(0,A.A)("show CertificationPopup fail"));else{const{fileUrl:e}=u[0].certFiles[0];e?(0,Zt.MJ)(e,{openTarget:"_blank"}):(Fa.A.error(n("goodsDetail.noNetwork")),(0,A.A)("single certification not fileUrl"))}}));return s?a.createElement(kn.nU,{page_el_sn:238335},a.createElement("div",{className:o()(Uh().wrap,t)},a.createElement("div",{className:o()(Uh().certificationItem,c&&Uh().click),onClick:()=>g(),tabIndex:0,role:"button","aria-label":l},m?.textRich?.length?a.createElement("span",{className:Uh().name},l,": ",a.createElement(Va.l5,{newRichText:m,style:{textAlign:"left"},className:Uh().valueRich})):a.createElement("span",{className:Uh().name},l,": ",u),c?a.createElement(wn.A,{className:Uh().icon,alt:""}):null))):null})),jh=n(52062),qh=n.n(jh);var Kh=(0,a.memo)((0,i.PA)((function(e){let{showGoodsDetailModuleOptimized:t}=e;const{goods:n,moduleMap:r,getMallDetailInfo:o,goodsProperty:i,goodsEnhanceProperty:s}=(0,N.Pj)(),{t:l}=(0,p.B)("goods"),c=i?.length,u=!!n?.goodsPropertyPrefer?.length,d=(0,a.useMemo)((()=>t?s?.length?0:u?4:3:u?n.rows?n.rows+1:4:+n.rows||3),[t,s,n,u]),{dimensionIllustration:m,certificationProperty:g,goodsPropertyExtendText:h}=r?.productDetailExtensionModule?.data||{},{seeDetails:f,seeDetailsDimensions:y}=h||{},{entrance:_}=m||{},E=!!_?.text,b=!!g,[S,v]=(0,a.useState)(d),[I,w]=(0,a.useState)(!(c>d||t&&(E||b))),k=async()=>{const e=await o();e?.result&&(0,Wh.K)(e.result)},A=t?E?y||l("goodsDetail.descriptionMoreWithDimension"):f||l("goodsDetail.descriptionSeeAll"):l("main_detail.descriptionMore");return i.length?a.createElement(kn.Rp,{page_el_sn:214005,useClick:!1},a.createElement("div",{className:qh().wrap},a.createElement("div",{className:qh().list},i.slice(0,S).map(((e,t)=>{if(1===e.customProperty)return a.createElement(kn.Rp,{page_el_sn:214008},a.createElement("div",{key:t,className:qh().itemWithClick,onClick:k,tabIndex:0,role:"button","aria-label":`${e.key}`},e.key,a.createElement(Ft.hu,{direction:"right",className:qh().arrowRight,"aria-hidden":!0})));if(!e?.values?.length)return null;const n=e.values.join(","),{url:r,pcWidth:o,pcHeight:i}=e?.iconV2||{};return a.createElement("div",{key:t,className:qh().item,tabIndex:0,role:"button","aria-label":`${e.key}: ${n}`},e.key,":"," ",r?a.createElement(On.A,{src:r,className:qh().itemIcon,style:{width:o,height:i},"aria-hidden":!0,alt:"",resizeWidth:40}):null,n,!!e.copyable&&a.createElement(vs.A,{useButton:!0,page_el_sn:204334,className:qh().copyButton,text:n}))}))),t&&I?a.createElement(a.Fragment,null,a.createElement(Vh,{className:qh().certification}),a.createElement(Lh,{className:qh().dimensionEntry})):null,!I&&a.createElement(kn.Rp,{page_el_sn:200448},a.createElement("div",{className:qh().more,onClick:()=>{v(void 0),w(!0)},role:"button",tabIndex:0},A,a.createElement(Ft.hu,{direction:"bottom",className:qh().arrow,"aria-hidden":!0}))))):null}))),$h=n(47101),Jh=n.n($h),Yh=(0,a.memo)((function(){const{goodsEnhanceProperty:e}=(0,N.Pj)();return e.length?a.createElement(kn.Rp,{page_el_sn:214005,useClick:!1},a.createElement("div",{className:Jh().wrap},a.createElement("div",{className:Jh().list},e.map(((e,t)=>{const{values:n,enhanceIcon:r}=e||{};if(!n?.length)return null;const o=n.join(",");return a.createElement("div",{key:t,className:Jh().item,tabIndex:0,role:"button","aria-haspopup":"dialog","aria-label":`${e.key}: ${o}`},r?a.createElement(On.A,{src:r,className:Jh().itemIcon,"aria-hidden":!0,resizeWidth:120}):null,a.createElement("span",{className:Jh().itemKey},e.key),a.createElement("span",{className:Jh().itemValue},o))}))))):null})),Qh=n(37437),Xh=n.n(Qh),Zh=(0,a.memo)((0,i.PA)((function(){const{goods:e,getMallDetailInfo:t}=(0,N.Pj)(),n=(0,a.useRef)(null),{propertyList:r}=e?.extraProperty||{},o=()=>(n.current||(n.current=t()),n.current),i=e=>{1==+e?.buttons&&o()},s=(0,a.useRef)(!1),l=async()=>{if(s.current)return;s.current=!0;const e=await o();e?.result&&(0,Wh.K)(e.result),s.current=!1,n.current=null};return r?.length?a.createElement("div",{className:Xh().wrap},r.map(((e,t)=>{const{richText:n}=e||{};return n?a.createElement(Va.l5,{newRichText:n,key:t,className:Xh().textRich,onMouseDown:i,showPopup:l,showPopupWhiteList:[Ha.E.sellerInfoPop]}):null}))):null}))),ef=n(81119),tf=n.n(ef);function nf(e){let{title:t,benefits:n}=e;return n?.length?a.createElement(ja.A,{title:t,onClose:qn.L},a.createElement("div",{className:tf().popupWrap},n.map(((e,t)=>a.createElement("div",{className:tf().popupItem,key:t},a.createElement("div",{className:tf().popupTitleBlock},e.iconUrl?a.createElement(On.A,{className:tf().popupItemIcon,src:e.iconUrl,resizeWidth:100}):null,a.createElement("div",{className:tf().popupTitle},e.title)),a.createElement("div",{className:tf().popupDesc},e.desc)))))):null}function af(e){let{item:t,style:n}=e;return a.createElement("div",{className:tf().listItem,style:n},a.createElement(Za.A,{className:tf().subTitleIcon,alt:""}),a.createElement("span",{className:tf().subTitle},t.title))}var rf=(0,In.W4)({name:"RefurbishedInfo"})((0,i.PA)((()=>{const{goods:e}=(0,N.Pj)(),{title:t,benefits:n}=e?.refurbishmentInfo||{},[r,o]=(0,a.useState)(),i=(0,a.useRef)(null);(0,Ru.A)("resize",(()=>{if(i.current?.clientWidth){const{clientWidth:e}=i.current;o((e-28-24)/2)}}),Pu.z,{immediate:!0});return n?.length?a.createElement(kn.nU,{page_el_sn:237420},a.createElement("div",{className:tf().wrap,ref:i,onClick:()=>{(0,qn.P)({popupNode:a.createElement(nf,{title:t,benefits:n})})},tabIndex:0,role:"button","aria-haspopup":"dialog","aria-label":t},t?a.createElement("div",{className:tf().title},t,a.createElement(wn.A,{className:tf().titleIcon})):null,n.length>0?a.createElement("div",{className:tf().listWrap},n.map(((e,t)=>a.createElement(af,{key:t,item:e,style:{maxWidth:r}})))):null)):null}))),of=n(65913),sf=n.n(of);const lf={center:"center",left:"right",right:"left"},cf={submitReport:220316,phoneInput:229569,submitPhone:229569,supportBtn:230021,ipBtn:220317},uf=e=>{let{data:t,alt:n="",onClickImage:r,imgCls:i="",videoStatusList:s,isRefresh:l,lazyImgParams:c,processInfo:u,isRobot:d,seoImgUrlMap:g}=e;const{width:h,height:f,url:y,index:_}=t,E=f/h,{videoUrl:b,width:S,height:v}=t.video||{},I=d&&g?.[b]?g[b]:b,w=d&&g?.[y]?g[y]:y,k={width:"100%",height:"auto"};if(h&&f&&E){f/h-E>.01&&(k.width="auto",k.height="100%")}const N={width:"100%",height:"auto"};if(I&&S&&v&&E){v/S-E>.01&&(N.width="auto",N.height="100%")}const{t:A}=(0,p.B)("goods"),C=(0,a.useRef)(null),[T,x]=(0,a.useState)(!1);(0,a.useEffect)((()=>{const e=C.current,t=s.current[_];t&&(t.playing?e?(e.currentTime=t.currentTime,(0,Sr.R5)(e,!0)):(x(!0),setTimeout((()=>{const e=C.current;e&&(e.currentTime=t.currentTime,(0,Sr.R5)(e,!0))}),50)):t.currentTime>0&&(x(!0),setTimeout((()=>{const e=C.current;e&&(e.currentTime=t.currentTime,(0,Sr.R5)(e,!1))}),50)))}),[l]),(0,a.useEffect)((()=>{const e=s.current?.[_];C.current&&e&&(e.stop=()=>{const t=!C.current?.paused;(0,Sr.R5)(C.current,!1),e.playing=t},e.recover=()=>{e.playing&&(0,Sr.R5)(C.current,!0);const{paused:t,currentTime:n}=C.current||{};t&&(e.playing=!1),"number"==typeof n&&C.current&&(C.current.currentTime=n)})}),[C.current,T]);const P=(0,ug.A)();(0,a.useEffect)((()=>{const e=C.current,t=s.current[_];e&&T&&t&&(P&&t.playing?((0,Sr.R5)(e,!0),t.playing=!0):(t.playing=!e.paused,(0,Sr.R5)(e,!1)))}),[T,P]),(0,Ls.A)({ref:C,options:{threshold:.8},onEnter:()=>{const e=C.current,t=s.current?.[_];e&&T&&t.playing&&((0,Sr.R5)(e,!0),e.currentTime=t.currentTime)},onLeave:()=>{const e=C.current,t=s.current?.[_];e&&T&&t&&(t.playing=!e.paused,t.currentTime=e.currentTime,(0,Sr.R5)(C.current,!1))},deps:[T]});return a.createElement("div",{className:o()(sf().videoItem,{[sf().videoPlayed]:T}),style:{paddingBottom:100*f/h+"%"}},!T&&a.createElement(On.A,(0,q.A)({role:"img","aria-label":A("main_gallery.goodsImage"),className:o()(sf().img,i),style:k,src:w,draggable:!1,alt:n,onClick:r},u,c)),!T&&I?a.createElement("div",{className:o()(sf().videoIcon,sf().largeIcon),onClick:e=>{e.stopPropagation(),x(!0),setTimeout((()=>{(0,Sr.R5)(C.current,!0)}),50)},role:"button",tabIndex:0},a.createElement(Ra.np,{className:sf().icon})):null,T&&I?a.createElement("video",{ref:C,preload:"auto",className:sf().video,src:(0,m.VG)(I),onTimeUpdate:()=>{const e=s.current[_];e&&(e.currentTime=C?.current?.currentTime||0)},style:N,onVolumeChange:()=>{const e=C.current,t=s.current?.[_];t&&(t.muted=e?.muted)},muted:s.current?.[_]?.muted,controls:!0,controlsList:"nodownload noremoteplayback",disablePictureInPicture:!0,disableRemotePlayback:!0,"x-webkit-airplay":"deny"}):null)},df=e=>{let{items:t,list:n,showBigPicture:r,videoStatusList:o,alt:i,isRefresh:s,style:l,lazyImgParams:c,processInfo:u,isRobot:d,seoImgUrlMap:m}=e;const{t:g}=(0,p.B)("goods"),{marginBottom:h}=l||{},f=e=>{r(n,+e)};return a.createElement("div",{className:sf().imgWrap,style:{marginBottom:h}},(t||[]).map(((e,t)=>{const{video:n,index:r}=e||{},l=`${i} ${r}`;if(n)return a.createElement(uf,{data:e,isRefresh:s,alt:l,imgCls:sf().videoImg,onClickImage:()=>f(r),videoStatusList:o,processInfo:u,lazyImgParams:c,isRobot:d,seoImgUrlMap:m});if(e?.url){const n=d&&m?.[e.url]?m[e.url]:e.url;return a.createElement("div",{key:t,className:sf().imgBox,onClick:()=>f(r),"data-index":r,role:"button",tabIndex:0},a.createElement(On.A,(0,q.A)({key:n,src:n,className:sf().img,"data-index":e.index,role:"img","aria-label":g("main_gallery.goodsImage"),alt:l},u,c)))}return null})))},mf=(0,i.PA)((function(e){let{item:t,style:n}=e;const{isRTL:r}=(0,Ta.Sz)(),{paddingTop:o,paddingBottom:i,marginBottom:s,align:l,backgroundColor:c}=n||{};return a.createElement("div",{className:sf().textDetail,style:{paddingTop:o,paddingBottom:i,marginBottom:s,backgroundColor:c,textAlign:r?lf[l]:l}},t?.map(((e,t)=>{const{text:n,textFormat:r}=e||{},{fontSize:o=12,fontColor:i="#777",fontWeight:s=400}=r||{};return a.createElement("div",{key:t,style:{fontSize:o,color:i,fontWeight:s}},n)})))}));var pf=(0,In.W4)({name:"GoodsDetailV2"})((0,i.PA)((()=>{const e=(0,N.Pj)(),{isSkc:t,webpEnable:n,goods:r,productDetail:i,productDetailFlatList:s,seoDataPageAlt:l,goodsProperty:c,goodsEnhanceProperty:u,isShowReport:d,favStore:m,showProductWarning:g,isRobot:h,seoImgUrlMap:f,popLogin:y,description:_,moduleMap:E,isSEOSoldOut:b,isNormalStatus:S,showGoodsDetailModuleOptimized:v,goodsId:w}=e,{showSmallFavBtnPos:k}=m||{},{t:C}=(0,p.B)("goods"),T=(0,Dh.d)(),[x,P]=(0,a.useState)(!1),[R,M]=(0,a.useState)(!1),[D,B]=(0,a.useState)(!1),O=(0,a.useRef)(null),L=`${l||r.goodsName||""} ${C("goodsDetail.altDetails")}`,{certificationProperty:W}=E?.productDetailExtensionModule?.data||{},z=(0,a.useRef)(new Array(s?.length||0).fill(0).map((()=>({currentTime:0,playing:!1,muted:!0,recover:Sr.lQ,stop:Sr.lQ})))),{onReportClick:F,prefetchReportData:U}=(0,Mh.K)({goodsId:w,popLogin:y,logger:A.A,trackingInfo:cf});(0,Ls.A)({ref:O,options:{threshold:.8},onEnter:()=>{!D&&B(!0)},onLeave:()=>{},deps:[]}),(0,a.useEffect)((()=>{if(D&&R){const e=document.getElementById("rightContent");"absolute"===e?.style?.position&&(0,en.L)((0,en.x)()+1)}}),[R]);const G=(e,t)=>{let{videoStatusList:n}=t;n&&(z.current=n,P(!x),z.current?.forEach((e=>{e.recover?.()})))},H=(0,a.useCallback)(((e,r)=>{z.current?.forEach((e=>{e.stop?.()}));const o=(0,vn.A)(a.createElement(a.Fragment,null,a.createElement(Qg.A,{webpEnable:n,isSkc:t,list:e,index:r,videoStatusList:z.current,callback:G,onClose:()=>{o?.()}}),a.createElement(Er.A,{close:()=>o?.(),isActive:!0})),{})}),[]),V=(0,a.useMemo)((()=>i?.floorList?.length||c?.length||u?.length||g||E?.productDetailExtensionModule?.data?.dimensionIllustration?.entrance?.text||W),[i,c,_,g,E,W]);(0,a.useEffect)((()=>{!S||b||V||(0,A.A)("emptyGoodDetailV2",{fields:{imgLen:i?.floorList?.length||0,hasDetail:!(!c?.length&&!u?.length),hasNotice:!!g}})}),[]);const{productWarning:j,complianceInstructions:q}=r||{},K=g&&j?.tips?.filter((e=>!v||(!e.moveDisplayType||![ta.bottom,ta.bottomAndExpand].includes(e.moveDisplayType)))),$=[ta.bottom,ta.bottomAndExpand].includes(q?.moveDisplayType)&&v;return V?a.createElement("div",{className:o()(sf().goodsDetail)},(()=>{const e=k===oa.DETAIL;return d||e?a.createElement("div",{className:sf().titleWrap},a.createElement(I.H2,{className:sf().titleV2},C("goodsDetail.goodsDetailTitle")),a.createElement("div",{className:sf().favAndReportWrap},e?a.createElement(Jo,null):null,!!d&&!!e&&a.createElement("div",{className:sf().divider}),!!d&&a.createElement(kn.Rp,{page_el_sn:220305},a.createElement("div",{className:sf().report,onClick:F,onMouseDown:U,tabIndex:0,role:"button","aria-haspopup":"dialog","aria-label":C("report.reportItem")},a.createElement("span",{className:sf().reportItem},C("report.reportItem")),a.createElement(wn.A,{className:sf().arrow,alt:""}))))):a.createElement(I.H2,{className:sf().title},C("goodsDetail.goodsDetailTitle"))})(),r?.complianceInstructions?.text&&!$?a.createElement("div",{className:sf().complianceInstructions},r.complianceInstructions.text):null,u?.length?a.createElement(Yh,null):null,c?.length?a.createElement(Kh,{showGoodsDetailModuleOptimized:v}):null,a.createElement(Zh,null),v?null:a.createElement(a.Fragment,null,a.createElement(Vh,null),a.createElement(Lh,null)),K?a.createElement(Sh.A,{productWarningList:K}):null,v?null:a.createElement(gh,null),a.createElement(rf,null),i?.floorList?.length?a.createElement(a.Fragment,null,a.createElement("div",{className:o()(sf().container,{[sf().containerShowAllPic]:R,[sf().containerHideAllPic]:!R})},a.createElement("div",{className:sf().imgList},i?.floorList?.map(((e,t)=>{let{items:n,type:r,style:o}=e;return r===ea.text?a.createElement(mf,{item:n,key:t,style:o}):a.createElement(df,{key:t,items:n,isRefresh:x,alt:L,style:o,videoStatusList:z,list:s,showBigPicture:H,lazyImgParams:T,processInfo:h?{}:{progressWithImg:!0,progressBlurredCompressParams:xn.QH},isRobot:h,seoImgUrlMap:f})})))),a.createElement("div",{className:sf().sentinel,ref:O}),D&&!R?a.createElement("div",{className:sf().seeMoreContainer},a.createElement("div",{className:sf().seeMoreMask}),a.createElement(kn.Rp,{page_el_sn:221724},a.createElement("div",{className:sf().seeMore,role:"button",tabIndex:0,onClick:()=>{M(!0)}},a.createElement("span",null,C("main_detail.seeMore")),a.createElement(Ra._H,{className:sf().downArrow})))):null):null):null}))),gf=n(94813),hf=n(30024),ff=n(67644),yf=n(12011),_f=n.n(yf);var Ef=(0,Xt.A)((0,In.W4)({name:"DynamicMallTags"}),i.PA)((()=>{const e=(0,N.Pj)(),{moduleMallTags:t}=e,n=t?.length,r=t?.findIndex((e=>1===e.type));return n?a.createElement("div",{className:_f().wrap},a.createElement("div",{className:_f().inner},t.map(((e,t)=>{let n={};const i=1===e.type;return i&&(n={...n,borderRadius:3,background:`url('${e.textureUrl}'), linear-gradient(90deg, ${e.startColor} 0, ${e.endColor} 100%)`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"right",padding:"0 4px"}),a.createElement("div",{className:o()(_f().item,{[_f().tagItem]:i,[_f().tagItem0]:i&&0===t}),key:t,style:n},(-1===r||!i&&r!==t-1)&&a.createElement("div",{className:_f().sep}),(!!e.iconUrl||!!e.decoratedTagIconUrl)&&a.createElement(Nn.Ay,{className:_f().prefixLogo,src:e.decoratedTagIconUrl||e.iconUrl,alt:"","aria-hidden":!0}),a.createElement("div",{className:_f().content,style:{color:i?e.textColor:""}},e.text),!!e.mallTagPopup&&!!e.mallTagPopup?.iconUrl&&a.createElement(_r.A,{arrowClassName:_f().explainArrow,placement:"bottomRight",trigger:["hover"],overlay:a.createElement("div",{className:_f().explain},e.mallTagPopup.content),appendToBody:!0,adapted:!0},a.createElement(Nn.Ay,{className:_f().icon,src:e.mallTagPopup.iconUrl,alt:""})))})))):null})),bf=n(23225),Sf=n.n(bf);var vf=(0,Xt.A)((0,In.W4)({name:"TraderInformationEntrance"}),i.PA)((e=>{let{isDirect:t=!1,inside:n=!1}=e;const r=(0,N.Pj)(),{getMallDetailInfo:i,moduleMallTraderInformationEntrance:s}=r;if(!s)return null;return a.createElement("div",{className:o()(Sf().wrap,t?Sf().isDirect:"",n?Sf().inside:""),onClick:async()=>{const e=await i();e?.result&&(0,Wh.K)(e.result)},role:"button",tabIndex:0},a.createElement("span",{className:Sf().text},s),a.createElement(wn.A,{className:Sf().icon}))})),If=n(24113),wf=n.n(If);var kf=(0,Xt.A)((0,In.W4)({name:"DirectArea"}),i.PA)((()=>{const e=(0,N.Pj)(),{review:t,mall:n,mallBrandCard:r,customerServiceData:i,goodsId:s}=e,l=n?.mallData||{},{t:c}=(0,p.B)("goods"),{mallScore:u}=t?.reviewData?.mallReview||{},{supportMallChat:m}=i||{},g=1===m,{brandDetail:h,brandIntro:f,brandLogo:y,brandName:_}=r||{},{followerNumUnit:E,goodsSalesNumUnit:b,mallId:S,mallJumpUrl:v,seoUrl:I}=l,w=(0,a.useMemo)((()=>{const e=[];return E&&e.push({num:E?.[0],text:E?.[1]}),b&&e.push({num:b?.[0],text:b?.[1],others:{dir:"ltr"}}),u&&e.push({num:u,text:a.createElement(hf.A,{className:wf().star,"aria-hidden":!0}),type:"star"}),e}),[E,b,u]),[k,A]=(0,a.useState)(!1),C=!!f&&!!h?.length,T=(0,a.useMemo)((()=>(0,Ln.LV)(I||v)),[I,v]);return a.createElement(a.Fragment,null,a.createElement("div",{className:wf().directMall,onClick:()=>{T&&(0,Zt.MJ)(T)},role:"button",tabIndex:0},a.createElement("div",{className:wf().bg1}),a.createElement("div",{className:wf().bg2}),a.createElement("div",{className:wf().wrap},a.createElement("div",{className:wf().mallHeader},!!y&&a.createElement(Nn.Ay,{src:y,className:wf().brandLogo,alt:_}),a.createElement("div",{className:wf().rightArea},a.createElement("div",{className:wf().titleArea},a.createElement("span",{className:wf().mallName},_),!!g&&a.createElement(Ut.A,{type:"ghost",onClick:e=>{const t={params:{refer_page_el_sn:200973}};s&&(t.params.goods_id=s),e?.stopPropagation(),S&&(0,d.uT)({hostId:`${S}`,...t})},innerCls:wf().innerCls,className:wf().chatBtn},a.createElement("span",{className:wf().btnContainer},a.createElement(ff.A,{className:wf().messageIcon}),c("chat")))),a.createElement("div",{className:wf().detailArea},a.createElement("div",{className:wf().mallInfo},w.map(((e,t)=>{const{num:n,text:r,others:i,type:s}=e||{};return!!n&&!!r&&a.createElement("div",(0,q.A)({key:t,className:wf().mallItem,tabIndex:0,role:"link"},i),a.createElement("div",{className:wf().mallItemNum},n),a.createElement("div",{className:o()(wf().mallItemText,"star"===s?wf().starContainer:null)},r))})))))),a.createElement(Ef,null),a.createElement("div",{style:{height:C?12:18}}),!!C&&a.createElement("div",{className:wf().body,onClick:e=>{e?.stopPropagation()},role:"button",tabIndex:0},a.createElement("div",{className:wf().block},a.createElement("div",{className:o()(wf().overflowContainer,{[wf().showAuthorized]:k})},a.createElement("div",{className:wf().content},!!f&&a.createElement("div",{className:wf().blockItem},a.createElement("span",{className:wf().tag},f.subTitle),a.createElement("span",{className:wf().desc},f.text)),h?.map(((e,t)=>a.createElement("div",{className:wf().blockItem,key:t},a.createElement("span",{className:wf().tag},e?.subTitle),a.createElement("span",{className:wf().desc},e?.text)))),a.createElement("div",{className:wf().seeMore,onClick:()=>A(!0),role:"button",tabIndex:0},a.createElement(Br.A,{className:wf().seeMoreIcon})))),a.createElement(vf,{inside:!0}))))),!C&&a.createElement(vf,null))})),Nf=n(80348),Af=n.n(Nf);var Cf=(0,Xt.A)((0,In.W4)({name:"MallTags"}),i.PA)((()=>{const e=(0,N.Pj)(),{moduleMallTags:t}=e,n=t?.length,r=t?.findIndex((e=>1===e.type));return n?a.createElement("div",{className:Af().wrap},a.createElement("div",{className:Af().subWrap},t.map(((e,t)=>{let n={};const i=1===e.type;return i&&(n={...n,borderRadius:3,background:`url('${e.textureUrl}'), linear-gradient(90deg, ${e.startColor} 0, ${e.endColor} 100%)`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"right",padding:"0 4px"}),a.createElement("div",{className:o()(Af().item,{[Af().tagItem]:i,[Af().tagItem0]:i&&0===t}),key:t,style:n},(-1===r||!i&&r!==t-1)&&a.createElement("div",{className:Af().sep}),!!e.iconUrl&&a.createElement(Nn.Ay,{className:Af().prefixLogo,src:e.iconUrl,"aria-hidden":!0,alt:""}),a.createElement("div",{className:Af().content,style:{color:i?e.textColor:""}},e.text),!!e.mallTagPopup&&!!e.mallTagPopup?.iconUrl&&a.createElement(_r.A,{arrowClassName:Af().explainArrow,placement:"bottomRight",trigger:["hover"],overlay:a.createElement("div",{className:Af().explain},e.mallTagPopup.content),appendToBody:!0,adapted:!0},a.createElement(Nn.Ay,{className:Af().icon,src:e.mallTagPopup.iconUrl,alt:""})))})))):null})),Tf=n(93788),xf=n(85098),Pf=n.n(xf);var Rf=(0,Xt.A)((0,In.W4)({name:"ResponsibilityDivision"}),i.PA)((e=>{let{isDirect:t=!1}=e;const n=(0,N.Pj)(),{contents:r,entrance:i,title:s}=n?.moduleMallResponsibility||{},{t:l}=(0,p.B)("global");if((0,A.r)("mallDivision.shouldNotShowAnyMore"),!r?.length||!i||!s)return null;const c=(e,t)=>{"openChat"===t&&((0,qn.L)(),(0,d.uT)({isOfficialChat:!0,hostId:1,params:{islivechat:1}}))};return a.createElement("div",{className:o()(Pf().wrap,t?Pf().isDirect:""),onClick:()=>{(0,qn.P)({popupNode:a.createElement(ja.A,{title:s,confirmButtonLabel:l("OK"),onClose:qn.L,onConfirm:qn.L},a.createElement("div",{className:Pf().content},r.map((e=>a.createElement("div",null,(0,Tf.A)(e,{onBizSceneClick:c}))))))})},role:"button",tabIndex:0},a.createElement("span",{className:Pf().text},i),a.createElement(wn.A,{className:Pf().icon}))})),Mf=n(31312),Df=n(99272),Bf=n(51553),Of=n(40726),Lf=n.n(Of);var Wf=(0,Xt.A)((0,In.W4)({name:"ShopBtns"}),i.PA)((e=>{let{isBottomButton:t,showTip:n,onCloseTip:r,isDirectShop:i=!1}=e;const s=(0,N.Pj)(),{t:l}=(0,p.B)("goods"),{isFav:c,toggleFavorite:u,customerServiceData:m,goodsId:g}=s,h=s.mall?.mallData||{},{goodsNumV2:f,mallId:y,mallJumpUrl:_,seoUrl:E}=h,{supportMallChat:b,tips:S}=m||{},v=1===b,I=(0,a.useMemo)((()=>(0,Ln.LV)(E||_)),[E,_]),[w,k]=(0,a.useState)(!1);(0,Qo.A)((()=>{k(!0)}));return a.createElement("div",{className:o()(Lf().buttonWrap,Lf().chatNewStyle,{[Lf().threeButtons]:v,[Lf().bottomButton]:t,[Lf().directShop]:i})},a.createElement(Df.hf,null,!!v&&a.createElement("div",{className:Lf().chatBtnContainer},a.createElement(kn.nU,{page_el_sn:200973},a.createElement(Ut.A,{type:i?"ghost":"border",size:"lg",autoScale:!0,onClick:e=>{const t={params:{refer_page_el_sn:200973}};g&&(t.params.goods_id=g),e?.stopPropagation(),y&&(0,d.uT)({hostId:`${y}`,...t})},innerCls:o()(Lf().chatNewStyleInner,Lf().innerCls),className:Lf().chatBtn},a.createElement("span",{className:w?Lf().btnContainer:""},a.createElement(ff.A,{className:Lf().messageIcon}),l("Contact_provider1")))),a.createElement("div",{className:Lf().shadowButton},a.createElement(Bf.A,{overlay:S,visible:n,onCloseClick:r,outerClassName:Lf().outerClassName,innerClassName:Lf().innerClassName,className:Lf().containerClassName,placement:"bottom"},a.createElement("div",null)))),a.createElement(kn.nU,{page_el_sn:200971},a.createElement(Ut.A,{onClick:u,className:o()(Lf().button,{[Lf().fav]:c}),type:i?"ghost":"border",size:"lg",autoScale:!0,innerCls:Lf().innerCls},a.createElement("span",{className:w?Lf().btnContainer:""},c?a.createElement("span",null,l("mallInfo.Following")):a.createElement("span",null,a.createElement(Mf.A,{className:Lf().icon}),l("mallInfo.Follow"))))),a.createElement(kn.nU,{page_el_sn:200446},a.createElement(Ut.A,{className:Lf().shopAllItemsLink,type:i?"ghost":"border",size:"lg",autoScale:!0,onClick:()=>{I&&(0,Zt.MJ)(I)},innerCls:Lf().innerCls},a.createElement(Eo.N_,{seoUrl:I,url:I,className:w?Lf().btnContainer:""},f&&"0"!==f?l(v?"all_items_1":"shopAllItemsV2",{0:f,interpolation:{prefix:"{",suffix:"}"}}):l(v?"All_items":"mallInfo.shopAllItems"))))))})),zf=n(24008),Ff=n.n(zf),Uf=(0,Xt.A)((0,In.W4)({name:"MallInfo"}),i.PA)((function(){const e=(0,N.Pj)(),{t:t}=(0,p.B)("goods"),{globalResizeTrigger:n,shopRankInfo:r,gmtBaseParams:i,review:s,customerServiceData:l,brandCardData:c,mallBrandCard:u}=e,d=(0,Dh.d)(),m=e.mall?.mallData||{},{mallScore:g}=s?.reviewData?.mallReview||{},{mallLogo:h,mallName:f,mallJumpUrl:y,seoUrl:_,followerNumUnit:E,goodsSalesNumUnit:b}=m,S=(0,a.useMemo)((()=>(0,Ln.LV)(_||y)),[_,y]),v=(0,a.useRef)(null),I=(0,a.useRef)(null),w=(0,a.useRef)(null),{supportMallChat:k,maxShowTimes:A,tips:C}=l||{},T=1===k,x=()=>{S&&(0,Zt.MJ)(S)},P=(0,a.useMemo)((()=>{const e=[];return E&&e.push({num:E?.[0],text:E?.[1]}),b&&e.push({num:b?.[0],text:b?.[1],others:{dir:"ltr"}}),g&&e.push({num:g,text:a.createElement(a.Fragment,null,a.createElement("div",{className:Ff().ratingText},t("mallRating")),a.createElement("div",{className:Ff().ratingStar},a.createElement(Ra.Nu,{className:Ff().star,"aria-hidden":!0})))}),e}),[E,b,g,t]);(0,a.useEffect)((()=>{const e=(0,Sr.nF)((()=>{const e=v.current,t=I.current,n=w.current;if(!(n&&t&&e&&e.style))return;const{clientWidth:a}=n,{clientWidth:r}=t,{clientWidth:o}=e,i=r-a,s=Math.min(100,Math.max(60,o+i));e.style.width=`${s}px`,e.style.height=`${s}px`}));return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[n]);const R=(0,a.useRef)(null),[M,B]=(0,a.useState)(!1),O=(0,a.useRef)(!1),[L,W]=(0,a.useState)(!1);(0,a.useEffect)((()=>{if(C&&A>0&&T&&"1"!==c?.brandType)try{+((0,Ho.Lg)(xn.CV.chatBtnTipShowedTimes)||0)<A&&W(!0)}catch(e){(0,D.fL)(e)}}),[A,T,C,c]),(0,Ls.A)({ref:R,options:{rootMargin:"-120px",grayControl:L},onEnter:()=>{if(!O.current){O.current=!0;try{const e=+((0,Ho.Lg)(xn.CV.chatBtnTipShowedTimes)||0);e<A&&(B(!0),(0,ge.WW)({page_el_sn:237651}),setTimeout((()=>{B(!1)}),5e3),(0,Ho.ZB)(xn.CV.chatBtnTipShowedTimes,e+1))}catch(e){(0,D.fL)(e)}}},onLeave:()=>{},deps:[L]});const z=()=>{(0,ge.E0)({page_el_sn:237652}),B(!1)};return f?a.createElement(a.Fragment,null,u?.brandType!==Qn.Direct&&a.createElement("div",{className:Ff().wrap},a.createElement("div",{className:Ff().mallName},h?a.createElement(Eo.N_,{seoUrl:S,url:S,onClick:x},a.createElement("div",{className:Ff().mallImgWrapper,ref:v},a.createElement("div",{className:Ff().mallImgWrap},a.createElement(On.A,(0,q.A)({src:h,resizeWidth:300,className:Ff().mallImg,alt:f},d))))):null,a.createElement("div",{className:o()(Ff().contents,{[Ff().onlyItemCenter]:1===P?.length})},a.createElement("div",{className:Ff().contentTop},a.createElement("div",{className:Ff().title,onClick:x,role:"button",tabIndex:0},a.createElement("div",{className:Ff().titleText,tabIndex:0,role:"link","aria-label":f}," ",f," "),1===P?.length&&a.createElement("div",{className:Ff().items},a.createElement("div",{className:o()(Ff().itemNum,Ff().onlyNum)},P?.[0]?.num),a.createElement("div",{className:Ff().itemText},P?.[0]?.text))),a.createElement("div",{className:o()(Ff().info,{[Ff().onlyOneItem]:1===P?.length}),ref:I},P?.length>1?(F=w,a.createElement("div",{className:Ff().shopInfoNums,ref:F},P.map(((e,t)=>{const{num:n,text:r,others:i}=e||{};return!!n&&!!r&&a.createElement("div",(0,q.A)({key:t,className:o()(Ff().followers,Ff()[`msgLength${P.length}`]),tabIndex:0,role:"link","aria-label":`${n} ${r}`},i),a.createElement("div",{className:Ff().followersNum,"aria-hidden":!0}," ",n),a.createElement("div",{className:Ff().followersText,"aria-hidden":!0}," ",r," "))})))):null)),a.createElement(Wf,{showTip:M,onCloseTip:z}))),r?a.createElement(gf.A,{data:r,page_el_sn:214378,cate2_id:i.item_category2,type:"goods",style:{justifyContent:"space-between",margin:"10px 0 -12px"}}):null,a.createElement("div",{className:Ff().bottomButtonWrap},a.createElement(Wf,{isBottomButton:!0,showTip:M,onCloseTip:z})),a.createElement("div",{ref:R}),a.createElement(Cf,null),a.createElement(vf,null),a.createElement(Rf,null)),u?.brandType===Qn.Direct&&a.createElement(kf,null)):null;var F})),Gf=n(33823),Hf=n(29322),Vf=n(8139),jf=n.n(Vf);const qf=e=>{let{goodsInfo:t,cartScene:n}=e;const{goodsName:r,goodsId:i,seoLink:s,isMajor:l,thisItemTitle:c,imageUrl:u,pageAlt:d}=t||{},m=(0,Dh.d)(),p=(0,a.useCallback)((e=>{e||s&&((0,ei.N)(u),(0,Zt.MJ)(s,{openTarget:"_blank"}))}),[s]);return a.createElement(kn.Rp,{page_el_sn:202552,others:{goods_id:i}},a.createElement("div",{className:o()(jf().goodsItem,l?jf().majorItem:""),onClick:()=>p(l),role:"button",tabIndex:0},a.createElement("div",{className:jf().imgWrap},u?a.createElement(On.A,(0,q.A)({alt:d||r,src:u,className:jf().goodsImg,resizeWidth:xn.nG},m)):a.createElement("div",{className:jf().noImgContainer}),l?a.createElement("div",{className:jf().add},a.createElement(Ft.ib,{path:"M512 106.7c32.4 0 59.2 24.1 63.4 55.3l0.6 8.7 0 277.3 277.3 0c35.3 0 64 28.7 64 64 0 32.4-24.1 59.2-55.3 63.4l-8.7 0.6-277.3 0 0 277.3c0 35.3-28.7 64-64 64-32.4 0-59.2-24.1-63.4-55.3l-0.6-8.7 0-277.3-277.3 0c-35.3 0-64-28.7-64-64 0-32.4 24.1-59.2 55.3-63.4l8.7-0.6 277.3 0 0-277.3c0-35.3 28.7-64 64-64z",width:"22px",height:"22px","aria-hidden":!0})):null),a.createElement("div",{className:jf().goodsName,title:r},r),l?a.createElement("div",{className:o()(jf().goodsInfo)},a.createElement("div",{className:jf().thisItemTitle},c)):a.createElement(Hf.A,{pageSn:xn.LM,skuParams:{_oak_page_source:407},goodsInfo:t,cartScene:n})))},Kf=()=>{const{matchingOutfits:e}=(0,N.Pj)(),{matchingGoods:t=[],thisItemGoods:n={},thisItemTitle:r,outfitModuleTitle:o}=e||{},i=(0,a.useMemo)((()=>[{...n,thisItemTitle:r,isMajor:!0},...t]),[t,n,r]);return(0,A.r)("MatchingOutfits"),a.createElement("div",{className:jf().wrap},a.createElement("div",{className:jf().title},o),a.createElement("div",{className:jf().content},a.createElement(Gf.D,{list:i,renderItem:(e,t)=>a.createElement(qf,{goodsInfo:e,key:t,cartScene:xn.xi.MatchingOutfits}),metricType:"px",control:{forceMetricType:!0,verifyLastByOffset:!0},arrowCls:jf().arrow})))};var $f=(0,In.W4)({name:"MatchingOutfits"})((0,a.memo)(Kf)),Jf=n(60106),Yf=n(41860),Qf=n.n(Yf);var Xf=(0,Xt.A)((0,In.W4)({name:"ModelTry"}),i.PA)((()=>{const e=(0,N.Pj)(),{modelTryOn:t,goodsId:n,updateModelTryOn:r,showSizePopupParams:o}=e,i=(0,a.useRef)(),{perfetchSizePopupData:s,renderSizePopup:l}=(0,cp.$h)();if(!t?.avatar)return null;const c=(0,Xo.s)((()=>{l({source:cp.Je.Guide,goodsId:n,onChangeUnit:r,...o},(()=>{(0,A.A)("SizeGuidePopup",{fields:{data:JSON.stringify({is_auto_show:0,from:"ModelTry"})}})}))}),200);return a.createElement(kn.nU,{page_el_sn:201366},a.createElement("div",{className:Qf().wrap},a.createElement("div",{className:Qf().content,onClick:c,onMouseDown:()=>{s({goodsId:n,...o},(()=>{i.current?.end?.({name:"pc_goods_sizePopupContentShowTime"})}))},role:"button",tabIndex:0},a.createElement(Jf.A,(0,q.A)({},t,{sizeDescCls:Qf().sizeDesc,itemCls:Qf().item,bodyDescCls:Qf().bodyDesc})))))})),Zf=n(53579);const ey=e=>{let{url:t,compressParams:n}=e;if(!t||!/^(https?:)?\/\/[^/?#]+?\.(kwcdn)\.com/.test(t))return null;const r=n?(0,Zf.Bp)(t,n):t;return a.createElement("link",{rel:"preload",href:r,as:"image",fetchpriority:"high"})};var ty=e=>{let{url:t,isSupportWebp:n,needBig:r=!0,needSmall:o=!0}=e;return t&&(r||o)?a.createElement(a.Fragment,null,!!r&&a.createElement(ey,{url:t,compressParams:{...xn.be,webpEnable:n}}),!!o&&a.createElement(ey,{url:t,compressParams:{...xn.QH,webpEnable:n}})):null};const ny={};function ay(e){const{__req:t,isSupportWebp:n,store:r}=e||{};if(!function(e){const{__res:t,isCSR:n}=e||{};return!n&&!t.__seo__redirect__tag&&t.headersSent&&!t.finished}(e))return;const{preloadFirstImgList:o,webLayoutData:i}=r||{},s=o?.slice(0,xn.au)||[],l=i?.preloadImage||[];if(!o?.length)return null;const c=a.createElement(a.Fragment,null,s?.map(((e,r)=>{const o=t.$preloadedImg?.includes(e);if(0===r){const{top_gallery_url:r}=t.query;return(Array.isArray(r)?r[0]:r)?null:a.createElement(ty,{url:e,isSupportWebp:n,needSmall:!o})}return o?null:a.createElement(ty,{url:e,isSupportWebp:n,needBig:!1})})),l?.map((e=>{let{url:t,compressParams:r}=e;return a.createElement(ey,{url:t,compressParams:{...r,webpEnable:n}})})));!function(e,t,n){const{__req:a,__res:r}=e||{};a.$preloadedImg=a.$preloadedImg?.length?a.$preloadedImg:[],r.write(ny.renderToStaticMarkup(t)),a.$preloadedImg.push(...n)}(e,c,[])}var ry=n(19918),oy=n.n(ry);const iy=()=>a.createElement("div",{className:oy().titlePlaceHolder});var sy=(0,Xt.A)((0,In.W4)({name:"Recommend"}),i.PA)((function(e){let{isSoldout:t}=e;const n=(0,N.Pj)(),{recomendHasMore:r,loadRecommendData:i,recommendGoodsList:s,recomendTitle:l,recomendLoaded:c,webpEnable:u,grayConfig:d,pageSize:m,userAgent:g,addOrderInfoStore:h}=n,{afterAddToOrder:f}=h,{t:y}=(0,p.B)("goods");(0,a.useEffect)((()=>{(0,A.A)("LoadRecommendStart",{fields:{data:JSON.stringify({sold_out:t?1:0})}}),i(t)}),[]),(0,a.useEffect)((()=>{if(c){const e={sold_out:t?1:0,length:s?.length||0};(0,A.A)("LoadRecommendEnd",{fields:{data:JSON.stringify(e)}})}}),[c,s]);const _=y(t?"recommend.isSoldoutTitle":"recommend.recommendTitle");return c&&!s?.length?null:a.createElement("div",{className:o()({[oy().wrap]:!t,[oy().wrap4SoldOut]:t}),id:"goodsRecommend"},a.createElement(I.H2,{className:oy().title},c?l||_:a.createElement(iy,null)),a.createElement(dn.A,{pageSn:xn.LM,pageElSn:t?200970:200444,cartScene:xn.xi.BottomRecommend,apiScene:t?xn.Oe.SOLD_OUT:xn.Oe.NORMAL,datasource:s,loadMoreData:()=>i(t),skuOptions:{afterAddToOrder:f,showAdded:!0,frontControl:{supportPersonalize:!0}},hasMore:r,autoOptimize:!1,loadMoreText:y("recommend.loadMore"),pageGoodsNum:m,skuParams:{_oak_page_source:409},rowNum:5,webpEnable:u,grayConfig:d,isBackAutoShowCategoryCard:!0,isShowSkc:!0,userAgent:g}))}));var ly=(0,Xt.A)((0,In.W4)({name:"RedirectLoginRisk"}),i.PA)((e=>{let{error:t,$axiosHttp:n,scene:r}=e;return(0,a.useEffect)((()=>{(0,pa.A)();const{status:e,errorCode:a}=t||{};a===w.D.LoginRisk&&((0,A.A)("RedirectLoginRisk",{fields:{status:e,scene:r}}),(0,s.iD)({silent:!1,loginScene:424===e?1:2,syncLogout:{activeLogout:!1,scene:0}},n))}),[]),a.createElement(g.zj,null)})),cy=n(78308),uy=n(27625),dy=n.n(uy);var my=(0,In.W4)({name:"RelatedSearches"})((0,i.PA)((()=>{const{relatedSearches:e,query:t}=(0,N.Pj)(),n=(0,Dh.d)(),{title:r,tagList:o}=e||{},{_x_ads_channel:i,_x_ads_sub_channel:s}=t||{},{containerRef:l,sliderRef:c,listStyle:u,renderPageTurner:d}=(0,cy.A)({len:o?.length,control:{verifyLastByOffset:!0}});return a.createElement("div",{className:dy().wrap},a.createElement(I.H2,{className:dy().title},r),a.createElement("div",{className:dy().list,ref:l},a.createElement("div",{className:dy().listContent,ref:c,style:u},o?.map(((e,t)=>{const{text:r,icon:o,url:l}=e||{},c=(0,m.rE)({_x_ads_channel:i,_x_ads_sub_channel:s},l);return a.createElement(kn.Rp,{page_el_sn:225584},a.createElement("div",{className:dy().item,key:t},a.createElement(Eo.N_,{url:c,seoUrl:c,index:t,onClick:()=>(e=>{e&&(0,Zt.MJ)(e,{openTarget:"_blank"})})(l),pageElSn:225584},a.createElement(Nn.Ay,(0,q.A)({src:o,className:dy().icon,alt:r},n)),a.createElement("div",{className:dy().text},r))))})))),d(dy().arrow,dy().arrow))}))),py=(n(16280),n(50453)),gy=n(10504);const hy=1,fy=2;var yy=(0,Xt.A)((0,In.W4)({name:"RiskDialog"}),i.PA)((e=>{let{error:t,scene:n}=e;const r=(0,N.Pj)(),{pageSn:o}=r;return(0,a.useEffect)((()=>{(0,pa.A)(),(async()=>{await(0,_.eY)();const{verifyAuthToken:e,errorCode:a}=t||{};if(!e||!a)return(0,D.fL)(new Error("RiskDialog data not complete"),{error_msg:JSON.stringify({error:t,scene:n})}),void(0,Zt.MJ)("/");try{(0,gy.x)(e)}catch(e){}(0,A.A)("ShowRiskDialog",{fields:{scene:n}});const r=await(0,_.Eo)({verifyAuthToken:e,verifyAuthType:a,pageSN:o});(0,A.A)(""+(r?.isSuccess?"RiskDialogClickSuccess":r?.isClose?"RiskDialogClickClose":"RiskDialogOtherFail"),{fields:{scene:n}}),r?.isSuccess||r?.isClose?(0,Zt.Qw)(location.href):function(e,t){const{reloadCount:n}=(0,m.Xe)(window.location.search);!n||+n<e?py.Ay.reload((0,m.rE)({...py.Ay.querySet,reloadCount:Number.isNaN(+n)?1:+n+1},window.location.href)):t?t():py.Ay.back()}(3,(()=>{(0,D.fL)(new Error("RiskDialog reload > 3")),(0,Zt.MJ)("/")}))})()}),[]),a.createElement(g.zj,null)})),_y=n(93546),Ey=n.n(_y);const by=e=>{const{text:t,url:n,index:r}=e,o=(0,a.useCallback)((()=>{n&&py.Ay.uniformForward(n,{openTarget:"_blank"})}),[n]);return a.createElement(kn.Rp,{page_el_sn:225586},a.createElement(Eo.N_,{className:Ey().recommendItem,url:n,seoUrl:n,onClick:o,index:r,pageElSn:225586},t))};var Sy=(0,Xt.A)((0,In.W4)({name:"SearchWord"}),i.PA)((()=>{const{t:e}=(0,p.B)("goods"),t=e("seoSearchTitle"),{seoCategories:n,isRobot:r}=(0,N.Pj)();return r&&n?.length?a.createElement("div",{className:Ey().container},a.createElement("p",{className:Ey().title},t),a.createElement("div",{className:Ey().recList},n.map(((e,t)=>a.createElement(by,(0,q.A)({},e,{key:e.text,index:t})))))):null}));const vy={goods_info_section:"goods_info_section",delivery_section:"delivery_section",trust_section:"trust_section",model_size_section:"model_size_section",evaluation_section:"evaluation_section",goods_general_view_section:"goods_general_view_section",item_review_rating_section:"item_review_rating_section",frequent_bought_together_section:"frequent_bought_together_section",matching_outfits_section:"matching_outfits_section",mall_section:"mall_section",find_similar_section:"find_similar_section",related_search_section:"related_search_section",product_detail_section:"product_detail_section",bottom_recommend_section:"bottom_recommend_section"};var Iy=n(13425),wy=n(60055),ky=(n(35639),n(44383)),Ny=n.n(ky),Ay=n(88055),Cy=n.n(Ay),Ty=n(37451),xy=n(84104),Py=n(70074),Ry=n(29863),My=n(26988),Dy=n(52793),By=n(85778),Oy=n(91828),Ly=n(59168),Wy=n(48958),zy=n(95140),Fy=n(68744),Uy=n(27427),Gy=n(26884),Hy=n(19056);const Vy="goods";let jy=[Vy,(0,mn.A)(6)].join("_");const qy=()=>(0,hi.T)((()=>localStorage.getItem(Vy))),Ky=e=>{if(e){const e=qy();e&&(jy=e)}return jy},$y="/api/poppy/v1/goods_detail";class Jy extends N.dD{queryActivityRec(e){return this.postRiskNew({url:(0,Dl.w)($y,e),params:e})}}var Yy,Qy,Xy,Zy,e_=Jy;let t_=(Yy=class extends N.zw{constructor(e){super(e),this.$activityRecService=void 0,this.listId=`activity_rec_${(0,mn.A)(6)}`,this.queryData=async()=>{const{goodsId:e}=this.$parent,{result:t}=await this.$activityRecService.queryActivityRec({scene:"goods_detail_deals_rec",listId:this.listId,mainGoodsId:e,pageSn:xn.LM,pageSize:20,offset:0,mainGoodsIds:[e],excludedKeys:["p_rec"]}),{mainTitle:n,subTitle:a,goodsList:r}=t?.data||{};this.mainTitle=n,this.goodsList=r,this.subTitle=a},(0,Iy.A)(this,"goodsList",Qy,this),(0,Iy.A)(this,"mainTitle",Xy,this),(0,Iy.A)(this,"subTitle",Zy,this),(0,Ty.Gn)(this)}initService(e){this.$activityRecService=new e_(e)}get showActivityRec(){const{query:e}=this.$parent;return"true"===e?.detailDealsRecEnable}},(0,wy.A)(Yy.prototype,"showActivityRec",[Ty.EW],Object.getOwnPropertyDescriptor(Yy.prototype,"showActivityRec"),Yy.prototype),Qy=(0,wy.A)(Yy.prototype,"goodsList",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xy=(0,wy.A)(Yy.prototype,"mainTitle",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zy=(0,wy.A)(Yy.prototype,"subTitle",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yy);var n_=n(18113);const a_="/api/oak/goods_extend/info";class r_ extends N.dD{queryGoodsExtend(e){return this.postRiskNew({url:a_,params:e})}}var o_,i_,s_,l_,c_,u_,d_,m_,p_,g_,h_,f_,y_,__,E_,b_,S_,v_=r_;let I_=(o_=class extends N.zw{constructor(e){super(e),this.$compatibleVehicles=void 0,(0,Iy.A)(this,"propertyRelation",i_,this),(0,Iy.A)(this,"dependencyRelation",s_,this),(0,Iy.A)(this,"dependencyRelationMap",l_,this),(0,Iy.A)(this,"contentData",c_,this),(0,Iy.A)(this,"baseParams",u_,this),(0,Iy.A)(this,"pageNum",d_,this),(0,Iy.A)(this,"filterText",m_,this),(0,Iy.A)(this,"currentOptionPid",p_,this),(0,Iy.A)(this,"isError",g_,this),this.pageSize=9,(0,Iy.A)(this,"updateFilterSelectCount",h_,this),(0,Iy.A)(this,"updateFilterValueChecked",f_,this),(0,Iy.A)(this,"resetAllFilterValueChecked",y_,this),(0,Iy.A)(this,"resetCurrentFilterValueChecked",__,this),(0,Iy.A)(this,"initParams",E_,this),(0,Iy.A)(this,"queryGoodsExtend",b_,this),(0,Iy.A)(this,"filterAction",S_,this),(0,Ty.Gn)(this)}initService(e){this.$compatibleVehicles=new v_(e)}},i_=(0,wy.A)(o_.prototype,"propertyRelation",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),s_=(0,wy.A)(o_.prototype,"dependencyRelation",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l_=(0,wy.A)(o_.prototype,"dependencyRelationMap",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),c_=(0,wy.A)(o_.prototype,"contentData",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u_=(0,wy.A)(o_.prototype,"baseParams",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),d_=(0,wy.A)(o_.prototype,"pageNum",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),m_=(0,wy.A)(o_.prototype,"filterText",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),p_=(0,wy.A)(o_.prototype,"currentOptionPid",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g_=(0,wy.A)(o_.prototype,"isError",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h_=(0,wy.A)(o_.prototype,"updateFilterSelectCount",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{Object.keys(this.dependencyRelationMap).forEach((e=>{const{valueSelectMap:t}=this.dependencyRelationMap[e];this.dependencyRelationMap[e].valueSelectCount=(0,n_.IT)(t)}))}}}),f_=(0,wy.A)(o_.prototype,"updateFilterValueChecked",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(0,Sc.A)((async(e,t)=>{const n=this.dependencyRelationMap[e],{valueSelectMap:a}=n;this.dependencyRelationMap={...this.dependencyRelationMap,[e]:{...n,valueSelectMap:{...a,[t]:!a[t]}}},this.updateFilterSelectCount(),this.currentOptionPid=e,await this.filterAction(1)}))}}),y_=(0,wy.A)(o_.prototype,"resetAllFilterValueChecked",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(0,Sc.A)((async()=>{Object.keys(this.dependencyRelationMap).forEach((e=>{const{valueSelectMap:t}=this.dependencyRelationMap[e];Object.keys(t).forEach((e=>{t[e]=!1}))})),await this.filterAction(1)}))}}),__=(0,wy.A)(o_.prototype,"resetCurrentFilterValueChecked",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(0,Sc.A)((async e=>{const{valueSelectMap:t}=this.dependencyRelationMap[e];Object.keys(t).forEach((e=>{t[e]=!1})),await this.filterAction(1)}))}}),E_=(0,wy.A)(o_.prototype,"initParams",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.pageNum=1,this.baseParams={page_num:this.pageNum,page_size:this.pageSize,need_car_property_relation:1}}}}),b_=(0,wy.A)(o_.prototype,"queryGoodsExtend",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(0,Sc.A)((async e=>{const t=await this.$compatibleVehicles.queryGoodsExtend({car_info:{...this.baseParams,...e},goods_id:this.$root.goods.goodsId}),{propertyRelation:n,filterText:a}=t||{};return n&&a?((0,Ty.h5)((()=>{this.filterText=a,this.propertyRelation=n,this.dependencyRelation=n?.dependencyRelation||[],this.dependencyRelationMap=(0,n_.cl)(n?.dependencyRelation)||{},this.contentData=(0,n_.$g)(n?.result,n?.dependencyRelation)||[],this.isError=!1})),t):(this.isError=!0,null)}))}}),S_=(0,wy.A)(o_.prototype,"filterAction",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{const{dependencyRelationMap:t,currentOptionPid:n,dependencyRelation:a}=this,r=await this.queryGoodsExtend({...(0,n_.Pc)({dependencyRelationMap:t,currentOptionPid:n,dependencyRelation:a}),page_num:e});return r&&(0,Ty.h5)((()=>{this.pageNum=e})),r}}}),o_);var w_;let k_=(w_=class extends N.zw{constructor(e){super(e),(0,Ty.Gn)(this)}get addCartBenefitBlack4Bottom(){const{addCartBenefitRichBlack:e,optimalSku:t}=this.$root;return e?.[t?.skuId]}get addCartBenefit4Bottom(){const{optimalSku:e,addCartBenefitRich:t}=this.$root;return t?.[e?.skuId]}get activityBottomIcon(){const{moduleMap:e}=this.$root,{activityBigIcon:t,activitySmallIcon:n}=e?.bottomButtonModule?.data||{};return{activityBigIcon:t,activitySmallIcon:n}}get buttonWithActivityStyle(){return this.$root.control?.detailSupportExperimentControl?.buttonWithActivityStyle||0}get isShowBeforeContentIcon(){return 2===this.buttonWithActivityStyle&&this.activityBottomIcon.activityBigIcon}get isShowBeforeBtnTextIcon(){return 1===this.buttonWithActivityStyle&&this.activityBottomIcon.activitySmallIcon}get clearanceMainButtonStyleData(){const{clearanceMainButtonStyle:e}=this.$root.moduleMap?.bottomButtonModule?.data||{};return e}get isShowClearanceMainButtonStyle(){const{normalColor:e,clickedColor:t}=this.clearanceMainButtonStyleData||{};return e&&t}get clearanceButtonStyle(){const{normalColor:e,clickedColor:t}=this.clearanceMainButtonStyleData||{};return{"--clearance-btn-normal":e,"--clearance-btn-clicked":t}}},(0,wy.A)(w_.prototype,"addCartBenefitBlack4Bottom",[Ty.EW],Object.getOwnPropertyDescriptor(w_.prototype,"addCartBenefitBlack4Bottom"),w_.prototype),(0,wy.A)(w_.prototype,"addCartBenefit4Bottom",[Ty.EW],Object.getOwnPropertyDescriptor(w_.prototype,"addCartBenefit4Bottom"),w_.prototype),(0,wy.A)(w_.prototype,"activityBottomIcon",[Ty.EW],Object.getOwnPropertyDescriptor(w_.prototype,"activityBottomIcon"),w_.prototype),(0,wy.A)(w_.prototype,"buttonWithActivityStyle",[Ty.EW],Object.getOwnPropertyDescriptor(w_.prototype,"buttonWithActivityStyle"),w_.prototype),(0,wy.A)(w_.prototype,"isShowBeforeContentIcon",[Ty.EW],Object.getOwnPropertyDescriptor(w_.prototype,"isShowBeforeContentIcon"),w_.prototype),(0,wy.A)(w_.prototype,"isShowBeforeBtnTextIcon",[Ty.EW],Object.getOwnPropertyDescriptor(w_.prototype,"isShowBeforeBtnTextIcon"),w_.prototype),(0,wy.A)(w_.prototype,"clearanceMainButtonStyleData",[Ty.EW],Object.getOwnPropertyDescriptor(w_.prototype,"clearanceMainButtonStyleData"),w_.prototype),(0,wy.A)(w_.prototype,"isShowClearanceMainButtonStyle",[Ty.EW],Object.getOwnPropertyDescriptor(w_.prototype,"isShowClearanceMainButtonStyle"),w_.prototype),(0,wy.A)(w_.prototype,"clearanceButtonStyle",[Ty.EW],Object.getOwnPropertyDescriptor(w_.prototype,"clearanceButtonStyle"),w_.prototype),w_);var N_=n(41660);function A_(e){const t=e.result||{},{hasMore:n}=t,a=t.data||{},{goodsList:r}=a,o={goodsList:[],hasMore:n||!1};return Array.isArray(r)&&r?.length?(o.goodsList=(0,N_.A)(r,(e=>e.goodsId),(e=>({complianceInfo:e.complianceInfo,extendFields:e.extendFields,goodsId:e.goodsId,goodsName:e.title,thumbUrl:e.thumbUrl,activityPriceStr:e.priceInfo?.priceStr||"",marketPriceStr:e.priceInfo?.marketPriceStr||"",marketPriceIcon:e.priceInfo?.marketPriceIcon||{},linkUrl:e.linkUrl,salesTipTextList:e.salesTipTextList,salesTip:e.salesTip,skuList:e.skuList||[],cartAmount:e.cartAmount,pRec:e.pRec||e.prec,specIds:e.specIds,activityType:e.activityType}))),{...e,result:o}):{...e,result:o}}const C_="/api/poppy/v1/gd_shopping_cart",T_="/api/bg/bg-uranus-api/uranus_cart/promotion_info",x_="/api/poppy/v1/goods_detail";class P_ extends N.dD{getGoodsList(e){return this.postRisk({url:(0,Dl.w)(C_,e),params:e,format:A_})}getRecGoodsList(e){return this.postRiskNew({url:(0,Dl.w)(x_,e),params:e,format:A_})}getPromotionInfo(e){return this.postRisk({url:T_,params:e})}}var R_,M_,D_,B_,O_,L_,W_,z_=P_;let F_=(R_=class extends N.zw{constructor(e){super(e),this.$addSuccessService=void 0,this.loadMoreLock=!1,this.goodsIdMap={},(0,Iy.A)(this,"offset",M_,this),(0,Iy.A)(this,"hasInit",D_,this),(0,Iy.A)(this,"goodsList",B_,this),(0,Iy.A)(this,"hasMore",O_,this),(0,Iy.A)(this,"loadMoreData",L_,this),(0,Iy.A)(this,"isFrequentlyBought",W_,this),(0,Ty.Gn)(this)}initService(e){this.$addSuccessService=new z_(e)}init(){this.offset=0,this.hasInit=!1,this.goodsList=[],this.hasMore=!0,this.loadMoreLock=!1,this.goodsIdMap={},this.isFrequentlyBought=!0}updateIsFrequentlyBought(e){this.isFrequentlyBought=!!e}},M_=(0,wy.A)(R_.prototype,"offset",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D_=(0,wy.A)(R_.prototype,"hasInit",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),B_=(0,wy.A)(R_.prototype,"goodsList",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O_=(0,wy.A)(R_.prototype,"hasMore",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),L_=(0,wy.A)(R_.prototype,"loadMoreData",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async()=>{const{offset:e,goodsList:t,goodsIdMap:n,hasMore:a,loadMoreLock:r}=this;if(r||!a)return;const{query:o,goodsId:i,pageSn:s,selectedSku:l}=this.$root,{goodsId:c}=l,u={listId:`${Ky(!!o?.is_back)}_addPopup`,pageSn:s,offset:e,pageSize:20,source:this.isFrequentlyBought?10079:10016,mrkRec:o.mrk_rec,mainGoodsIds:c||i?[c||i]:void 0,scene:"gd_shopping_cart"};this.loadMoreLock=!0;const d=await this.$addSuccessService.getGoodsList(u),m=d?.result||{},p=(m.goodsList||[]).reduce(((e,t)=>(n[t.goodsId]||(e.push(t),n[t.goodsId]=!0),e)),[]);(0,Ty.h5)((()=>{this.offset=e+20,this.goodsList=t.concat(p),this.hasMore=m.hasMore||!1,this.hasInit=!0,this.loadMoreLock=!1}))}}}),(0,wy.A)(R_.prototype,"init",[Ty.XI],Object.getOwnPropertyDescriptor(R_.prototype,"init"),R_.prototype),W_=(0,wy.A)(R_.prototype,"isFrequentlyBought",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,wy.A)(R_.prototype,"updateIsFrequentlyBought",[Ty.XI],Object.getOwnPropertyDescriptor(R_.prototype,"updateIsFrequentlyBought"),R_.prototype),R_);var U_,G_,H_,V_,j_,q_,K_,$_,J_,Y_,Q_=n(83799),X_=n(7951);class Z_ extends N.dD{queryPromotion(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.postRiskNew({url:"/api/oak/add_order/query_promotion",params:e})}}const eE=e=>{if(!e)return null;const{customizedSnapshots:t}=e?.optCustomizedInfo||{};return t?.length?{customized_snapshot_info:JSON.stringify({snapshot_list:t.map((e=>{let{customizedSnapshotId:t,customizedNum:n}=e;return{customized_snapshot_id:t,customized_num:n}}))})}:null};let tE=(U_=class extends N.zw{constructor(e){super(e),(0,Iy.A)(this,"order",G_,this),this.promotionDefaultDesc=void 0,(0,Iy.A)(this,"additionalOrderPromotion",H_,this),(0,Iy.A)(this,"orderSn",V_,this),(0,Iy.A)(this,"updateOrderSn",j_,this),this.$addOrderInfoService=void 0,this.initService=e=>{this.$addOrderInfoService=new Z_(e)},(0,Iy.A)(this,"initData",q_,this),(0,Iy.A)(this,"addOrderSkuCallback",K_,this),this.getAddToOrderSourceChannel=()=>{if(this.isGoodsAddOrderAB)return Q_.h.GOODS_AB;const{order_source_channel:e,from_order_detail:t}=this.$parent.query||{};return e||(t?Q_.h.FROM_ORDER_DETAIL:Q_.h.FROM_PAY_SUCCESS)},(0,Iy.A)(this,"onAddOrderClick",$_,this),(0,Iy.A)(this,"addOrderSuccess",J_,this),(0,Iy.A)(this,"onAddOrderSuccess",Y_,this),this.afterAddToOrder=async()=>{await(0,Bi.A)(1e3),this.addOrderSuccess=!0,this.$parent.refreshIndex(),(0,A.A)("skuPanelAddOrderSuccess")},(0,Ty.Gn)(this)}get isFromAddOrderPage(){const{add_order:e,parent_order_sn:t}=this.$parent.query;return 1===Number(e)&&t}get isAddOrderScene(){return!!this.order?.allowPurchase}get isGoodsAddOrderAB(){return this.isAddOrderScene&&!this.isFromAddOrderPage}},G_=(0,wy.A)(U_.prototype,"order",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H_=(0,wy.A)(U_.prototype,"additionalOrderPromotion",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V_=(0,wy.A)(U_.prototype,"orderSn",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),j_=(0,wy.A)(U_.prototype,"updateOrderSn",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.orderSn=e}}}),q_=(0,wy.A)(U_.prototype,"initData",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{promotionDefaultDesc:t,additionalOrderPromotion:n}=e||{};this.order=e,this.additionalOrderPromotion=n,this.promotionDefaultDesc=t,!this.orderSn&&this.$parent.isNormalStatus&&this.updateOrderSn(e?.orderSn||"")}}}),(0,wy.A)(U_.prototype,"isFromAddOrderPage",[Ty.EW],Object.getOwnPropertyDescriptor(U_.prototype,"isFromAddOrderPage"),U_.prototype),(0,wy.A)(U_.prototype,"isAddOrderScene",[Ty.EW],Object.getOwnPropertyDescriptor(U_.prototype,"isAddOrderScene"),U_.prototype),(0,wy.A)(U_.prototype,"isGoodsAddOrderAB",[Ty.EW],Object.getOwnPropertyDescriptor(U_.prototype,"isGoodsAddOrderAB"),U_.prototype),K_=(0,wy.A)(U_.prototype,"addOrderSkuCallback",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(0,Sc.A)((async e=>{const{attachedSn:t,parentOrder:n,applePayInfo:a,allowPurchase:r}=this.order||{},{shippingMethodId:o,addressSnapshotId:i,addressSnapshotSn:s,tradePaySn:l,parentOrderSn:c}=n||{},u=await(0,Di.p)();if(!u)return void Fa.A.error((0,Zo.t)("main_gallery.networkErrorMsg",{ns:"goods"}));const{addToOrder:d,FrontScene:m,getDoCreatePayHandler:p,renderAddToOrderSuccessDialog:g}=u||{},h=p({applePayInfo:a});if(!c||!r)return void Fa.A.error((0,Zo.t)("addToOrder.dataInvalid",{ns:"goods"}));const f={addressSnapshotId:i,addressSnapshotSn:s,tradePaySn:l,attachedSn:t||c,shippingMethodId:o,parentOrderSn:c||this.$parent.query.parent_order_sn},y=await(0,Lt.ON)()||{};(0,A.A)("addOrderStart"),await d({params:{pageSn:xn.LM,skuData:e,frontScene:m.Goods,sourceChannel:this.getAddToOrderSourceChannel(),preOrderInfo:f,isAddToOrder:!0,applePayInfo:a,currency:y.currency,doCreatePayHandler:h,pageFrom:"200",isShowAddToOrderProcessDialog:!0},onSuccess:t=>this.onAddOrderSuccess({...t,skuData:e,renderAddToOrderSuccessDialog:g}),options:{jumpUrlsRefine:!0},errorPayloadHandler:X_.Ay})}))}}),$_=(0,wy.A)(U_.prototype,"onAddOrderClick",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{let{skuId:t,qty:n,customizedInfoDict:a}=e;const{selectedSku:r}=this.$parent,{goodsId:o}=r||{},i={goodsNumber:n,skuId:t,goodsId:o,goods:{mallId:this.$parent.goods?.mallId,goodsId:o},skuInfo:r,extendMap:{...eE(a)}};this.addOrderSkuCallback(i)}}}),J_=(0,wy.A)(U_.prototype,"addOrderSuccess",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Y_=(0,wy.A)(U_.prototype,"onAddOrderSuccess",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{let{useDelayAuth:t,skuData:n,orderVo:a,payMethod:r,composePayVo:o,payResult:i,renderAddToOrderSuccessDialog:s}=e;const{parentOrder:l}=this.order||{},{subOrderList:c,parentOrderTime:u}=l||{};let d;const m=new Promise((e=>{d=e}));s({orderData:n,orderList:c.map((e=>({orderImg:e.thumbUrl,orderSn:e.orderSn,orderNum:e.goodsNumber}))),parentOrderSn:this.orderSn,isDelayAuth:t,payMethod:r,orderVo:a,composePayVo:o,orderTime:u||0,pageSN:xn.LM,pageFrom:"200",tradePaySn:i?.response?.tradePaySn,orderSn:i?.orderInfo?.parentOrderInfoList?.[0]?.orderSnList?.[0]||i?.orderSnList?.[0],isShowAddToOrderProcessDialog:!0,onClose:()=>{d?.()}}),await m,(0,A.A)("addOrderSuccess",{fields:{data:JSON.stringify({})}}),await(0,Bi.A)(1e3),(0,up.rr)?.(),this.addOrderSuccess=!0,this.$parent.refreshIndex()}}}),U_);var nE=n(51118),aE=n(90521);const rE=(0,n(95436).U)("WEB_LAYOUT_REFRESH_USER"),oE=e=>{const{loginScene:t,regionId:n,onClose:r,onCloseClick:o,onSuccess:i,onAddToCartCb:s,...l}=e||{},c=(0,vn.A)(a.createElement(Wt.Ay,(0,q.A)({regionId:n??(0,sa.Ri)("region"),loginScene:t,onCloseClick:()=>{r?.(),o?.(),c?.()},onSuccess:()=>{rE(),i?.(),r?.(),c?.()},onAddToCartCb:()=>{s?.(),c?.()}},l)),{})};var iE,sE;let lE=(iE=class extends N.zw{constructor(e){super(e),(0,Iy.A)(this,"buyNowCallback",sE,this),this.buyNowCallback4Normal=async(e,t)=>{const{buyNowButton:n,query:a,addedAmount:r}=this.$root,{checkoutPageLink:o}=n||{},{goodsId:i,skuId:s,goodsNumber:l,customizedInfoDict:c,clickEventData:u={}}=e||{},{customizedSnapshots:d}=c?.optCustomizedInfo||{},{extend_map:m}=a||{};if(!o)return;const p=d?.length?{customized_snapshot_info:JSON.stringify({snapshot_list:d.map((e=>{let{customizedSnapshotId:t,customizedNum:n}=e;return{customized_snapshot_id:t,customized_num:n}}))})}:null,g={destinationUrl:o,goodsList:[{skuId:s,goodsNumber:r||l||1,goodsId:i,extendMap:{...p}}]};m&&(g.checkoutExtendMap=m),(0,A.A)("BuyNowButtonClick",{fields:{data:JSON.stringify({...g,is_login:t,buy_scene:u?.buy_scene||qc.GOODS_DETAIL})}}),t?(0,aE.g0)(g,{otherQuery:{refer_page_el_sn:jc}}):oE({onSuccess:()=>{(0,aE.g0)(g,{otherQuery:{refer_page_el_sn:jc}})},loginScene:313,businessContext:{buy_now_back:JSON.stringify({goods:[{goods_id:i,sku_id:s}]})},onAddToCartCb:()=>{const e={goodsId:i,skuId:s,fromNum:r||0};return(0,A.A)("BuyNowRetainAddToCart",{fields:{data:JSON.stringify(e)}}),this.operateCart4Add(e)}})},this.operateCart4Add=e=>{const{fromNum:t}=e||{},n={pageSn:xn.LM,pageElSn:200061,clientCartScene:`${xn.xi.MainGoods}`,operateType:0===t?Sa.Add:Sa.Update,num:t+1,...e};return(0,By.A)(n,{ifForbidCleanPopup:!0})},this.prefetch=()=>{var e;this.supportQuickMerge&&(e=this.checkoutParams,hs||fs||(gs(),hs=(0,ms.tr)(e)))},(0,Ty.Gn)(this)}get checkoutParams(){const{addedAmount:e,optimalSku:t,selectedSkuSpec:n,goods:a,selectLocationId:r,goodsId:o,qty:i,selectedSku:s,query:l}=this.$root;return{pageSn:xn.LM,goodsId:o,skuId:s?.skuId||t?.skuId,goodsNumber:e||i||1,isBestSkuId:!s?.skuId,defaultSelectSpecs:n,skc:a?.skc,sizeSpecGroupId:r,extendMap:{...l?._oak_color_order?{_oak_color_order:l?._oak_color_order}:null,size_spec_group_id:r}}}get supportQuickMerge(){const{buyNowButton:e,isSupportQuickMergeByFe:t,isLogin:n}=this.$root,{supportQuickMerge:a}=e||{};return!!(t&&a&&n)}get supportQuickMerge4TimeLimitedActivity(){const{buyNowButton:e,isTimeLimitedActivitySupportQuickMerge:t}=this.$root,{supportQuickMerge:n}=e||{};return!(!n||!t)}get buyNowBenefitRich(){const{buyNowBenefitRich:e,optimalSku:t}=this.$root;return e?.[t?.skuId]}},(0,wy.A)(iE.prototype,"checkoutParams",[Ty.EW],Object.getOwnPropertyDescriptor(iE.prototype,"checkoutParams"),iE.prototype),(0,wy.A)(iE.prototype,"supportQuickMerge",[Ty.EW],Object.getOwnPropertyDescriptor(iE.prototype,"supportQuickMerge"),iE.prototype),(0,wy.A)(iE.prototype,"supportQuickMerge4TimeLimitedActivity",[Ty.EW],Object.getOwnPropertyDescriptor(iE.prototype,"supportQuickMerge4TimeLimitedActivity"),iE.prototype),sE=(0,wy.A)(iE.prototype,"buyNowCallback",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(0,Sc.A)((async e=>{const{selectedSku:t,$axiosHttp:n,addedAmount:r,setCurrentSpecIdSelect:o,setQty:i,setIfTriggerShaking:s,skuShow:l}=this.$root,{goodsId:c,skuId:u,clickEventData:d={},skuParams:m}=e||{};(0,ge.OS)({op:"click",sku_id:u,goods_id:c,page_el_sn:jc,buy_scene:qc.GOODS_DETAIL,added_number:r||-1,...d});const p=await(0,nE.i)(n);if(!this.supportQuickMerge||!p)return this.buyNowCallback4Normal(e,p);{(0,A.A)("ShowOrderCheckoutPop",{fields:{data:JSON.stringify(this.checkoutParams)}});const n=await(async e=>{if(fs)return;fs=!0;const t=setTimeout(us.x,300),[n,r]=await Promise.all([_s(e),gs()]);if(clearTimeout(t),(0,Vn.jD)(),!r||!n||n.isError){fs=!1,(0,cs.A)({event:"showCheckoutPop network error",data:JSON.stringify({jsError:!r,apiError:n?.isError})});const{showDefaultErrorToast:t=!0}=e;return t&&(0,ds.A)(Zo.Ay.t("networkErrorHint",{ns:"bec-fe.web-order-checkout"})),{errorType:Es.ErrorNetwork}}if((n?.notSupportActionType||0)>0)return fs=!1,(0,cs.A)({event:"showCheckoutPop notSupport"}),{errorType:Es.NotSupport};const o=a.createRef();let i=()=>{};i=(0,vn.A)(a.createElement(r,{ref:o,onClose:()=>{fs=!1,i()}}),{}),await(o.current?.init({options:e,firstRenderData:n}))})({...this.checkoutParams,onCloseCallback:e=>{const{goodsNumber:t,selectSpecs:n}=e;if((0,A.A)("CloseOrderCheckoutPop",{fields:{data:JSON.stringify(e)}}),Array.isArray(n)){const e=n.reduce(((e,t)=>Number.isFinite(t.specKeyId)&&Number.isFinite(t.specValueId)?{...e,[t.specKeyId]:t.specValueId}:e),{});o(e||{})}s(!0),i(t||1)}}),{errorType:r}=n||{};if(n&&(0,A.A)("OrderCheckoutPopError",{fields:{data:JSON.stringify(n)}}),[Es.NotSupport].includes(r)){if(t?.skuId)return this.buyNowCallback4Normal(e,p);if(m)return l?.(m)}}}))}}),(0,wy.A)(iE.prototype,"buyNowBenefitRich",[Ty.EW],Object.getOwnPropertyDescriptor(iE.prototype,"buyNowBenefitRich"),iE.prototype),iE);var cE=n(5887);class uE extends N.zw{constructor(e){super(e),this.onCustomizedBtnClick=async e=>{let{goodsId:t,skuId:n,qty:a,btnText:r}=e;const{isLogin:o,showPopLogin:i}=this.$parent;if((0,A.A)("goodsDetail start customized"),!o)return(0,A.A)("goodsDetail customized unLogin"),i();const s=await(async()=>new Promise(((e,o)=>{(0,cE.r)({goodsId:t,skuId:n,clickCb:t=>{let{customizedSnapshotId:n,customizedText:r}=t;(0,A.A)("goodsDetail generate customizedSnapshotId"),e({optCustomizedInfo:{customizedSnapshots:[{customizedSnapshotId:n,customizedNum:a}],...n?null:{customizedText:r}}})},btnText:r,onClose:()=>e(!1),onError:()=>e(!1)})})))();if(s)return s;(0,A.A)("goodsDetail cancel customized")},(0,Ty.Gn)(this)}}const dE="/api/bg/bg-wish-api/wish_goods_v3",mE="/api/bg/bg-wish-api/cancel_wish_goods";class pE extends N.dD{favGoodV3(e){return this.postRiskNew({url:dE,params:e})}unfavGoodV3(e){return this.postRiskNew({url:mE,params:e})}}var gE,hE,fE,yE,_E,EE=pE;let bE=(gE=class extends N.zw{constructor(e){super(e),this.$favService=void 0,this.goodsId=void 0,(0,Iy.A)(this,"isFavRecord",hE,this),(0,Iy.A)(this,"ifSupportWish",fE,this),this.ifLocateGoodsDetailV2=!1,(0,Iy.A)(this,"updateIsFavRecord",yE,this),(0,Iy.A)(this,"toggleFavStateV3",_E,this),this.favGoodsV3=e=>this.$favService.favGoodV3({page_sn:this.$root.pageSn,goods_id:+e}),this.unfavGoodsV3=()=>this.$favService.unfavGoodV3({page_sn:this.$root.pageSn,goods_id:+this.goodsId}),this.refreshFavState=()=>{const{goodsId:e,refreshIndex:t}=this.$root;if(this.ifLocateGoodsDetailV2){const n=(0,Ho.VA)(xn.Jm.wishlistDelGoodsIds)||[],a=n.findIndex((t=>t===+e));a>=0&&(n.splice(a,1),(0,Ho.FS)(xn.Jm.wishlistDelGoodsIds,n),t())}},(0,Ty.Gn)(this)}initService(e){this.$favService=new EE(e)}initDataAction(e){this.goodsId=e.goodsId,this.isFavRecord=e.initIsFav,this.ifSupportWish=!!e.supportWish,this.ifLocateGoodsDetailV2=6===e.supportWish}get showSmallFavBtnPos(){return this.ifShowSmallFavBtn?this.supportWishlist||oa.DETAIL:0}get supportWishlist(){return this.$root.control?.detailSupportExperimentControl?.supportWishlist}get ifShowSmallFavBtn(){const{favStore:e,isGiftGoods:t,goodsSoldOut:n,isSEOSoldOut:a,redeemPointsBtnStore:r}=this.$root,{ifSupportWish:o,ifLocateGoodsDetailV2:i}=e||{},{isRedeemPoints:s}=r;return!(n||a||t||!o||!i||s)}},hE=(0,wy.A)(gE.prototype,"isFavRecord",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),fE=(0,wy.A)(gE.prototype,"ifSupportWish",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,wy.A)(gE.prototype,"initDataAction",[Ty.XI],Object.getOwnPropertyDescriptor(gE.prototype,"initDataAction"),gE.prototype),yE=(0,wy.A)(gE.prototype,"updateIsFavRecord",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.isFavRecord!==t&&n&&(0,b.YY)(),(0,Ty.h5)((()=>{e.isFavRecord=t}))}}}),(0,wy.A)(gE.prototype,"showSmallFavBtnPos",[Ty.EW],Object.getOwnPropertyDescriptor(gE.prototype,"showSmallFavBtnPos"),gE.prototype),(0,wy.A)(gE.prototype,"supportWishlist",[Ty.EW],Object.getOwnPropertyDescriptor(gE.prototype,"supportWishlist"),gE.prototype),(0,wy.A)(gE.prototype,"ifShowSmallFavBtn",[Ty.EW],Object.getOwnPropertyDescriptor(gE.prototype,"ifShowSmallFavBtn"),gE.prototype),_E=(0,wy.A)(gE.prototype,"toggleFavStateV3",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async()=>{const e=e=>{const{success:t,result:n,error:r}=e||{};if(r)throw r;var o;return n?.successToast?.length&&this.supportWishlist?(o=n.successToast,Fa.A.customize(a.createElement("div",{className:jo().toastWrap},a.createElement(Go.WK,{displayItems:o,imageClassName:jo().toastImg})))):n?.toast&&(t?Fa.A.success:Fa.A.warning)(n.toast),t&&(0,Ty.h5)((()=>{this.updateIsFavRecord(!this.isFavRecord)})),!!t};if(this.isFavRecord)try{return e(await this.unfavGoodsV3())}catch(e){return(0,D.fL)(e),Fa.A.warning((0,Zo.t)("fav.failedToRemoveV2",{ns:"goods"})),!1}else try{return e(await this.favGoodsV3(this.goodsId))}catch(e){return(0,D.fL)(e),Fa.A.warning((0,Zo.t)("fav.failedToSaveV2",{ns:"goods"})),!1}}}}),gE);var SE;let vE=(SE=class extends N.zw{constructor(e){super(e),this.showFindSimilarPopup=async()=>{(0,Qc.r)(this.params)},(0,Ty.Gn)(this)}get params(){const{selectedSku:e,selectedSkuSpec:t,goodsId:n}=this.$root,{skuId:a,goodsId:r,thumbUrl:o}=e||{},i=r||n,s={};return(t||[]).forEach((e=>{s[e.specKey]=e.specValue})),{request:{list_id:`find_similar_${Date.now()}_${(0,mn.A)()}`,main_goods_ids:[i],main_goods:[i],top_goods:[i],goods_sku_pairs:[{goods_id:i,sku_id:a,spec_info_map:s}]},config:{pageSn:xn.LM,showQuickLook:!0,pageSource:418,frontControl:{supportPersonalize:!0}}}}},(0,wy.A)(SE.prototype,"params",[Ty.EW],Object.getOwnPropertyDescriptor(SE.prototype,"params"),SE.prototype),SE);var IE=n(7682),wE=n(97216),kE=n(5476),NE=n(64773),AE=n(30015),CE=n(40119);let TE=function(e){return e[e.TEXT=0]="TEXT",e}({}),xE=function(e){return e[e.CancelAndConfirm=1]="CancelAndConfirm",e[e.GoToCart=2]="GoToCart",e[e.OK=3]="OK",e[e.ShopNow=4]="ShopNow",e}({});const PE=(0,a.memo)((function(e){let{items:t}=e;return t?.length?t.map(((e,t)=>{const{text:n,displayType:r,fontColor:o,fontSize:i,fontWeight:s,isBold:l}=e||{};return r===TE.TEXT&&n?a.createElement("span",{key:t,style:{color:o,fontSize:i,fontWeight:s||(l?"bold":"normal")}},n):null})):null}));var RE=n(85213),ME=n.n(RE);const DE=e=>{let{endTime:t,callback:n}=e;return a.createElement(AE.A,{intervalGap:1e3,endTime:Number(t),nowTime:Date.now(),renderFunc:e=>{let{hour:t,minute:n,second:r,day:o}=e;return a.createElement("span",{"aria-hidden":!0,className:ME().countdown},o?a.createElement(a.Fragment,null,a.createElement("span",{"data-type":"time",className:ME().time},(0,CE.yg)(o)),a.createElement("span",{"data-type":"colon",className:ME().colon},":")):null,a.createElement("span",{"data-type":"time",className:ME().time},(0,CE.yg)(t)),a.createElement("span",{"data-type":"colon",className:ME().colon},":"),a.createElement("span",{"data-type":"time",className:ME().time},(0,CE.yg)(n)),a.createElement("span",{"data-type":"colon",className:ME().colon},":"),a.createElement("span",{"data-type":"time",className:ME().time},(0,CE.yg)(r)))},callback:n,rAF:!0})},BE=e=>{let{endTime:t,callback:n,isRTL:r}=e;return a.createElement(AE.A,{intervalGap:1e3,endTime:Number(t),nowTime:Date.now(),renderFunc:e=>{let{hour:t,minute:n,second:i,day:s}=e;return a.createElement("span",{"aria-hidden":!0,className:o()(ME().countdown1,{[ME().countDownWithDay]:s,[ME().rtl]:r})},s?a.createElement(a.Fragment,null,a.createElement("span",{"data-type":"time",className:ME().time1},(0,CE.yg)(s)),a.createElement("span",{"data-type":"colon",className:ME().colon1},":")):null,a.createElement("span",{"data-type":"time",className:ME().time1},(0,CE.yg)(t)),a.createElement("span",{"data-type":"colon",className:ME().colon1},":"),a.createElement("span",{"data-type":"time",className:ME().time1},(0,CE.yg)(n)),a.createElement("span",{"data-type":"colon",className:ME().colon1},":"),a.createElement("span",{"data-type":"time",className:ME().time1},(0,CE.yg)(i)))},callback:n,rAF:!0})},OE={2:"goToCart",3:"ok"};var LE=e=>{let{closePopup:t,giftPopupVo:n,redeemSuccess:r}=e;const{t:i}=(0,p.B)("bec-fe.web-sku-selector",{keyPrefix:"RedeemPoints4Goods"}),{giftInfo:s,title:l,endTime:c,subTitle:u,buttonType:d="",subTitleOfRichText:m,popupStyleType:g}=n||{},{isRTL:h}=(0,Ta.Sz)(),f=()=>{d===xE.GoToCart&&(0,Zt.MJ)("/shopping_cart.html"),t()},{thumbUrl:y,priceStr:_,marketPriceStr:E,priceText:b}=s||{},S=OE?.[d],v=(0,pn.w)((()=>({maxWidth:"90px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"})));return 1===g?a.createElement(Ar.Ay,{onClick:t,isShowClose:!1,showClassName:ME().popupShow1},a.createElement(kn.nU,{page_el_sn:r?235967:null},a.createElement("div",{className:ME().bg1},a.createElement("div",{className:ME().closeIcon1,onClick:t,role:"button",tabIndex:0},a.createElement(kE.A,{fill:"#fff",width:"33px",height:"33px",style:{fill:"#fff"}})),l?a.createElement("div",{className:ME().title1},a.createElement("div",{className:ME().title1Content},a.createElement(NE.y,{minFontSize:16,maxFontSize:26},a.createElement(PE,{items:l})))):null,y?a.createElement("div",{className:ME().goods1Wrapper},a.createElement("div",{className:ME().goodsHat}),a.createElement("div",{className:ME().goods1},a.createElement("div",{className:ME().goodsImgWrapper},a.createElement(Nn.Ay,{className:ME().img1,src:y,alt:""}),c?a.createElement("div",{className:o()(ME().timeWraper1,{[ME().rtlReverse]:h})},a.createElement("span",{className:ME().priceText1},a.createElement(NE.y,{minFontSize:18,maxFontSize:30,adapterScale:v},b)),a.createElement(BE,{isRTL:h,endTime:c,callback:t})):null))):null,m?a.createElement("div",{className:ME().desc1RichText},a.createElement(PE,{items:m})):null,S?a.createElement(kn.nU,{page_el_sn:d===xE.GoToCart?235968:null},a.createElement("div",{className:ME().btns1},a.createElement(Ut.A,{className:ME().btn1,size:"xl",type:Gt.el.primary,onClick:f,autoScale:!0},i(S)))):null))):a.createElement(Ar.Ay,{closeClassName:ME().closeIcon,onClick:t,showClassName:ME().popupShow},a.createElement(kn.nU,{page_el_sn:r?235967:null},a.createElement("div",{className:ME().wrap},c?a.createElement("div",{className:ME().header},a.createElement(Je.x,{t:i,ns:"bec-fe.web-sku-selector",i18nKey:"countdown"},a.createElement(DE,{endTime:c,callback:t}))):null,a.createElement("div",{className:ME().bg},l?.length?a.createElement("div",{className:ME().title},a.createElement(PE,{items:l})):null,u?.length?a.createElement("div",{className:ME().desc},u):null,y?a.createElement("div",{className:ME().goods},a.createElement(Nn.Ay,{className:ME().img,src:y,alt:""}),a.createElement("div",{className:ME().price},a.createElement("span",{className:ME().salePrice},_?.join("")),a.createElement("span",{className:ME().linePrice},E?.join("")))):null,S?a.createElement(kn.nU,{page_el_sn:d===xE.GoToCart?235968:null},a.createElement("div",{className:ME().btns},a.createElement(Ut.A,{className:ME().btn,size:"lg",type:Gt.el.primary,onClick:f},i(S)))):null))))},WE=n(65115),zE=n.n(WE);var FE,UE=e=>{let{closePopup:t,data:n,goodsId:r,skuId:o,mallId:i,eventSn:s,pointsThreshold:l,onConfirmSuccess:c,onRedeemCallback:u}=e;const{t:d}=(0,p.B)("bec-fe.web-sku-selector",{keyPrefix:"RedeemPoints4Goods"}),{giftInfo:m,title:g,subTitle:h,subTitleOfRichText:f,buttonType:y,linkUrl:_}=n||{},{thumbUrl:E,priceStr:b,marketPriceStr:S,pointsThresholdText:v}=m||{},I=()=>{t()},w=y===xE.OK,k=y===xE.ShopNow,N=(0,Oa.A)((async()=>{const{result:e}=await(0,wE.b)({url:"/api/bologna/points/redeem",params:(0,IE.qi)({goodsId:r,skuId:o,mallId:i,eventSn:s,pointsThreshold:l}),config:{useAntiToken:!0}}),{giftPopupVo:n,failToastMsg:d,redeemSuccess:m}=e||{};if(u?.(e),t(),n){n?.buttonType===xE.GoToCart&&c?.(e);const t=(0,vn.A)(a.createElement(LE,{redeemSuccess:m,giftPopupVo:n,closePopup:()=>t?.()}),{})}else d&&Fa.A.error(d)})),A=()=>{_&&(0,Zt.MJ)(_)};return a.createElement(Ar.Ay,{onClick:t},a.createElement(kn.nU,{page_el_sn:235964},a.createElement("div",{className:zE().wrap},g?.length?a.createElement("div",{className:zE().title},a.createElement(PE,{items:g})):null,h&&!f?a.createElement("div",{className:zE().desc},h):null,f&&f.length>0?a.createElement("div",{className:zE().subTitleWrapper},a.createElement(PE,{items:f})):null,E?a.createElement("div",{className:zE().goods},a.createElement(Nn.Ay,{className:zE().img,src:E,alt:""}),a.createElement("div",{className:zE().price},v?a.createElement("span",{className:zE().point},v):null,a.createElement("span",{className:zE().linePrice},S?.join("")))):null,a.createElement("div",{className:zE().btns},w?a.createElement(Ut.A,{className:zE().singleBtn,size:"lg",type:Gt.el.primary,onClick:I},d("ok")):k?a.createElement(Ut.A,{className:zE().singleBtn,size:"lg",type:Gt.el.primary,onClick:A},d("shopnow")):a.createElement(a.Fragment,null,a.createElement(Ut.A,{className:zE().btn,size:"lg",type:Gt.el.border,onClick:I},a.createElement(kn.nU,{page_el_sn:235966},a.createElement("span",null,d("cancel")))),a.createElement(Ut.A,{className:zE().btn,size:"lg",type:Gt.el.primary,onClick:N},a.createElement(kn.nU,{page_el_sn:235965},a.createElement("span",null,d("redeem")))))))))},GE=class extends N.dD{constructor(){super(...arguments),this.queryRedeemPointsPopup=e=>this.postRiskNew({url:"/api/bologna/points/query/redemption_popup",params:e})}};let HE=(FE=class extends N.zw{constructor(e){super(e),this.$RedeemPointsService=void 0,this.onRedeemPointsBtnClick=async e=>{let{goodsId:t,skuId:n}=e;const{moduleMap:r,query:o,getMallId:i}=this.$parent,{_oak_points_redeem_sn:s}=o||{},{pointsRedeemButtonMap:l}=r?.bottomButtonModule?.data||{},{pointsThreshold:c}=l?.[n]||{},u=i(),{result:d,success:m}=await this.$RedeemPointsService.queryRedeemPointsPopup({goods_id:t,sku_id:n,mall_id:u,points_activity_sn:s}),{giftPopupVo:p}=d||{};if(!p)return void Fa.A.error((0,Zo.t)("main_detail.error_net_work",{ns:"goods"}));const g=()=>{h?.()},h=(0,vn.A)(a.createElement(UE,{closePopup:g,data:p,onCancel:g,goodsId:t,skuId:n,mallId:i(),eventSn:s,pointsThreshold:c}),{})},(0,Ty.Gn)(this)}get isRedeemPoints(){return 1===this.$parent.control?.enablePointsRedeemStyle}initService(e){this.$RedeemPointsService=new GE(e)}},(0,wy.A)(FE.prototype,"isRedeemPoints",[Ty.EW],Object.getOwnPropertyDescriptor(FE.prototype,"isRedeemPoints"),FE.prototype),FE);class VE extends N.zw{constructor(e){super(e),(0,Ty.Gn)(this)}}var jE=n(26294),qE=n.n(jE);const KE=(0,a.memo)((function(e){let{data:t}=e;const{tipText:n,tipButton:r}=t||{},o=(0,a.useCallback)((()=>(0,qn.L)(null)),[]);return(0,A.r)("RegionMismatchDialog"),a.createElement(In.Ay,null,a.createElement(on.A,{containerProps:{className:qE().dialog}},a.createElement(on.A.Title,null,n),a.createElement("div",{className:qE().btnArea,dir:"dir"},a.createElement(Ut.A,{className:qE().btn,onClick:o,size:"xl"},r)),a.createElement(on.A.CloseButton,{onClick:o})))}));var $E=n(53826),JE=n(90230);const YE=e=>{const t=e?.isSimilarReview||!1,n=(e?.data||e||[]).map((e=>{const n=[];let{pictures:a,video:r,specs:o,goodsInfo:i,goodsName:s,goodsLinkUrl:l,goodsSeoLinkUrl:c,...u}=e||{};if(r){const t=e.video,a={url:t.coverImageUrl,width:t.coverImageWidth,height:t.coverImageHeight,videoUrl:t.url,videoHeight:t.height,videoWidth:t.width};n.push(a)}return(l||c)&&(i={...i||{},linkUrl:c||l,goodsName:s}),i?.seoLinkUrl&&(i.linkUrl=i.seoLinkUrl),u.goodsInfo=i,a&&n.push(...e.pictures),u.isSimilarReview=t,u.list=n,u.specs=o?JSON.parse(o):[],u}));return n.reviewMaxListSize=e.maxListSize??0,n.popupTitle=e.popupTitle??"",n};function QE(e){e.isSimilarReview=!0;const t=YE(e);return{...e,reviewList:t}}const XE=e=>{const t=e.sku||[];e.sku=t;const n=e.goods||{};let a=[];const r=[],o=[];if(n.gallery&&n.gallery.sort(((e,t)=>e.priority-t.priority)).forEach((e=>{(e={...e,video:null}).type===fa.Detail&&r.push(e),e.type!==fa.Carousel&&e.type!==fa.NewCarousel||a.push(e),e.type===fa.Custom&&o.push(e)})),!a.length){const{hdThumbUrl:e,thumbUrl:r,imageUrl:o}=n,i=e||r||o;a=i?[{url:i}]:t.map((e=>({url:e.thumbUrl})))}try{const t=e.review.reviewData;t.reviewInfoList=YE(t.reviewInfoList),t.mallReview?.reviewInfoList?.length&&(t.mallReview.reviewInfoList=YE(t.mallReview.reviewInfoList)),t.similarReview?.reviewInfoList?.length&&(t.similarReview.reviewInfoList=YE(t.similarReview.reviewInfoList))}catch(e){}return n?.video&&(a[0].video=n.video),n.bannerList=a,n.detailList=r,n.customImageList=o,n.skc=(n.skc||[])?.map((e=>(e.gallery?.length&&(e.gallery=e.gallery.sort(((e,t)=>e.priority-t.priority))),e))),e.isSkc=!!n.skc.length,e.goods=n,e};function ZE(e){const t=e.result||{},{hasMore:n,controlParam:a}=t,r=t.data||{},{goodsList:o,title:i}=r,s={goodsList:(o||[]).map((e=>{const t={};return t.data=e,t})),hasMore:n||!1,title:i,controlParam:a};return{...e,result:s}}function eb(e){const{crumbOptList:t}=e?.result?.data||{},n=(t||[]).map((e=>{const{optName:t,seoLinkUrl:n,linkUrl:a}=e||{};return{...e,href:n||a,title:t}}));return{...e,result:{crumbOptList:n}}}const tb="/api/oak/integration/render",nb="/api/bg/circle/c/mall/newMallFavorite",ab="/api/oak/integration/refresh",rb="/api/poppy/v1/opt",ob="/api/poppy/v1/goods_detail",ib="/api/seo/rec_goods_list",sb="/api/bg/circle/c/mall/mallCompanyInfo",lb="/api/oak/share_card/render",cb="/api/bg/bg-uranus-api/uranus_cart/user_cart_num",ub="/api/bg/engels/reviews/mall/pic/list",db="/api/bg/engels/reviews/pic/list",mb="/api/bg/engels/reviews/similar/pic/list",pb="/api/bg/engels/reviews/temu/faq/list",gb="/api/bg/bg-uranus-api/uranus_cart/add_cart",hb="/api/oak/carted_goods/query_tip",fb="/api/bg/morse/gift/pick",yb="/api/bg/bg-uranus-api/uranus_cart/promotion_info",_b="/api/oak/collect_order/query_benefit",Eb="/api/bg/aristotle/recommend_paid_order_detail",bb="/api/seo/get_tag_seo_data",Sb="/api/oak/instructions/img_list",vb="/api/bg-barbera-api/privacy/adult/setting",Ib="/api/bg-barbera-api/user/size/recommend",wb="/api/oak/goods/certification",kb="/api/oak/goods_extend/info",Nb="/api/oak/restock/subscribe",Ab="/api/oak/restock/unsubscribe",Cb="/api/vela/goods/condition_definition";var Tb,xb,Pb,Rb,Mb,Db,Bb,Ob,Lb,Wb,zb,Fb,Ub,Gb,Hb,Vb,jb,qb,Kb,$b,Jb,Yb,Qb,Xb,Zb,eS,tS,nS,aS,rS,oS,iS,sS,lS,cS,uS,dS,mS,pS,gS,hS,fS,yS,_S,ES,bS,SS,vS,IS,wS,kS,NS,AS,CS,TS,xS,PS,RS,MS,DS,BS,OS,LS,WS,zS,FS,US,GS,HS,VS,jS,qS,KS,$S,JS,YS,QS,XS,ZS,ev,tv,nv,av,rv,ov,iv,sv,lv,cv,uv,dv,mv,pv,gv,hv,fv,yv,_v,Ev,bv,Sv,vv,Iv,wv,kv,Nv,Av,Cv,Tv,xv,Pv,Rv,Mv,Dv,Bv,Ov,Lv,Wv,zv,Fv,Uv,Gv,Hv,Vv,jv,qv,Kv,$v=class extends N.dD{constructor(){super(...arguments),this.queryCollectOrderInfo=e=>this.postRiskNew({url:_b,params:e}),this.queryOrderInfo=e=>this.postRiskNew({url:Eb,params:{...e,...(0,JE.N)()}}),this.loadRecommendData=(e,t)=>this.postRiskNew({url:(0,Dl.w)(t?ib:ob,e),params:e,format:ZE}),this.queryGuideFileImg=e=>this.basePost({url:Sb,params:e})}queryCommentList(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getRisk({url:ub,params:{...e,mode:1},format:YE})}queryIndex(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{useRiskShowDialog:t,useLoginRisk:n,...a}=e,r={};return t&&(r[w.D.VerifyRisk]=()=>{}),n&&(r[w.D.LoginRisk]=()=>{}),this.postRiskNew({url:tb,params:{...a,excludedKeys:["track","sku_ext","goods_ext"],errorCodeHandlers:r},format:XE,errorHandler:async e=>{if(t&&(0,$E.OQ)(e)){const{errorType:t,errorCode:n,errorMsg:a,response:r}=e||{},{verify_auth_token:o}=r?.data||{};return{error:{errorType:t,errorCode:n,errorMsg:a,verifyAuthToken:o}}}if(n&&(0,$E.mi)(e)){const{errorType:t,errorCode:n,errorMsg:a,response:r}=e||{},{status:o}=r||{};return{error:{errorType:t,errorCode:n,errorMsg:a,status:o}}}return{error:(0,$E.nD)(e)}}})}refreshIndex(e){return this.postRiskNew({url:ab,params:{...e,excludedKeys:["track","sku_ext","goods_ext"]},format:XE})}queryMallCompanyInfo(e){return this.postRiskNew({url:sb,params:{...e,errorCodeHandlers:{[w.D.VerifyRisk]:()=>{}}},errorHandler:async t=>{if([w.D.VerifyRisk].includes(t.errorCode)){const n=t?.response?.data||{},{verify_auth_token:a,error_code:r}=n;if(!a||!r)return t;try{localStorage.setItem("VerifyAuthToken",a)}catch(e){}const o=await(0,_.Eo)({verifyAuthToken:a,verifyAuthType:r});if(o?.isSuccess)return this.queryMallCompanyInfo(e)}return{error:(0,$E.nD)(t)}}})}queryShareInfo(e){return this.postRiskNew({url:lb,params:e})}queryShopCartInfo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.basePost({url:cb,params:e})}addCart(e){return this.postRiskNew({url:gb,params:e})}queryMallFav(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.postRiskNew({url:nb,params:e})}queryBreadCrumbInfo(e){const{useRiskShowDialog:t,useLoginRisk:n,...a}=e,r={};t&&(r[w.D.VerifyRisk]=()=>{}),n&&(r[w.D.LoginRisk]=()=>{});const o={pageSn:xn.LM,errorCodeHandlers:r,...a};return this.postRiskNew({url:(0,Dl.w)(rb,o),params:o,format:eb,errorHandler:async e=>{if(t&&(0,$E.OQ)(e)){const{errorType:t,errorCode:n,errorMsg:a,response:r}=e||{},{verify_auth_token:o}=r?.data||{};return{error:{errorType:t,errorCode:n,errorMsg:a,verifyAuthToken:o}}}if(n&&(0,$E.mi)(e)){const{errorType:t,errorCode:n,errorMsg:a,response:r}=e||{},{status:o}=r||{};return{error:{errorType:t,errorCode:n,errorMsg:a,status:o}}}return{error:(0,$E.nD)(e)}}})}queryGoogleShoppingJson(e){return this.getRisk({url:"/api/product/schema",params:e,timeout:800})}queryCommentPicList(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{activeTopIndex:t,...n}=e||{},a=t?ub:db,r=t?1:0;return this.getRisk({url:a,params:{...n,mode:r},format:YE})}querySkuInfo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.postRiskNew({url:"/api/oak/sku/info",params:{...e,excludedKeys:["track","sku_ext","goods_ext"]}})}queryFaqData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getRisk({url:pb,params:e})}queryReviewSeoCommonData(e){return this.postRiskNew({url:"/api/seo/get_common_biz_data",params:e})}querySortCommentPicList(e){let t="/api/bg/engels/reviews/mall/escalator/pic/list";return e.activeTopIndex||(t="/api/bg/engels/reviews/escalator/pic/list"),this.postRisk({url:t,params:e,format:YE})}giftPick(e){return this.postRiskNew({url:fb,params:e})}queryPromotionInfo(e){return this.postRiskNew({url:yb,params:e})}queryShareInfoRes(e){return this.basePost({url:"/api/bg/engels/reviews/share/info",params:e})}queryTip(e){return this.postRiskNew({url:hb,params:e})}querySeoCategories(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.postRisk({url:bb,params:e})}reportAdult(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.postRisk({url:vb,params:e})}querySizeRecommend(e){return this.postRiskNew({url:Ib,params:e})}querySimilarCommentPicList(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getRisk({url:mb,params:e,format:QE})}queryCertification(e){return this.postRiskNew({url:wb,params:e})}queryGoodsExtend(e){return this.postRiskNew({url:kb,params:e})}subscribe(e){return this.postRiskNew({url:Nb,params:{...e,...(0,JE.L8)()}})}unSubscribe(e){return this.postRiskNew({url:Ab,params:{...e,...(0,JE.L8)()}})}queryUsedInfo(e){return this.postRiskNew({url:Cb,params:{...e}})}};function Jv(e,t,n){return n}const Yv=["afterSale","activityInfo","control","custom","selectLocationId","delivery","deliveryTag","skuDeliveryTag","environment","energyTag","goods","guarantee","goodsExt","isSkc","mall","message","modelTryOn","payLater","payLaterAll","promotionUnderThePriceModule","promotionUnderThePriceModuleV2","payBenefit","review","richTextBlockUnderThePriceModule","serverTime","sizeGuide","sku","skuControl","video","waistBanner","specCustom","giftGoodsInfo","sectionList","multiItemsPercentage","guideFile","groupOrderBenefit","imgInstruction","moduleMap","description","skuModuleMap","sizeSpecModule","report","shipping","canNotSaleTip","matchingOutfits","commitment","selectSkuTip","error"],Qv=["order","promotionDefaultDesc"];let Xv=(Tb=class extends N.LP{constructor(){super(),this.serverRenderTime=void 0,this.isMetaRefresh=!1,this.crawlerType=void 0,(0,Iy.A)(this,"shoppingCartSkuAmountMap",xb,this),this.originShoppingCartSkuAmountMap={},this.prevShoppingCartSkuAmountMap=void 0,(0,Iy.A)(this,"pageSN",Pb,this),(0,Iy.A)(this,"sizeSpecModule",Rb,this),(0,Iy.A)(this,"CartScene",Mb,this),(0,Iy.A)(this,"REVIEW_TYPE",Db,this),(0,Iy.A)(this,"trackingInfo",Bb,this),(0,Iy.A)(this,"shoppingCartGoodsAmountMap",Ob,this),(0,Iy.A)(this,"groupOrderBenefit",Lb,this),this.destoryShoppingCartDataListener=void 0,this.shoppingCartDataListener=()=>{this.destoryShoppingCartDataListener=(0,b.Xu)((e=>{let{cartGoodsNumMap:t,cartSkuNumMap:n}=e;this.isOperateMerging?this.isOperateMerging=!1:(this.shoppingCartSkuAmountMap=n,this.shoppingCartGoodsAmountMap=t,this.prevShoppingCartSkuAmountMap?this.prevShoppingCartSkuAmountMap=this.originShoppingCartSkuAmountMap:this.prevShoppingCartSkuAmountMap=n,this.originShoppingCartSkuAmountMap=n)}))},this.updateSkuAmountMap=e=>{this.shoppingCartSkuAmountMap=e},this.pageSn=xn.LM,this.activityRecStore=new t_(this),this.favStore=new bE(this),this.galleryStore=new VE(this),this.addSuccessStore=new F_(this),this.addOrderInfoStore=new tE(this),this.compatibleVehiclesStore=new I_(this),this.commonCommentStore=new zy.A(this),this.commentBigPictureStore=new Wy.A(this),this.reviewStore=new Uy.Ay(this),this.customizedBtnStore=new uE(this),this.redeemPointsBtnStore=new HE(this),this.findSimilarStore=new vE(this),this.buyNowButtonStore=new lE(this),this.addCartButtonStore=new k_(this),(0,Iy.A)(this,"title",Wb,this),(0,Iy.A)(this,"calcForCartShippingVo",zb,this),(0,Iy.A)(this,"userRegion",Fb,this),(0,Iy.A)(this,"goodsId",Ub,this),(0,Iy.A)(this,"description",Gb,this),(0,Iy.A)(this,"deliveryTag",Hb,this),(0,Iy.A)(this,"moduleMap",Vb,this),(0,Iy.A)(this,"matchingOutfits",jb,this),this.isRobot=void 0,(0,Iy.A)(this,"collectPromotion",qb,this),this.lastBestCollectPromotionIdList=void 0,(0,Iy.A)(this,"googleShoppingJson",Kb,this),(0,Iy.A)(this,"error",$b,this),this.extendHeaderData={toolBarData:{showMessages:!0,showChatRoom:!1,showFeedback:!0},showEventCard:!1,seoNavGray:!1},(0,Iy.A)(this,"isFav",Jb,this),(0,Iy.A)(this,"toggleFavorite",Yb,this),this.offset=0,this.pageSize=xn.l_,(0,Iy.A)(this,"optId",Qb,this),(0,Iy.A)(this,"optLevel",Xb,this),(0,Iy.A)(this,"crumbOptList",Zb,this),(0,Iy.A)(this,"supportTouch",eS,this),this.setSupportTouch=e=>{this.supportTouch=e},(0,Iy.A)(this,"queryBreadCrumbInfo",tS,this),this.showPopLogin=()=>{this.popLogin({onSuccess:()=>{(0,Zt.Qw)(location.href)}})},this.isLogin=void 0,(0,Iy.A)(this,"query",nS,this),this.isNativePlatform=void 0,this.isIOSSystem=void 0,this.webpEnable=void 0,this.guideFile=void 0,this.switches={},this.dr=void 0,this.localInfo=void 0,this.getMallId=()=>{const{mall:e,goods:t}=this,{mallData:n}=e||{};return n?.mallId||t?.mallId},(0,Iy.A)(this,"relatedSearches",aS,this),(0,Iy.A)(this,"seoPageAltInfo",rS,this),(0,Iy.A)(this,"showGoodsDetailLongDesc",oS,this),(0,Iy.A)(this,"seoImgUrlMap",iS,this),(0,Iy.A)(this,"countryIndexMap",sS,this),this.useRiskShowDialog=!1,this.useLoginRisk=!1,(0,Iy.A)(this,"queryReviewSeoCommonData",lS,this),(0,Iy.A)(this,"seoCategories",cS,this),(0,Iy.A)(this,"querySeoCategories",uS,this),this.beforeQueryLayoutData=e=>{const{cookies:t,__res:n}=e,a=(0,Ry.Ay)("switches",e.__res,"")||{},r=!a.disableRiskDialog&&!ua()(t),o=!a.disableLoginRisk;this.layoutDataOptions={needApiErrorInfo:!0,banApiRiskError:r,banApiLoginError:o};let i="";i=e?e.userAgent||"":window.navigator.userAgent;if(!(0,h.H_)(i))return;const{goods_id:s}=e.query,l=(0,Ry.Ay)("seoGClientrenderFooter",e,"")||{},c=Array.isArray(s)?s[0]:s,u="B"===(0,Py.M6)({...l,salt:l.graySalt},c);this.layoutDataOptions={...this.layoutDataOptions,footerClientRender:u}},this.webLayoutError=void 0,this.afterQueryLayoutData=(e,t)=>{const{cartSkuNumMap:n,cartGoodsNumMap:a}=e?.headerData?.shoppingCartData||{};this.shoppingCartGoodsAmountMap=a||{},this.shoppingCartSkuAmountMap=n||{};const{apiErrorInfo:r}=e||{};Object.values(r||{}).length>0&&(this.webLayoutError=Object.values(r)[0])},this.pageListId=`goods_detail_page_${(0,mn.A)(6)}`,this.supported_apple_pay=void 0,this.sendExtraEvent=()=>{const{shoppingCartGoodsAmountMap:e,goods:t,query:n,activityInfo:a}=this,{soldQuantity:r,salePriceRich:o,goodsId:i=""}=t||{},s=+e?.[i]||0,{activityType:l,detailId:c}=a||{},u={op:"impr",page_el_sn:"205915",goods_added_status:s,is_sold_out:+(t?.status!==ya.Normal),freesia_scene:n?.freesia_scene,img_repl_type:t?.imageReplacedType,acty_type:l||0};c&&(u.detail_id=c),null!=r&&(u.render_showsales=r),(o||[]).forEach((e=>{let{type:t,text:n}=e;"currency"===t&&n&&(u.render_showcurrency=n),"price"===t&&n&&(u.render_showprice=n)})),(0,ge.OS)(u)},this.waitTimeUnAddCartSearch=15,this.notificationBackRecTimer={},(0,Iy.A)(this,"isEmpty",dS,this),this.initCurrentSpecIdSelect=()=>{this.currentSpecIdSelect;const{currentIdSelect:e,skuTypeValues:t}=this.formatSkuData;if(this.currentSpecIdSelect=e,1===this.sku.length)return void this.sku[0]?.specs?.forEach((e=>{const{specKeyId:t="",specValueId:n}=e;this.currentSpecIdSelect[t]=n}));const n=this.control?.defaultSelectSpec||[],a=n.length,r=n.reduce(((e,t)=>{const{specKeyId:n="",specValueId:a}=t||{};return e[n]=a,e}),{});let o;this.sku.some((t=>{let n=0;return o={...e},(t.specs||[]).some((e=>{const{specKeyId:t="",specValueId:i}=e;return r[t]===i&&(o[t]=i,n++),n===a}))}))&&(this.currentSpecIdSelect=o);t.some((e=>!!this.currentSpecIdSelect[(e||{}).specKeyId]));t.forEach((e=>{const{specKeyId:t,values:n,valueIds:a}=e||{};1===n?.length&&(this.currentSpecIdSelect[t]=a[0])}))},this.getQueryIndexParams=()=>{const{sku_id:e,spec_id:t,spec_gallery_id:n,spec_ids:a,refer_page_sn:r,parent_order_sn:o}=this.query,i=Array.isArray(a)?a[a.length-1]:a;return{goods_id:this.goodsId,_oak_gallery:this.topGalleryUrl,_oak_sku_id:e,_oak_spec_id:t,_oak_spec_gallery_id:n,_oak_spec_ids:i,_oak_query_app_only:1,_oak_query_used_wish:1,_oak_show_leaf_category_low_price_tag:1,_oak_show_sale_price_suffix:1,_oak_show_what_rrp:1,spec_ids:"string"==typeof i?i.split(","):void 0,refer_page_sn:r,parent_order_sn:o,select_address:{address_snapshot_id:this.query?.address_snapshot_id,address_snapshot_sn:this.query?.address_snapshot_sn},_oak_stage:this.addOrderInfoStore.isFromAddOrderPage?xn.Ez.addToOrder:xn.Ez.goodsDetail,...(0,xn.bv)(this.query)}},(0,Iy.A)(this,"afterSale",mS,this),(0,Iy.A)(this,"delivery",pS,this),(0,Iy.A)(this,"control",gS,this),this.skuControl=void 0,(0,Iy.A)(this,"rank",hS,this),this.environment=void 0,(0,Iy.A)(this,"goods",fS,this),this.imgInstruction=void 0,(0,Iy.A)(this,"custom",yS,this),(0,Iy.A)(this,"guarantee",_S,this),this.isSkc=void 0,(0,Iy.A)(this,"mall",ES,this),this.message=void 0,(0,Iy.A)(this,"payLater",bS,this),(0,Iy.A)(this,"payLaterAll",SS,this),(0,Iy.A)(this,"payLaterPricePos",vS,this),(0,Iy.A)(this,"setPayLaterPricePos",IS,this),(0,Iy.A)(this,"serverTime",wS,this),(0,Iy.A)(this,"sizeGuide",kS,this),(0,Iy.A)(this,"sku",NS,this),(0,Iy.A)(this,"waistBanner",AS,this),(0,Iy.A)(this,"review",CS,this),(0,Iy.A)(this,"specCustom",TS,this),(0,Iy.A)(this,"isSupportTouch",xS,this),this.initIsSupportTouch=()=>{"ontouchstart"in window&&(this.isSupportTouch=!0)},this.canNotSaleTip=void 0,(0,Iy.A)(this,"addCartBenefitRich",PS,this),(0,Iy.A)(this,"addCartBenefitRichBlack",RS,this),(0,Iy.A)(this,"buyNowBenefitRich",MS,this),(0,Iy.A)(this,"resetBuyNowBenefitRich",DS,this),(0,Iy.A)(this,"defaultGalleryIndex",BS,this),(0,Iy.A)(this,"initGalleryIndex",OS,this),this.sectionList=void 0,(0,Iy.A)(this,"goodsSection",LS,this),(0,Iy.A)(this,"initProductDetail",WS,this),(0,Iy.A)(this,"productDetailFlatList",zS,this),(0,Iy.A)(this,"productDetail",FS,this),(0,Iy.A)(this,"expParams",US,this),this.preloadFirstImgList=[],(0,Iy.A)(this,"initReviewStoreData",GS,this),(0,Iy.A)(this,"queryIndex",HS,this),(0,Iy.A)(this,"initSkuInfo",VS,this),(0,Iy.A)(this,"goodsProperty",jS,this),(0,Iy.A)(this,"goodsEnhanceProperty",qS,this),(0,Iy.A)(this,"initGoodsProperty",KS,this),(0,Iy.A)(this,"refreshSku",$S,this),(0,Iy.A)(this,"queryShopCartInfo",JS,this),(0,Iy.A)(this,"isManualChangeSpec",YS,this),(0,Iy.A)(this,"skuInfoMap",QS,this),(0,Iy.A)(this,"goodsExt",XS,this),this.querySkuInfoReqId=0,(0,Iy.A)(this,"querySkuInfo",ZS,this),(0,Iy.A)(this,"refreshIndex",ev,this),(0,Iy.A)(this,"recomendLoaded",tv,this),(0,Iy.A)(this,"recommendGoodsList",nv,this),(0,Iy.A)(this,"recomendHasMore",av,this),(0,Iy.A)(this,"recomendTitle",rv,this),(0,Iy.A)(this,"loadRecommendData",ov,this),this.formatSkuData={},this.updateFormatSkuData=()=>{this.formatSkuData=function(e,t,n){const a=[],r={},o={},i={},s={},l={},c={},u={},d={},m={},p={};return(t||[]).forEach(((e,t)=>{const{specId:n}=e;s[n]||(s[n]=t)})),(e||[]).forEach((e=>{const{specs:t,skuId:g,isOnsale:h}=e,f=n[g]||{};o[g]={...e,salePriceTextRich:f},(t||[]).forEach((e=>{const{specKey:t,specKeyId:n,specValue:r,specValueId:o,specKeyShowName:f}=e||{},y=`${n}${o}`;h&&(p[y]=!0),u[o]||(u[o]=e),d?.[y]||(d[y]=[]),m[y]||(m[y]={}),m[y][g]||(d[y].push(g),m[y][g]=g);const _=a.find((e=>e?.specKeyId===n)),E=s[o],b="number"==typeof E;if(void 0===c?.[o]&&(c[o]=r),_){const{values:e,valueIds:t}=_;t.includes(o)||(b?(e[E]=r,t[E]=o):(e.push(r),t.push(o)))}else{i[n]=null;const e=[],s=[];b?(e[E]=r,s[E]=o):(e.push(r),s.push(o)),a.push({type:t,specKeyId:n,specKeyShowName:f,values:e,valueIds:s})}l[n]||(l[n]=t)}));const y=mi(t||[]);r[y]=g})),{skuTypeValues:a,skuInfos:o,currentIdSelect:i,specKeyId2SpecKeyMap:l,specIdStrToSkuId:r,specValueId2SpecValueMap:c,specValueId2SpecMap:u,specIdStr2SkuIdsMap:d,specIdIsOnsaleMap:p}}(this.sku,this.goods?.skc,this.skuSalePriceRichMap)},this.getSpecLocalOptimalSku=e=>{if(!e)return null;const{sku:t,formatSkuData:n,bestSkuByQuantityTip:a}=this,{stockQuantityTipThreshold:r}=this.control||{},{skuTypeValues:o,skuInfos:i,specIdStrToSkuId:s}=n;if(Object.entries(e).filter((e=>e[1]))?.length===o?.length){const t=pi(e);return i?.[s?.[t]]}return fi({sku:t,formatSkuData:n,currentSpecIdSelect:e,bestSkuByQuantityTip:a,stockQuantityTipThreshold:r})},(0,Iy.A)(this,"currentSpecIdSelect",iv,this),(0,Iy.A)(this,"setCurrentSpecIdSelect",sv,this),(0,Iy.A)(this,"handleSpecChangedById",lv,this),(0,Iy.A)(this,"qty",cv,this),(0,Iy.A)(this,"setQty",uv,this),this.addCartRequestId=0,this.addCart=async e=>{let{skuId:t,curGoodsId:n,amount:a,cartScene:r=xn.xi.MainGoods,operateType:o=Sa.Add,clickEventData:i={page_el_sn:200061},addedAmount:s,afterAddCartSucc:l,customizedInfoDict:c,selectedSku:u,extraAddCartOptions:d}=e;(0,A.A)("operateCart",this.getBizLogOptions()),await this.addOperateCart({skuId:t,curGoodsId:n,amount:a,cartScene:r,operateType:o,clickEventData:i,addedAmount:s,afterAddCartSucc:l,customizedInfoDict:c,selectedSku:u,extraAddCartOptions:d})},this.isOperateMerging=!1,(0,Iy.A)(this,"addOperateCart",dv,this),this.addCartCallback=async e=>{let{remoteData:t,addData:n,openedPopupTypes:r,originRemoteData:o,selectedSku:i}=e;if(o?.isApiError||o?.error)return void(0,A.A)("sku operateCart error",this.getBizLogOptions({e:JSON.stringify(o)}));const{skuId:s,goodsId:l}=i||this.selectedSku||{},{amount:c,operateType:u,cartScene:d,isAdd:m,clickEventData:p={page_el_sn:200061}}=n||{},{success:g}=t||{},h=d===xn.xi.BigPicture;(0,A.A)("sku operateCart "+(g?"success":"failed"),this.getBizLogOptions(g?{}:{e:JSON.stringify(t)}));const f=u===Sa.Delete;g?(this.queryShopCartInfo(),!r?.length&&!f&&c>0&&!h&&((e,t,n)=>{const r=(0,vn.A)(a.createElement(xl,(0,q.A)({goods:e,store:t},n,{onClose:()=>{r?.()}})))})(this.goods,this,{selectedSku:i,extend:{popupCoreHead:t?.toast}})):this.refreshSku();const y=g?0:2;m&&(0,ge.OS)({op:"click",cart_scene:d,cart_type:y,sku_id:s,goods_id:l,...p})},this.getBizLogOptions=e=>({tags:{page_sn:this.pageSn},fields:{hasBee:(0,sa.Ri)("_bee")?1:0,...e}}),(0,Iy.A)(this,"bannerRatio",mv,this),(0,Iy.A)(this,"galleryIndex",pv,this),(0,Iy.A)(this,"setGalleryIndex",gv,this),(0,Iy.A)(this,"modelTryOn",hv,this),this.updateModelTryOn=e=>{this.modelTryOn={...this.modelTryOn,selectUnit:e}},(0,Iy.A)(this,"queryFaqData",fv,this),this.graySceneList=["cp97166","cp145133","cp146095","cp157310","cp157312","cp147255","cp166075","cp142994","cp147195","cp143314","cp144589","cp149563","cp158269","cp166780","cp165126","cp176780","cp174289","cp178676","cp179775",...Oy.Hq,...xy.SE],(0,Iy.A)(this,"globalResizeTrigger",yv,this),(0,Iy.A)(this,"triggerGlobalResize",_v,this),(0,Iy.A)(this,"ifTriggerShaking",Ev,this),(0,Iy.A)(this,"setIfTriggerShaking",bv,this),(0,Iy.A)(this,"skuShow",Sv,this),(0,Iy.A)(this,"giftGoodsInfo",vv,this),(0,Iy.A)(this,"addGiftPick",Iv,this),(0,Iy.A)(this,"queryOrderInfo",wv,this),(0,Iy.A)(this,"isShowMarketPrice",kv,this),this.setIsShowMarketPrice=e=>{this.isShowMarketPrice=e},(0,Iy.A)(this,"report",Nv,this),(0,Iy.A)(this,"isChangeSpecBySkuSelector",Av,this),this.setIsChangeSpecBySkuSelector=e=>{this.isChangeSpecBySkuSelector=e},(0,Iy.A)(this,"isSkuSelectorCloseChange",Cv,this),(0,Iy.A)(this,"setIsSkuSelectorCloseChange",Tv,this),(0,Iy.A)(this,"sideBarPromo",xv,this),this.setSideBarPromo=e=>{this.sideBarPromo=e},(0,Iy.A)(this,"promotionCarousel",Pv,this),(0,Iy.A)(this,"bottomButtonBenefit",Rv,this),this.promotionRequestId=0,(0,Iy.A)(this,"quantitySelectorBenefit",Mv,this),this.promotionLastUniqueId="",(0,Iy.A)(this,"queryWaistBannerInit",Dv,this),(0,Iy.A)(this,"queryCollectPromotion",Bv,this),(0,Iy.A)(this,"selectLocationId",Ov,this),(0,Iy.A)(this,"initSelectLocationId",Lv,this),(0,Iy.A)(this,"updateSelectLocationId",Wv,this),(0,Iy.A)(this,"promotionUnderThePriceModule",zv,this),(0,Iy.A)(this,"promotionUnderThePriceModuleV2",Fv,this),(0,Iy.A)(this,"richTextBlockUnderThePriceModule",Uv,this),(0,Iy.A)(this,"payBenefit",Gv,this),this.querySizeRecommend=async()=>await this.$service.querySizeRecommend({goods_id:this.goodsId}),(0,Iy.A)(this,"activityInfo",Hv,this),(0,Iy.A)(this,"waistBannerFreightType",Vv,this),this.isGShoppingRobot=void 0,(0,Iy.A)(this,"commitment",jv,this),(0,Iy.A)(this,"video",qv,this),(0,Iy.A)(this,"shipping",Kv,this),this.mallDetailInfoData=null,this.isFetchingMallDetailInfo=!1,this.getMallDetailInfo=async()=>{if(this.isFetchingMallDetailInfo)return null;if(this.mallDetailInfoData)return this.mallDetailInfoData;const e=this.mall?.mallData?.mallId||this.goods.mallId;if(!e)return null;this.isFetchingMallDetailInfo=!0;const t=await this.$service.queryMallCompanyInfo({mall_id:e,is_managed_mall_id:!0,source_type:Hy.UJ.GOODS});return this.isFetchingMallDetailInfo=!1,t.success&&t.result?(this.mallDetailInfoData=t,this.mallDetailInfoData):null},this.showContentTransition=!1,this.updateShowContentTransition=e=>{this.showContentTransition=e},this.getSkuBySpecId=e=>{const{specIdStrToSkuId:t,skuInfos:n}=this.formatSkuData;return n[t[pi(e)]]||{}},(0,Ty.Gn)(this),this.shoppingCartDataListener(),this.updateFormatSkuData(),this.serverRenderTime=Date.now()}static createMetaParams(e){const{goods_id:t}=e||{};return{page_type:"g",page_id:Array.isArray(t)?t[0]:t}}get addedAmount(){const{skuId:e}=this.selectedSku||{};return this.addOrderInfoStore.isAddOrderScene||this.isSupportNewCustomized?0:this.shoppingCartSkuAmountMap?.[e]||0}get isSpecialRegion(){return["12","144"].includes(`${this.localInfo?.region}`)}get recParams(){return{mrkRec:this.query.mrk_rec,mainGoodsIds:this.goodsId?[this.goodsId]:void 0,linkUrlBypass:this.query.bottom_rec_bypass}}get hasSidebar(){return!this.addOrderInfoStore.order?.allowPurchase&&this.webLayoutData?.headerData?.sidebarLayoutSwitch&&!!this.webLayoutData?.headerData?.cartNum}get showCollectOrderBar(){return!(this.showFindSimilarBar||this.goodsSoldOut||this.addOrderInfoStore.isAddOrderScene||this.selectedSku?.sensitiveProductTip||this.goods.sensitiveProductTip)}get selectedSkuSoldOut(){const e=this.selectedSkuSpec?.length,{skuId:t,isOnsale:n}=this.selectedSku||{},{skuTypeValues:a}=this.formatSkuData||{};return!!t&&!n||!t&&e>0&&e===a?.length}get showFindSimilarBar(){return this.supportFindSimilar&&this.selectedSkuSoldOut}get moduleAfterSale(){return this.moduleMap?.servicePromiseModule?.data?.afterSale}get moduleTaxPolicy(){return this.moduleMap?.taxPolicyModule?.data?.taxPolicy}get moduleTags(){return this.moduleMap?.marketingTagModule?.data?.tag}get goodsSoldOut(){return!this.goods.isOnsale||!this.formatSkuData.skuTypeValues.length}get shopRankInfo(){return this.moduleMap?.mallModule?.data?.mallData?.shopRankInfo}get moduleMallTags(){return this.moduleMap?.mallModule?.data?.mallData?.mallTags}get moduleMallResponsibility(){return this.moduleMap?.mallModule?.data?.responsibilityDivision}get moduleMallTraderInformationEntrance(){return this.moduleMap?.mallModule?.data?.traderInformationEntrance}get bestSeller(){return this.moduleMap?.bestSellerModule?.data?.newRank}get gmtBaseParams(){const{catId1:e,catId2:t,catId3:n,catId4:a}=this.goods||{};return{item_category:"number"==typeof e?`${e}`:e,item_category2:"number"==typeof t?`${t}`:t,item_category3:"number"==typeof n?`${n}`:n,item_category4:"number"==typeof a?`${a}`:a}}initServices(e,t){const{goods_id:n}=t?.query||{},a=Array.isArray(n)?n[0]:n;this.$service=new $v(e,{requestContext:t}),this.favStore.initService(e),this.activityRecStore.initService(e),this.addSuccessStore.initService(e),this.addOrderInfoStore.initService(e),this.commonCommentStore.initService(e),this.compatibleVehiclesStore.initService(e),this.redeemPointsBtnStore.initService(e),this.footerLinkNoFollow=((0,Ry.Ay)("switches",t.__res,"")||{}).footerNofollow;const r=(0,Ry.Ay)("navLayoutConfig",t,""),o="A"===(0,Py.M6)({...r,salt:r.graySalt},a);this.extendHeaderData={...this.extendHeaderData,seoNavGray:o}}get curGoodsOptId(){return this.crumbOptList?.[this.crumbOptList?.length-1]?.optId}get fromOrderDetail(){return!!this.query?.from_order_detail}get pageAltMap(){return this.seoPageAltInfo?.pageAltMap}get seoDataPageAlt(){return this.seoPageAltInfo?.pageAlt}get showRelatedSearches(){return"shopping"===this.query?._x_ads_sub_channel||this.isRobot}getDatasource(){return[e=>{const{userInfo:t,query:n,cookies:a,__req:r,__res:o}=e,i=r?.crawlerType,{goods_id:s,parent_order_sn:l}=n,c=Array.isArray(s)?s[0]:s;this.addOrderInfoStore.updateOrderSn(l),this.localInfo=(0,Lt.ON)(e);let u="";u=e?e.userAgent||"":window.navigator.userAgent;const d=(0,h.H_)(u),m=(0,Ry.Ay)("switches",o,"")||{},p=[xn.h$.A,xn.h$.C].includes((0,Ry.Ay)("use_prefetch_size",o)||xn.h$.D);return{...(0,Gy.Ay)(e),switches:m,waitTimeUnAddCartSearch:(0,Ry.Ay)("waitTimeUnAddCartSearch",e.__res),useRiskShowDialog:!m.disableRiskDialog&&!ua()(a),useLoginRisk:!m.disableLoginRisk,isLogin:!!t,goodsId:c,isRobot:d,isGShoppingRobot:(0,My.A)(n,u),pageSn:xn.LM,crawlerType:i,usePrefetchVideo:p}},{queryIndex:{dump:!0,loader:async e=>{let t="";t=window.location.pathname,await this.queryIndex({_oak_share_url:t})}},queryReviewSeoCommonData:{dump:!0,loader:async e=>{await this.queryReviewSeoCommonData(e)}},queryBreadCrumbInfo:{dump:!0,loader:this.queryBreadCrumbInfo},queryGoogleShoppingJson:{dump:!0,loader:async e=>{let{query:t}=e;const{goods_id:n,sku_id:a}=t;if(!n||!a)return;const r=Array.isArray(n)?n[0]:n,o=await this.$service.queryGoogleShoppingJson({sku_id:a,goods_id:r});(0,Ty.h5)((()=>{this.googleShoppingJson=o?.result}))}},querySeoCategories:{dump:!0,loader:this.querySeoCategories}}]}get useSyncAddToCartInfo(){return{useSyncAddToCart:1===this.grayConfig?.cp143314?.val}}get isSEOSoldOut(){return this.goods?.status===ya.SEOSoldOut&&!this.isEmpty}get isNormalStatus(){return this.goods?.status===ya.Normal&&!this.isEmpty}async prepareClientData(){this.sendExtraEvent();const e=qy();this.query.is_back&&e||(jy?(0,hi.T)((()=>localStorage.setItem(Vy,jy))):console.error("listId is null")),this.canNotSaleTip&&((e,t)=>{const{tipButton:n,tipText:r}=t||{};if(n&&r)(0,qn.P)({store:e,popupNode:a.createElement(KE,{data:t})}).then((()=>(0,Zt.MJ)("/")))})(this,this.canNotSaleTip)}get isRegular(){return 1!==this.control.bigPictureStyle}get specStatusById(){return function(e,t){const n={},a={};return t.forEach((t=>{const{specs:n}=t;(n||[]).forEach((t=>{const{specKeyId:n,specValueId:r}=t,o={...e,[n]:r};a[`${n}${r}`]={specKeyId:n,specValueId:r,mock:o}}))})),Object.values(a).forEach((e=>{let{mock:a,specKeyId:r,specValueId:o}=e;const i=((e,t)=>{for(const n of t)if(n.isOnsale){const t={},{specs:a}=n;(a||[]).forEach((e=>{const{specKeyId:n,specValueId:a}=e;t[n]=a}));let r=!0;for(const n in e)e[n]&&t[n]!==e[n]&&(r=!1);if(r)return n.skuId}return!1})(a,t);n[r]={...n[r],[o]:i}})),n}(this.currentSpecIdSelect,this.sku)}get selectedSku(){const{specIdStrToSkuId:e,skuInfos:t}=this.formatSkuData;return t[e[pi(this.currentSpecIdSelect)]]||{}}get selectedSkuSpec(){const{formatSkuData:e,currentSpecIdSelect:t}=this;return yi({formatSkuData:e,currentSpecIdSelect:t})}get picSpecList(){const{showPictureSpecKeyId:e,skuThumbSpecKeyId:t}=this.control||{},n=e||t,{skcIdAlts:a}=this.pageAltMap||{},{specIdStr2SkuIdsMap:r,skuInfos:o}=this.formatSkuData,i=function(e){let{formatSkuData:t,specKeyId:n}=e;const{skuTypeValues:a}=t;return n?a.find((e=>e?.specKeyId===n)):null}({formatSkuData:this.formatSkuData,specKeyId:n});return i?(i.values||[]).map(((e,t)=>{const s=i.valueIds?.[t],l=`${n}${s}`,c=Array.from(r[l])?.map((e=>o?.[e])).filter((e=>!!e)),u=c?.every((e=>!e.isOnsale)),d=c?.[0],{thumbUrl:m,specShowImageUrl:p,specs:g}=d||{},{skc:h}=this.goods||{},f=h?.find((e=>e.specId===s)),{skcId:y=""}=this.goods.skc?.find((e=>{const{specId:t,specValueId:n}=e||{};return g?.some((e=>e.specValueId===t&&e.specValueId===n))||{}}))||{},_=g?.find((e=>e.specKeyId===n&&e.specValueId===s));return{imgUrl:(this.isSkc?f?.gallery?.[0]?.url:p)||m,text:e,specValueId:s,alt:a?.[y],spec:_,isAllSoldout:u,skcId:y}})):[]}get optimalSku(){const{sku:e,currentSpecIdSelect:t,formatSkuData:n,isManualChangeSpec:a,bestSkuByQuantityTip:r}=this,{showPictureSpecKeyId:o,defaultSkuId:i,stockQuantityTipThreshold:s}=this.control||{},{skuTypeValues:l}=n,{specKeyId:c}=l[l.length-1]||{};return fi({sku:e,formatSkuData:n,currentSpecIdSelect:t,selectedLastSpec:null!==t[c]&&c!==o,defaultSkuId:i,isManualChangeSpec:a,bestSkuByQuantityTip:r,stockQuantityTipThreshold:s})}get disableUnSelect(){const e={[Ca.DR.us]:"cp157310",[Ca.DR.udp]:"cp157310",[Ca.DR.eu]:"cp157312"},t=(0,Aa.xc)(this.localInfo?.region)||Ca.DR.us;return 1===this.grayConfig?.[e?.[t]]?.val}get topGalleryUrl(){const e=Array.isArray(this.query.top_gallery_url)?this.query.top_gallery_url[0]:this.query.top_gallery_url;if("string"==typeof e&&!e.includes("watermark"))return(0,m.VG)(e.split("?")[0])}initBannerRatio(){const{width:e,height:t}=this.gallery[0]||{};e&&t&&(this.bannerRatio=t/e)}get gallery(){if(this.isSkc){const e=(()=>{const e=this.goods?.skc?.[0];return this.isRobot&&e&&e.gallery?.[0]?.video?.videoUrl?e:this.selectedSkc||e||{}})(),{skcId:t="",gallery:n}=e||{},{skcIdAlts:a}=this.pageAltMap||{},r=this.goods.skc?.findIndex((e=>this.selectedSkuSpec.some((t=>t.specValueId===e.specId))),{});return n?.map(((e,n)=>({...e,alt:a?.[t],video:0===n&&0===r?this.goods?.video:null})))||[]}return this.goods.bannerList||[]}get selectedSkc(){return this.goods.skc?.find((e=>this.selectedSkuSpec.some((t=>t.specValueId===e.specId))),{})}get currentPictureSpecValueId(){const{showPictureSpecKeyId:e}=this.control||{};if(!e)return;const t=this.selectedSkuSpec.find((t=>{let{specKeyId:n}=t;return n===e}));return t?.specValueId}get originConcatGallery(){const{isSkc:e,sku:t,gallery:n,goods:a,pageAltMap:r}=this,{skuIdAlts:o}=r||{};if(e)return n;const i=(a.gallery||[]).filter((e=>e.type===fa.Spec)).map((e=>{const{specKeyId:n,specValueId:a}=e?.showTextSpecs?.[0]||{},{skuId:r,goodsId:i}=t.find((e=>e.specs?.some((e=>e.specKeyId===n&&e.specValueId===a))))||{},s=r?o?.[r]:"";return{...e,skuId:r,goodsId:i,alt:s}})).sort(((e,t)=>e.priority-t.priority));return n.concat(i)}get concatGallery(){const{originConcatGallery:e,isSkc:t,control:n}=this,{defaultSelectSpec:a}=n||{};let r=e;const{specId:o}=this.selectedSkc||{};return this.defaultGalleryIndex>0&&!this.isRobot&&(t&&a?.find((e=>e.specValueId===o))||!t)&&(r=[].concat(e[this.defaultGalleryIndex],e.slice(0,this.defaultGalleryIndex),e.slice(this.defaultGalleryIndex+1))),r}get showGalleryReview(){const{reviewData:e}=this.review||{},{featuredReviewInfo:t}=e||{};return!!t&&!!t?.reviewList?.length}get supportFindSimilar(){const{control:e,selectedSku:t}=this,{isOnsale:n}=t||{};return!!e?.findSimilar&&!n}get preOrderTip(){const{skuId:e}=this.selectedSku||{};return this.skuInfoMap[e]?.selectSkuTip}get isGiftGoods(){return!!this.giftGoodsInfo}get isGiftSupportAddOrder(){return this.control?.supportGiftAddOrder&&this.query?.parent_order_sn&&this.isGiftGoods}get skuSalePriceRichMap(){const{priceModule:e}=this.moduleMap||{};return e?.data?.skuSalePriceRichMap||{}}get skuSalePricePrefixRichMap(){const{priceModule:e}=this.moduleMap||{};return e?.data?.skuSalePricePrefixRich||{}}get skuSalePriceSuffixRichMap(){const{priceModule:e}=this.moduleMap||{};return e?.data?.skuSalePriceSuffixRich||{}}get goodsSalePriceRich(){const{priceModule:e}=this.moduleMap||{};return e?.data?.goodsSalePriceRich||{}}get skuSalePriceInfoRichMap(){const{priceModule:e}=this.moduleMap||{};return e?.data?.skuSalePriceInfoRich||{}}get promotionExtraPriceOffMap(){const{priceModule:e}=this.moduleMap||{};return e?.data?.promotionExtraPriceOffMap||{}}get selectedBenefitTags(){if(!this.selectedSku?.skuId)return null;const{specs:e}=this.selectedSku,{hotSpecList:t}=this.specCustom||{},n=e?.some((e=>{let{specKeyId:n,specValueId:a}=e;t?.some((e=>e.specKeyId===n&&e.specValueId===a))}));return(0,Km.A)({showFireIcon:n})}get customerServiceData(){const{customerServiceModule:e}=this.moduleMap||{};return e?.data?.customerServiceData||{}}get brandCardData(){const{brandCardModule:e}=this.moduleMap||{};return e?.data?.brandCard||{}}get mallBrandCard(){const{brandCardModule:e}=this.moduleMap||{};return e?.data?.mallBrandCard||{}}get isShowShareBlock(){return 1===this.moduleMap?.shareModule?.showModule}get isShowReport(){return!!this.report?.jumpUrl}get showProductWarning(){const{tips:e}=this.goods?.productWarning||{};return e?.some?.((e=>{const{richText:t,floatingLayer:n}=e||{},{entranceText:a}=n||{};return!!t?.textRich?.length||!!a?.textRich?.length}))}get similarSizeSpecData(){const{overSizeOutfit:e}=this.moduleMap?.skuSpecSelectorModule?.data||{};return e}get linePriceExplainSumerKey(){return 1===this.moduleMap?.priceModule?.control?.linePriceStyle?this.moduleMap?.priceModule?.data?.linePriceDialogContent:""}get quantityContentShow(){return this.control.detailSupportExperimentControl?.quantityContentShow}get recentlyLowestPriceNotice(){return this.moduleMap?.priceModule?.data?.lowestRecentPrice}get bestSkuByQuantityTip(){return 1===this.control.detailSupportExperimentControl?.bestSkuByQuantityTip}get shareInfo(){return this.moduleMap?.shareModule?.data?.share||{}}get isShowPayLaterV2(){const e=this.payLaterAll||{};return Object.values(e).some((e=>!!e?.firstPeriodContentList?.length))}get supportCollectBenefit(){return!this.isGiftGoods&&!this.addOrderInfoStore.isAddOrderScene&&!this.redeemPointsBtnStore.isRedeemPoints}get isShowNewSize(){return!!this.sizeSpecModule&&this.sku?.length>1}get isSupportNewCustomized(){const{skuId:e}=this.selectedSku||{};return e&&this.control?.detailSupportExperimentControl?.supportNewCustom}get isShowPayBenefit(){return!!this.payBenefit?.promotionDisplayContentList?.length}get supportSizeRecommend(){const{control:e}=this||{};return 1===e?.detailSupportExperimentControl?.supportSizeRecommend}get supportActivityAtmosphere(){return!!this?.activityInfo?.defaultActivityName}get buyNowButton(){const e=this.moduleMap?.bottomButtonModule?.data?.buyNowButton,{checkoutPageLink:t}=e||{};return t?e:null}get supportFreeShippingInWaistBanner(){return 1===this.control?.detailSupportExperimentControl?.collectOrder4FreeShipping1}get isShowAgePopup(){const{data:e,showModule:t}=this.moduleMap?.ageConfirmationPopupModule||{},{popupType:n,popupRich:a}=e?.popup||{};return t&&n===Jn.AgeVerifyPopup&&a?.textRich?.length}get soldoutPicSpecValueIds(){if(1===this.control?.detailSupportExperimentControl?.foldSoldOutColorSpec){const e=this.picSpecList?.filter((e=>e.isAllSoldout));return e?.length>=2?e:[]}return[]}get showSpecSoldoutTagV1(){return(0,Aa.xc)(this.localInfo?.region)===Ca.DR.eu?1===this.grayConfig?.cp166075?.pcShowSoldOut:1===this.grayConfig?.cp147255?.pcShowSoldOut}get showSpecSoldoutTagV2(){return(0,Aa.xc)(this.localInfo?.region)===Ca.DR.eu?2===this.grayConfig?.cp166075?.pcShowSoldOut:2===this.grayConfig?.cp147255?.pcShowSoldOut}get isGoodsDetailRecSupportU2i(){return 1===this.grayConfig?.cp166780?.val}get isEnhanceSpecStyle(){return(0,Aa.xc)(this.localInfo?.region)===Ca.DR.eu?3===this.grayConfig?.cp180501?.strengthenExp:3===this.grayConfig?.cp173855?.strengthenExp}get isEnhancedStockGroupClearanceStyle(){return 1===this.control?.detailSupportExperimentControl?.enhancedStockGroupClearanceStyle}get explicitlySelected(){const{specs:e}=this.optimalSku||{};return!!e?.every?.((e=>this.currentSpecIdSelect[e?.specKeyId]===e?.specValueId))?ls.t.ExplicitlySelected:ls.t.UnExplicitlySelected}get showGoodsDetailModuleOptimized(){return 1===this.control?.detailSupportExperimentControl?.goodsDetailModuleOptimized}get hideBottomRec(){return 1==+this.query?.hide_bottom_recommend&&!this.isRobot}get skuSoldOutToast(){const{toastModule:e}=this.moduleMap||{};return e?.data?.skuSoldOutToast}get showActivityPriceWrap(){return 3===this.control?.detailSupportExperimentControl?.activityFrameStyle}get buttonTextStyle(){return this.control?.detailSupportExperimentControl?.enhanceButtonFont||0}get titleSpecHighlight(){const{goodsDetailTitleModule:e}=this.moduleMap||{};return e?.data?.titleSpecHighlight}get isShowImgRatioExperimentV1(){return 1===this.grayConfig?.cp165126?.val&&1===this.control?.bigPictureStyle}get isShowImgRatioExperimentV2(){return 2===this.grayConfig?.cp165126?.val&&1===this.control?.bigPictureStyle}get showSizePopupParams(){return 1===this.control?.detailSupportExperimentControl?.passGroupToSizePage?{chooseGroupId:this.selectLocationId}:null}get showRankWithSale(){const{rankWithSale:e}=this.moduleMap?.bestSellerModule?.data||{},{mallTag:t}=this.moduleMap?.salesTipModule?.data||{},{category:n,bestSeller:a}=e||{},{foldReviewStar:r}=this.control?.detailSupportExperimentControl||{};return a?.textRich?.length&&n?.textRich?.length&&r&&!t?.text}get isSupportQuickMergeByFe(){return 1===this.grayConfig?.cp176780?.val}get isTimeLimitedActivitySupportQuickMerge(){return 1===this.grayConfig?.cp174289?.val}get showGalleryExperiment(){return(0,Aa.xc)(this.localInfo?.region)===Ca.DR.eu?1===this.grayConfig?.cp179775?.val:1===this.grayConfig?.cp178676?.val}},xb=(0,wy.A)(Tb.prototype,"shoppingCartSkuAmountMap",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Pb=(0,wy.A)(Tb.prototype,"pageSN",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xn.LM}}),Rb=(0,wy.A)(Tb.prototype,"sizeSpecModule",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mb=(0,wy.A)(Tb.prototype,"CartScene",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xn.xi}}),Db=(0,wy.A)(Tb.prototype,"REVIEW_TYPE",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xn.qf}}),Bb=(0,wy.A)(Tb.prototype,"trackingInfo",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xn.Sw}}),Ob=(0,wy.A)(Tb.prototype,"shoppingCartGoodsAmountMap",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Lb=(0,wy.A)(Tb.prototype,"groupOrderBenefit",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,wy.A)(Tb.prototype,"addedAmount",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"addedAmount"),Tb.prototype),Wb=(0,wy.A)(Tb.prototype,"title",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Temu"}}),zb=(0,wy.A)(Tb.prototype,"calcForCartShippingVo",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Fb=(0,wy.A)(Tb.prototype,"userRegion",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Ub=(0,wy.A)(Tb.prototype,"goodsId",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Gb=(0,wy.A)(Tb.prototype,"description",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hb=(0,wy.A)(Tb.prototype,"deliveryTag",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vb=(0,wy.A)(Tb.prototype,"moduleMap",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jb=(0,wy.A)(Tb.prototype,"matchingOutfits",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qb=(0,wy.A)(Tb.prototype,"collectPromotion",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kb=(0,wy.A)(Tb.prototype,"googleShoppingJson",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$b=(0,wy.A)(Tb.prototype,"error",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,wy.A)(Tb.prototype,"isSpecialRegion",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"isSpecialRegion"),Tb.prototype),(0,wy.A)(Tb.prototype,"recParams",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"recParams"),Tb.prototype),(0,wy.A)(Tb.prototype,"hasSidebar",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"hasSidebar"),Tb.prototype),(0,wy.A)(Tb.prototype,"showCollectOrderBar",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"showCollectOrderBar"),Tb.prototype),(0,wy.A)(Tb.prototype,"selectedSkuSoldOut",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"selectedSkuSoldOut"),Tb.prototype),(0,wy.A)(Tb.prototype,"showFindSimilarBar",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"showFindSimilarBar"),Tb.prototype),(0,wy.A)(Tb.prototype,"moduleAfterSale",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"moduleAfterSale"),Tb.prototype),(0,wy.A)(Tb.prototype,"moduleTaxPolicy",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"moduleTaxPolicy"),Tb.prototype),(0,wy.A)(Tb.prototype,"moduleTags",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"moduleTags"),Tb.prototype),(0,wy.A)(Tb.prototype,"goodsSoldOut",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"goodsSoldOut"),Tb.prototype),(0,wy.A)(Tb.prototype,"shopRankInfo",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"shopRankInfo"),Tb.prototype),(0,wy.A)(Tb.prototype,"moduleMallTags",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"moduleMallTags"),Tb.prototype),(0,wy.A)(Tb.prototype,"moduleMallResponsibility",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"moduleMallResponsibility"),Tb.prototype),(0,wy.A)(Tb.prototype,"moduleMallTraderInformationEntrance",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"moduleMallTraderInformationEntrance"),Tb.prototype),(0,wy.A)(Tb.prototype,"bestSeller",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"bestSeller"),Tb.prototype),(0,wy.A)(Tb.prototype,"gmtBaseParams",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"gmtBaseParams"),Tb.prototype),Jb=(0,wy.A)(Tb.prototype,"isFav",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Yb=(0,wy.A)(Tb.prototype,"toggleFavorite",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async()=>{if(!this.isLogin)return void this.showPopLogin();const e=this.mall.mallData||{},{mallId:t,followerNumUnit:n}=e||{},a=!this.isFav;this.isFav=a;const r=await this.$service.queryMallFav({is_favorite:a,mall_id:t,follower_num_unit:n||["0","Followers"]}),{result:o}=r||{},{favoriteResult:i,followerNumUnit:s,followedShopsGuideTips:l,followedShopsGuideType:c,followedShopsGuideImage:u,followedShopsGuideTitle:d}=o||{};(0,Ty.h5)((()=>{if(!i)return this.isFav=!a,(0,ds.A)((0,Zo.t)("store.operationFailedToast",{ns:"goods"}));this.mall={...this.mall,mallData:{...this.mall?.mallData||{},followerNumUnit:s}},1===c&&u?(0,Fy.y)({followedShopsGuideTitle:d,followedShopsGuideImage:u,followedShopsGuideTips:l}):l&&Fa.A.success(l)}))}}}),Qb=(0,wy.A)(Tb.prototype,"optId",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 62}}),Xb=(0,wy.A)(Tb.prototype,"optLevel",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),Zb=(0,wy.A)(Tb.prototype,"crumbOptList",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),(0,wy.A)(Tb.prototype,"curGoodsOptId",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"curGoodsOptId"),Tb.prototype),eS=(0,wy.A)(Tb.prototype,"supportTouch",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),tS=(0,wy.A)(Tb.prototype,"queryBreadCrumbInfo",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async()=>{if(!this.goodsId)return;const e=await this.$service.queryBreadCrumbInfo({list_id:`pc_crumb_list_${(0,mn.A)(6)}`,pageSn:xn.LM,offset:0,page_size:-1,mainGoodsId:this.goodsId,scene:"pc_crumb_list",useRiskShowDialog:this.useRiskShowDialog,useLoginRisk:this.useLoginRisk});(0,Ty.h5)((()=>{e?.error&&(this.error=e.error);const{crumbOptList:t}=e?.result||{};this.crumbOptList=t||[]}))}}}),nS=(0,wy.A)(Tb.prototype,"query",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),aS=(0,wy.A)(Tb.prototype,"relatedSearches",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rS=(0,wy.A)(Tb.prototype,"seoPageAltInfo",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oS=(0,wy.A)(Tb.prototype,"showGoodsDetailLongDesc",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),iS=(0,wy.A)(Tb.prototype,"seoImgUrlMap",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,wy.A)(Tb.prototype,"pageAltMap",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"pageAltMap"),Tb.prototype),(0,wy.A)(Tb.prototype,"seoDataPageAlt",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"seoDataPageAlt"),Tb.prototype),(0,wy.A)(Tb.prototype,"showRelatedSearches",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"showRelatedSearches"),Tb.prototype),sS=(0,wy.A)(Tb.prototype,"countryIndexMap",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lS=(0,wy.A)(Tb.prototype,"queryReviewSeoCommonData",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{if(!this.goodsId)return;let t="";t=window.location.pathname;const n={page_id:this.goodsId,page_type:"g",biz_scenes:["reviews_entrance","seo_page_alt_info","goods_detail_bottom_recommend_goods_control","seo_trace_url_args","hidden_multi_country_index"],origin_url:t};this.showRelatedSearches&&(n.related_searches_request={page_type:"g",page_id:this.goodsId,trigger_id:this.goodsId,scene:"related_searches",tag_num:16,request_params:{_x_ads_sub_channel:this.query?._x_ads_sub_channel||null}},n.biz_scenes.push("related_searches")),this.isRobot&&n.biz_scenes.push("seo_img_url");const a=await this.$service.queryReviewSeoCommonData(n),{relatedSearches:r,seoPageAltInfo:o,countryIndexMap:i,showGoodsDetailLongDesc:s,seoImgUrlList:l}=a?.result||{};(0,Ty.h5)((()=>{this.relatedSearches=r,this.seoPageAltInfo=o,this.countryIndexMap=i,this.showGoodsDetailLongDesc=s,this.seoImgUrlMap=l?.reduce(((e,t)=>(t?.seoUrl&&t?.originUrl&&(e[t.originUrl]=t.seoUrl),e)),{})}))}}}),cS=(0,wy.A)(Tb.prototype,"seoCategories",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uS=(0,wy.A)(Tb.prototype,"querySeoCategories",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{if(this.isRobot&&"shopping"!==this.query._x_ads_sub_channel){const{__req:t}=e||{};let n=t?.headers?.["x-origin-uri"];n=window.location.pathname;const a=await this.$service.querySeoCategories({page_id:this.query.goods_id,page_type:"g",tag_num:6,origin_url:n});(0,Ty.h5)((()=>{this.seoCategories=a?.result?.tagList||[]}))}}}}),(0,wy.A)(Tb.prototype,"isSEOSoldOut",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"isSEOSoldOut"),Tb.prototype),(0,wy.A)(Tb.prototype,"isNormalStatus",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"isNormalStatus"),Tb.prototype),dS=(0,wy.A)(Tb.prototype,"isEmpty",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),mS=(0,wy.A)(Tb.prototype,"afterSale",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),pS=(0,wy.A)(Tb.prototype,"delivery",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),gS=(0,wy.A)(Tb.prototype,"control",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),hS=(0,wy.A)(Tb.prototype,"rank",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fS=(0,wy.A)(Tb.prototype,"goods",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),yS=(0,wy.A)(Tb.prototype,"custom",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),_S=(0,wy.A)(Tb.prototype,"guarantee",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ES=(0,wy.A)(Tb.prototype,"mall",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),bS=(0,wy.A)(Tb.prototype,"payLater",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),SS=(0,wy.A)(Tb.prototype,"payLaterAll",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),vS=(0,wy.A)(Tb.prototype,"payLaterPricePos",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{offsetLeft:0,offsetWidth:0,parentWidth:0}}}),IS=(0,wy.A)(Tb.prototype,"setPayLaterPricePos",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.payLaterPricePos=e}}}),wS=(0,wy.A)(Tb.prototype,"serverTime",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Math.ceil(Date.now()/1e3)}}),kS=(0,wy.A)(Tb.prototype,"sizeGuide",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),NS=(0,wy.A)(Tb.prototype,"sku",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),AS=(0,wy.A)(Tb.prototype,"waistBanner",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),CS=(0,wy.A)(Tb.prototype,"review",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),TS=(0,wy.A)(Tb.prototype,"specCustom",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xS=(0,wy.A)(Tb.prototype,"isSupportTouch",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),PS=(0,wy.A)(Tb.prototype,"addCartBenefitRich",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),RS=(0,wy.A)(Tb.prototype,"addCartBenefitRichBlack",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),MS=(0,wy.A)(Tb.prototype,"buyNowBenefitRich",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),DS=(0,wy.A)(Tb.prototype,"resetBuyNowBenefitRich",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.buyNowBenefitRich={}}}}),BS=(0,wy.A)(Tb.prototype,"defaultGalleryIndex",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),OS=(0,wy.A)(Tb.prototype,"initGalleryIndex",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const e=(()=>{if(this.selectedSku&&this.selectedSku.galleryId&&this.sku?.length>1)return this.originConcatGallery.findIndex((e=>e.id===this.selectedSku.galleryId));if(this.topGalleryUrl){const e=(0,Sr.Nw)(this.topGalleryUrl);return this.originConcatGallery.findIndex((t=>(0,Sr.Nw)(t.url)===e))}return-1})();e>=0&&(this.defaultGalleryIndex=e)}}}),LS=(0,wy.A)(Tb.prototype,"goodsSection",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vy}}),WS=(0,wy.A)(Tb.prototype,"initProductDetail",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{e?.floorList?.length&&(this.productDetailFlatList=e.floorList?.reduce(((e,t)=>{let{items:n,type:a}=t;const r=e.length;return[ea.video,ea.img].includes(a)?(n=n||[],n?.forEach(((e,t)=>{e&&(e.index=r+t,e?.video?.videoUrl&&(e.videoUrl=e.video.videoUrl))})),e.push(...n),e):e}),[])),this.productDetail=e}}}),zS=(0,wy.A)(Tb.prototype,"productDetailFlatList",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),FS=(0,wy.A)(Tb.prototype,"productDetail",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),US=(0,wy.A)(Tb.prototype,"expParams",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),GS=(0,wy.A)(Tb.prototype,"initReviewStoreData",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{const{reviewData:n}=e||{},{expParams:a}=n||{};this.expParams=a,this.reviewStore.initDataAction(n,t)}}}),HS=(0,wy.A)(Tb.prototype,"queryIndex",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.goodsId)return;const n={...e.getQueryIndexParams(),...t,useRiskShowDialog:e.useRiskShowDialog,useLoginRisk:e.useLoginRisk},a=await e.$service.queryIndex(n),{order:r,...o}=a||{};(0,Ty.h5)((()=>{Yv.forEach((t=>{const n=o[t];null!=n&&(e[t]=n)})),e.updateFormatSkuData(),e.goodsSection=(e=>{let t;return e?.length&&(t=e.reduce(((e,t)=>(t?.sectionId&&(e[t.sectionId]=t.sectionId),e)),{})),ua()(t)?vy:t})(e.sectionList),e.initProductDetail(o?.productDetail),e.addOrderInfoStore.initData(r),e.initReviewStoreData(o?.review,!1),e.initCurrentSpecIdSelect(),e.initSelectLocationId(),e.initBannerRatio(),e.initGalleryIndex(),e.initSkuInfo(o),e.initGoodsProperty(),e.favStore.initDataAction({goodsId:e.goodsId,initIsFav:!!e.goods.inWishlist,supportWish:e.control?.supportExperimentControl?.supportWish||0});const{errorCode:t}=a?.error||{};t===_a.NotExist&&(e.isEmpty=!0),e.isRobot&&t===_a.Limit&&(e.isMetaRefresh=!0),e.isFav=!!e?.mall?.mallData?.favorite,e.isRobot||(e.preloadFirstImgList=e.concatGallery?.map((e=>{let{url:t}=e;return t}))||[])}))}}}),VS=(0,wy.A)(Tb.prototype,"initSkuInfo",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{skuInfos:t}=this.formatSkuData,n=Object.keys(t).reduce(((e,n)=>(e[n]={loading:!1,loaded:!1,control:t[n]?.control},e)),{});this.skuInfoMap={...n,...this.skuInfoMap};const a={};if(this.isEnhancedStockGroupClearanceStyle){const{forExplicitlySelected:e}=this.activityInfo?.defaultSkuActivityInfo||{};this.activityInfo.defaultSkuActivityInfo&&void 0!==e&&bs(e)&&(a.skuActivityInfo={[e]:this.activityInfo.defaultSkuActivityInfo})}if(this.control?.defaultSkuId&&this.skuInfoMap[this.control.defaultSkuId]){const t=this.skuInfoMap[this.control.defaultSkuId]||{};this.skuInfoMap[this.control.defaultSkuId]={...t,selectSkuTip:e?.selectSkuTip,delivery:e?.delivery,skuSalePriceTipRich:this.moduleMap?.priceModule?.data?.skuSalePriceTipRich?.[this.control.defaultSkuId]||[],...a}}}}}),jS=(0,wy.A)(Tb.prototype,"goodsProperty",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),qS=(0,wy.A)(Tb.prototype,"goodsEnhanceProperty",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),KS=(0,wy.A)(Tb.prototype,"initGoodsProperty",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const e=this.goods?.goodsProperty,t=this.goods?.goodsPropertyPrefer,n=[],a=[];if(Array.isArray(e)){if(e.forEach((e=>{1===e?.enhanceDisplay&&e?.enhanceIcon?n.push(e):a.push(e)})),3===n?.length)return this.goodsEnhanceProperty=n,void(this.goodsProperty=t?.length?Ei(t,a):a);this.goodsProperty=t?.length?Ei(t,e):e}}}}),$S=(0,wy.A)(Tb.prototype,"refreshSku",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async()=>{const e=this.$service.refreshIndex(this.getQueryIndexParams()),t=await e;(0,Ty.h5)((()=>{t.sku&&(this.sku=t.sku,this.updateFormatSkuData())}))}}}),JS=(0,wy.A)(Tb.prototype,"queryShopCartInfo",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async()=>{const e=await this.$service.queryShopCartInfo({shipping_scene:2,pageSn:xn.LM});return(0,Ty.h5)((()=>{this.calcForCartShippingVo=e.result?.calcForCartShippingVo||{}})),e}}}),YS=(0,wy.A)(Tb.prototype,"isManualChangeSpec",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),QS=(0,wy.A)(Tb.prototype,"skuInfoMap",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),XS=(0,wy.A)(Tb.prototype,"goodsExt",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ZS=(0,wy.A)(Tb.prototype,"querySkuInfo",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{useCache:!0};const{optimalSku:n,skuInfoMap:a,qty:r,isEnhancedStockGroupClearanceStyle:o}=e,{skuId:i,skuExt:s,goodsId:l}=n||{},c=a[i];if(!i)return;if((()=>{if(!t?.useCache)return!1;if(o){const{skuActivityInfo:e,skuSalePricePrefixInfoRich:n,skuSalePriceSuffixRich:a,skuSalePriceInfoRich:r}=c||{},o=[n,a,r].every((e=>!!e?.length));return!(!e?.[t?.explicitly_selected]&&!e?.[ls.t.All]||!o)}return!(!c.loading&&!c.loaded)})())return;e.querySkuInfoReqId++;const u=e.querySkuInfoReqId,d=await e.$service.querySkuInfo({goods_id:l,sku_id:i,sku_ext:s,select_address:{address_snapshot_id:e.query?.address_snapshot_id,address_snapshot_sn:e.query?.address_snapshot_sn},goods_ext:e.goodsExt,scene:ka.GoodsDetail,sku_count:e.selectedSku?.skuId&&e.originShoppingCartSkuAmountMap?.[i]||r,_oak_show_what_rrp:1,_oak_support_hire_purchase_tag:1,...t});d&&u===e.querySkuInfoReqId&&(0,Ty.h5)((()=>{const e=d.delivery,n=d.selectSkuTip||null;c.selectSkuTip=n,c.control=d.control;const{skuSalePriceInfoRich:a,skuSalePriceTipRich:r,skuSalePricePrefixInfoRich:s,skuSalePriceSuffixRich:l}=d.priceModule||{};if(c.skuSalePricePrefixInfoRich=s||[],c.skuSalePriceSuffixRich=l||[],c.skuSalePriceInfoRich=a||[],o){const{forExplicitlySelected:e}=d.skuActivityInfo||{},n=e===t.explicitly_selected?e:ls.t.All,a=bs(e)&&d.skuActivityInfo?d.skuActivityInfo:null;c.skuActivityInfo={...c.skuActivityInfo,[n]:a}}e&&(c.delivery=e),d.deliveryTag&&(c.deliveryTag=d.deliveryTag),i&&(c.skuSalePriceTipRich=r||[]),d?.error||(c.loaded=!0)}))}}}),ev=(0,wy.A)(Tb.prototype,"refreshIndex",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async()=>{const e=this.$service.refreshIndex(this.getQueryIndexParams()),t=await e;(0,Ty.h5)((()=>{this.updateFormatSkuData(),this.addOrderInfoStore.initData(t?.order),this.favStore.updateIsFavRecord(!!t?.goods?.inWishlist)}))}}}),tv=(0,wy.A)(Tb.prototype,"recomendLoaded",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),nv=(0,wy.A)(Tb.prototype,"recommendGoodsList",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),av=(0,wy.A)(Tb.prototype,"recomendHasMore",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),rv=(0,wy.A)(Tb.prototype,"recomendTitle",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ov=(0,wy.A)(Tb.prototype,"loadRecommendData",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{const{offset:t}=this,n=e?void 0:-1,a=this.isRobot?xn.l_/2:this.pageSize,r=this.isRobot,o=Ky(!!this.query?.is_back&&!r),i={listId:e?`${o}_sold_out_similar`:`${o}_recommend`,pageSn:xn.LM,pageElSn:e?200970:200444,source:10016,offset:t,optId:n,pageSize:a,pageListId:this.pageListId,scene:e?xn.Oe.SOLD_OUT:this.isGoodsDetailRecSupportU2i?xn.Oe.NORMAL4U2i:xn.Oe.NORMAL,optType:e?void 0:2,...this.recParams},s=await this.$service.loadRecommendData(i,r),{result:l,success:c}=s;if(!c)return(0,Ty.h5)((()=>{this.recomendLoaded=!0})),(0,Ly.y)({page:"load recommend fail",goods_id:this.goodsId,sold_out:e?1:0}),1;(0,Ty.h5)((()=>{this.recomendLoaded=!0,this.recomendHasMore=l.hasMore;const{res:e}=(0,Sr.k6)({data:l.goodsList||[],scene:"similarAndMallRecommend",filter:(e,t)=>t?.filter((t=>(0,Sr.yQ)(e,t?.data)))});this.recommendGoodsList=this.recommendGoodsList.concat(e||[]),this.recomendTitle=l.title,this.offset=this.recommendGoodsList.length,this.pageSize=l?.controlParam?.pageSize||xn.l_}))}}}),(0,wy.A)(Tb.prototype,"isRegular",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"isRegular"),Tb.prototype),(0,wy.A)(Tb.prototype,"specStatusById",[Ty.EW,Jv],Object.getOwnPropertyDescriptor(Tb.prototype,"specStatusById"),Tb.prototype),(0,wy.A)(Tb.prototype,"selectedSku",[Ty.EW,Jv],Object.getOwnPropertyDescriptor(Tb.prototype,"selectedSku"),Tb.prototype),(0,wy.A)(Tb.prototype,"selectedSkuSpec",[Ty.EW,Jv],Object.getOwnPropertyDescriptor(Tb.prototype,"selectedSkuSpec"),Tb.prototype),(0,wy.A)(Tb.prototype,"picSpecList",[Ty.EW,Jv],Object.getOwnPropertyDescriptor(Tb.prototype,"picSpecList"),Tb.prototype),(0,wy.A)(Tb.prototype,"optimalSku",[Ty.EW,Jv],Object.getOwnPropertyDescriptor(Tb.prototype,"optimalSku"),Tb.prototype),iv=(0,wy.A)(Tb.prototype,"currentSpecIdSelect",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),sv=(0,wy.A)(Tb.prototype,"setCurrentSpecIdSelect",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const t="function"==typeof e?e(this.currentSpecIdSelect):e;if(this.currentSpecIdSelect=t,this.selectedSkuSpec?.length&&this.optimalSku?.galleryId){const e=this.concatGallery.findIndex((e=>e.id===this.optimalSku.galleryId));e>=0&&this.setGalleryIndex(e)}this.selectedSkuSpec?.length===this.sku[0]?.specs?.length&&ua()(this.selectedSku)&&(0,D.fL)(new Error(`sku find by specIdHashToSkuId error ${JSON.stringify(this.selectedSkuSpec||{})}`),{error_message:"sku find by specIdHashToSkuId error"})}}}),(0,wy.A)(Tb.prototype,"disableUnSelect",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"disableUnSelect"),Tb.prototype),lv=(0,wy.A)(Tb.prototype,"handleSpecChangedById",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t,n)=>{this.setCurrentSpecIdSelect((n=>{const a=this.specStatusById?.[e]?.[t];if(!this.control.findSimilar&&!a){const a={};return this.sku.filter((e=>!!e.isOnsale)).some((n=>{let{specs:r}=n;const o=r?.some((n=>{let{specKeyId:a,specValueId:r}=n;return e===a&&t===r}));return!!o&&(r?.forEach((e=>{let{specKeyId:t="",specValueId:n}=e;a[t]=n})),!0)})),ua()(a)?n:a}const r=n[e]===t,o=this.isSkc&&e===this.control?.showPictureSpecKeyId||this.disableUnSelect;return{...n,[e]:!r||o?t:null}})),this.isManualChangeSpec=!0,n&&(0,ge.E0)({...n,sku_id:this.selectedSku?.skuId}),(0,A.A)("chooseSpecItem",{fields:{data:JSON.stringify({specKeyId:e,specValueId:t,sku_id:this.selectedSku?.skuId||0})}})}}}),cv=(0,wy.A)(Tb.prototype,"qty",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),uv=(0,wy.A)(Tb.prototype,"setQty",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.qty=e}}}),dv=(0,wy.A)(Tb.prototype,"addOperateCart",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{let{skuId:t,curGoodsId:n,amount:a,cartScene:r,operateType:o,clickEventData:i,addedAmount:s,afterAddCartSucc:l,customizedInfoDict:c,selectedSku:u,extraAddCartOptions:d}=e;const m="number"==typeof s?s:this.addedAmount,p=o===Sa.Delete,g=p?0:m+Number(a),{customizedSnapshots:h,customizedOperateType:f=1,customizedText:y}=c?.optCustomizedInfo||{},_={pageSn:xn.LM,goodsId:n||this.goodsId,skuId:t,fromNum:m,num:g,operateType:_i({num:g,fromNum:m,operateType:o}),cartDataType:1,extraMap:{...(0,xn.bv)(this.query)},pageElSn:214972,clientCartScene:`${r}`,addSuccToastType:1,customizedInfo:c?.optCustomizedInfo?{customizedSnapshots:h?.length?(0,Ol.qi)(h):void 0,customizedOperateType:f,customizedText:h?.length?void 0:y}:null},E=++this.addCartRequestId,b=g-m,S=this.sku.find((e=>e.skuId===t))?.normalPriceStr,v=e=>{const{success:n,reason:s,remoteData:c,openedPopupTypes:d,originRemoteData:m}=e||{};if(this.isOperateMerging=!1,!n&&s===Dy.U.MERGED_UNCHANGED||E!==this.addCartRequestId||!c)return;(0,Ty.h5)((()=>{this.setSideBarPromo({pcSideBarPromo:c?.pcSideBarPromo})}));const p={remoteData:c,addData:{amount:a,operateType:o,cartScene:r,clickEventData:{...i,sku_id:t,sku_number:b,sku_price:S},isAdd:b>0},selectedSku:u,openedPopupTypes:d,originRemoteData:m};this.addCartCallback(p),c?.success&&l?.()},I=r===xn.xi.BigPicture;this.useSyncAddToCartInfo.useSyncAddToCart&&this.updateSkuAmountMap({...this.shoppingCartSkuAmountMap,[t]:g});const w=await(0,By.A)(_,{ifForbidToast:e=>{let{openedPopupTypes:t,remoteData:n}=e;return n?.success&&!t?.length&&!p&&!I&&Number(a)>0},asyncCallback:v,syncCallback:v,isSync:this.useSyncAddToCartInfo.useSyncAddToCart&&!m,...d});if(!w)return null;const{success:k,fakeOperatedData:N,reason:A}=w;let C=g;if(k&&N&&A===Dy.U.OPERATION_MERGED){this.isOperateMerging=!0;const{num:e}=N;C=e}else this.isOperateMerging=!1;this.updateSkuAmountMap({...this.shoppingCartSkuAmountMap,[t]:C})}}}),(0,wy.A)(Tb.prototype,"topGalleryUrl",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"topGalleryUrl"),Tb.prototype),mv=(0,wy.A)(Tb.prototype,"bannerRatio",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),pv=(0,wy.A)(Tb.prototype,"galleryIndex",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),gv=(0,wy.A)(Tb.prototype,"setGalleryIndex",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.galleryIndex===e||e<0||e>this.concatGallery.length-1&&!this.showGalleryReview||(this.galleryIndex=e)}}}),(0,wy.A)(Tb.prototype,"gallery",[Ty.EW,Jv],Object.getOwnPropertyDescriptor(Tb.prototype,"gallery"),Tb.prototype),(0,wy.A)(Tb.prototype,"selectedSkc",[Ty.EW,Jv],Object.getOwnPropertyDescriptor(Tb.prototype,"selectedSkc"),Tb.prototype),(0,wy.A)(Tb.prototype,"currentPictureSpecValueId",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"currentPictureSpecValueId"),Tb.prototype),(0,wy.A)(Tb.prototype,"originConcatGallery",[Ty.EW,Jv],Object.getOwnPropertyDescriptor(Tb.prototype,"originConcatGallery"),Tb.prototype),(0,wy.A)(Tb.prototype,"concatGallery",[Ty.EW,Jv],Object.getOwnPropertyDescriptor(Tb.prototype,"concatGallery"),Tb.prototype),(0,wy.A)(Tb.prototype,"supportFindSimilar",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"supportFindSimilar"),Tb.prototype),(0,wy.A)(Tb.prototype,"preOrderTip",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"preOrderTip"),Tb.prototype),hv=(0,wy.A)(Tb.prototype,"modelTryOn",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),fv=(0,wy.A)(Tb.prototype,"queryFaqData",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async()=>await this.$service.queryFaqData({page:1,size:10})}}),yv=(0,wy.A)(Tb.prototype,"globalResizeTrigger",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_v=(0,wy.A)(Tb.prototype,"triggerGlobalResize",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.globalResizeTrigger+=1}}}),Ev=(0,wy.A)(Tb.prototype,"ifTriggerShaking",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bv=(0,wy.A)(Tb.prototype,"setIfTriggerShaking",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.ifTriggerShaking=e}}}),Sv=(0,wy.A)(Tb.prototype,"skuShow",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{let{addType:t=xn.H$.addCart,cartScene:n=xn.xi.MainGoods,needInitCheckSpec:a=!1,pageSource:r,beforeShow:o=Sr.lQ,autoAddSingleSku:i=!0,directAddGoodsId:s,directAddSkuId:l,currentSpecIdSelect:c,isAutoShowToast:u=!0,defaultGoodsNumber:d,needSyncSpecInfo:m,defaultSkuId:p,frontControl:g,onSkuShow:h,trackingInfo:f}=e;const{goods:y,selectedSku:_,buyNowButtonStore:E,addOrderInfoStore:b,formatSkuData:S}=this,{orderSn:v,promotionDefaultDesc:I,isGoodsAddOrderAB:w,afterAddToOrder:k,addOrderSkuCallback:N,order:C}=b,{buyNowCallback:T}=E,{refer_p_rec:x,refer_p_search:P}=this.query,{goodsId:R}=y||{},M=t===xn.H$.addOrder,D=t===xn.H$.buyNow,B=(()=>{if(M)return C?.buttonDesc||(0,Zo.t)("main_detail.btnAllowPurchaseText",{ns:"goods"})})(),O=!M&&!w,L=[];this.showGalleryExperiment&&L.push("concatGallery","galleryIndex");const W=Cy()({...Ny()(this,[...Yv,"isManualChangeSpec",...L]),...Ny()(this.addOrderInfoStore,Qv)});if(W)if(W.control=W.skuControl,W.isChangeSpec=W.isManualChangeSpec,D){if(l)return void T({goodsId:R,skuId:l,goodsNumber:d,clickEventData:f});W.bottomButtonSection={buttonList:[{type:7}]}}else 2===g?.supportBuyNowSkuMultiButton&&(W.bottomButtonSection={buttonList:[{type:8},{type:7}]});Ds.hb.show({imprEventData:f,clickEventData:f,actionType:M?_l.QO.ADD_TO_ORDER:D?_l.QO.COMMON:_l.QO.ADD_TO_CART,notAutoClose:M,pageSn:xn.LM,params:{goods_id:R||this.goodsId,_oak_sku_id:_?.skuId,_oak_page_source:r},isRemote:!1,mainData:W,beforeShow:o,onSkuShow:h,grayConfig:this.grayConfig,parentOrderSn:v,promotionDefaultDesc:I,showAdded:O,addCart:!0,...(()=>{const e={...c||this.currentSpecIdSelect},{sizeGuideSpecKeyId:t="",detailSupportExperimentControl:n}=this.control||{};this.optimalSku?.isOnsale&&1===n?.skuPanelDefaultSelect&&this.optimalSku?.specs?.filter((e=>e.specKeyId!==t))?.forEach((t=>{const{specKeyId:n,specValueId:a}=t||{};e[n]||(e[n]=a)}));return{defaultSelectSpecs:yi({formatSkuData:S,currentSpecIdSelect:e})}})(),frontControl:g,cartScene:n,defaultSkuId:p,defaultGoodsNumber:d,initSkuAmountMap:this.shoppingCartSkuAmountMap,hideAllDetailsEntry:!0,confirmContent:B,needInitCheckSpec:a,onChangeSizeUnit:this.updateModelTryOn,directAddGoodsId:s,directAddSkuId:l,hideAddOrderList:!(M&&w||1===C?.parentOrder?.addPurchaseShowCloseTimeExperimentVo?.styleVersion),addCartWithAddOrder:!M&&w,isAutoShowToast:u,skuInfoParams:{skuInfoScene:ka.DefaultSkuSelector},userCloseCallback:e=>{let{currentSpecIdSelect:t,qty:n,isChangeSpec:r,selectLocationId:o}=e;o&&this.updateSelectLocationId(o),a&&((r||m)&&this.setCurrentSpecIdSelect(t||{}),this.setQty(n||1),this.setIfTriggerShaking(!0),this.setIsChangeSpecBySkuSelector(r),this.setIsSkuSelectorCloseChange())},afterAddToOrder:k,autoAddSingleSku:i,recExtraData:{refer_p_rec:x,refer_p_search:P},callback:e=>{const{addCartRes:t,error:n}=e;return M?n?((0,A.A)("addOrderCbError",{fields:{data:JSON.stringify(n)}}),void Fa.A.error((0,Zo.t)("main_gallery.oneClickPayFailToast",{ns:"goods"}))):void N(e):n?(0,_l.Ku)(n):void 0}})}}}),vv=(0,wy.A)(Tb.prototype,"giftGoodsInfo",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,wy.A)(Tb.prototype,"isGiftGoods",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"isGiftGoods"),Tb.prototype),Iv=(0,wy.A)(Tb.prototype,"addGiftPick",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async()=>{const e=await this.$service.giftPick({pick_goods:[{pick_mall_id:this.goods?.mallId,pick_goods_id:this.goods?.goodsId,pick_sku_id:this.selectedSku?.skuId,event_sn:this.query._oak_activity_sn}]});if(1===e?.pickedStatus){const t=await this.$service.queryPromotionInfo({page_sn:this.pageSn,promotion:this.query.promotion,promotion_source:2});return t?.result?.freeGiftInfoVo?((0,A.A)("AddGiftPickSuccess",{groupId:"90647"}),{...t.result.freeGiftInfoVo,pickedText:e.pickedText}):void(0,A.A)("AddGiftPickException",{groupId:"90647",fields:{data:JSON.stringify(e)}})}if(e?.pickedText)return(0,A.A)("AddGiftPickError",{groupId:"90647"}),void Fa.A.error(e.pickedText);(0,A.A)("AddGiftPickException",{groupId:"90647",fields:{data:JSON.stringify(e)}})}}}),wv=(0,wy.A)(Tb.prototype,"queryOrderInfo",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async()=>{const{parent_order_sn:e}=this.query||{};if(!e)return null;const t={query_sn:e,page_from:200,refer_page_sn:xn.LM};return await this.$service.queryOrderInfo(t)}}}),(0,wy.A)(Tb.prototype,"skuSalePriceRichMap",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"skuSalePriceRichMap"),Tb.prototype),(0,wy.A)(Tb.prototype,"skuSalePricePrefixRichMap",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"skuSalePricePrefixRichMap"),Tb.prototype),(0,wy.A)(Tb.prototype,"skuSalePriceSuffixRichMap",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"skuSalePriceSuffixRichMap"),Tb.prototype),(0,wy.A)(Tb.prototype,"goodsSalePriceRich",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"goodsSalePriceRich"),Tb.prototype),(0,wy.A)(Tb.prototype,"skuSalePriceInfoRichMap",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"skuSalePriceInfoRichMap"),Tb.prototype),(0,wy.A)(Tb.prototype,"promotionExtraPriceOffMap",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"promotionExtraPriceOffMap"),Tb.prototype),(0,wy.A)(Tb.prototype,"selectedBenefitTags",[Ty.EW,Jv],Object.getOwnPropertyDescriptor(Tb.prototype,"selectedBenefitTags"),Tb.prototype),(0,wy.A)(Tb.prototype,"customerServiceData",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"customerServiceData"),Tb.prototype),(0,wy.A)(Tb.prototype,"brandCardData",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"brandCardData"),Tb.prototype),(0,wy.A)(Tb.prototype,"mallBrandCard",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"mallBrandCard"),Tb.prototype),(0,wy.A)(Tb.prototype,"isShowShareBlock",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"isShowShareBlock"),Tb.prototype),kv=(0,wy.A)(Tb.prototype,"isShowMarketPrice",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Nv=(0,wy.A)(Tb.prototype,"report",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,wy.A)(Tb.prototype,"isShowReport",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"isShowReport"),Tb.prototype),Av=(0,wy.A)(Tb.prototype,"isChangeSpecBySkuSelector",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Cv=(0,wy.A)(Tb.prototype,"isSkuSelectorCloseChange",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Tv=(0,wy.A)(Tb.prototype,"setIsSkuSelectorCloseChange",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.isSkuSelectorCloseChange++}}}),xv=(0,wy.A)(Tb.prototype,"sideBarPromo",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Pv=(0,wy.A)(Tb.prototype,"promotionCarousel",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Rv=(0,wy.A)(Tb.prototype,"bottomButtonBenefit",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Mv=(0,wy.A)(Tb.prototype,"quantitySelectorBenefit",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Dv=(0,wy.A)(Tb.prototype,"queryWaistBannerInit",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Bv=(0,wy.A)(Tb.prototype,"queryCollectPromotion",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.isGShoppingRobot)return{};const a=`${t?.sku_id||e.optimalSku?.skuId}-${e.qty||1}`;if(e.promotionLastUniqueId===a&&!n)return{};e.promotionLastUniqueId=a;const r=++e.promotionRequestId;let o={};const{buyNowInstallmentBenefit:i}=e.control?.detailSupportExperimentControl||{};e.buyNowButton&&(o={need_buy_now_benefit:1,buy_now_quantity:e.addedAmount||e.qty||1,need_buy_now_installment_benefit:i?1:0});const s=1===e.control?.detailSupportExperimentControl?.skuRefreshWaistBanner,l={last_best_collect_promotion_id_list:e.lastBestCollectPromotionIdList,goods_id:e.goodsId,need_waist_banner:s?1:0,scene:0,need_complete_order_benefits:1,need_add_cart_stock_tag:1,goods_ext:e.goodsExt,sku_id:e.optimalSku?.skuId,need_quantity_selector_benefits:e.quantitySelectorBenefit?0:1,need_add_cart_benefits:e.control?.detailSupportExperimentControl?.supportAddCartBenefits?1:0,sku_ext:e.optimalSku?.skuExt,sku_change_status:(()=>{const{skuId:t}=e.optimalSku||{},n=e.originShoppingCartSkuAmountMap?.[t]||0,a=e.prevShoppingCartSkuAmountMap?.[t]||0;return n>a?1:n<a?2:0})(),need_black_add_cart_benefits:e.buyNowButton?1:0,...o,...t},{collectPromotion:c,error:u,lastBestCollectPromotionIdList:d,progressShow:m,cartLink:p,carousel:g,quantitySelectorBenefit:h,addCartBenefit:f,waistBanner:y,waistBannerFreightType:_,bottomButtonBenefit:E}=await e.$service.queryCollectOrderInfo(l),{addCartBenefitRich:b,addCartBenefitRichBlack:S,buyNowBenefitRich:v}=f||{};return e.addCartBenefitRich&&l.sku_id&&(e.addCartBenefitRich[l.sku_id]=b?.[l.sku_id]||null),e.addCartBenefitRichBlack&&l.sku_id&&(e.addCartBenefitRichBlack[l.sku_id]=S?.[l.sku_id]||null),e.buyNowBenefitRich&&l.sku_id&&(e.buyNowBenefitRich[l.sku_id]=v?.[l.sku_id]||null),e.quantitySelectorBenefit||(e.quantitySelectorBenefit=h),s&&(e.queryWaistBannerInit=!0,e.waistBanner=y),r!==e.promotionRequestId||u||(e.collectPromotion={...c,progressShow:m,cartLink:p},e.lastBestCollectPromotionIdList=d,e.promotionCarousel=g,e.waistBannerFreightType=_,e.bottomButtonBenefit=E),u?(e.promotionLastUniqueId="",{}):{collectPromotion:c,promotionCarousel:g,waistBannerFreightType:_}}}}),(0,wy.A)(Tb.prototype,"showProductWarning",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"showProductWarning"),Tb.prototype),(0,wy.A)(Tb.prototype,"similarSizeSpecData",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"similarSizeSpecData"),Tb.prototype),(0,wy.A)(Tb.prototype,"linePriceExplainSumerKey",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"linePriceExplainSumerKey"),Tb.prototype),(0,wy.A)(Tb.prototype,"quantityContentShow",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"quantityContentShow"),Tb.prototype),(0,wy.A)(Tb.prototype,"recentlyLowestPriceNotice",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"recentlyLowestPriceNotice"),Tb.prototype),(0,wy.A)(Tb.prototype,"bestSkuByQuantityTip",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"bestSkuByQuantityTip"),Tb.prototype),(0,wy.A)(Tb.prototype,"shareInfo",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"shareInfo"),Tb.prototype),(0,wy.A)(Tb.prototype,"isShowPayLaterV2",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"isShowPayLaterV2"),Tb.prototype),(0,wy.A)(Tb.prototype,"supportCollectBenefit",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"supportCollectBenefit"),Tb.prototype),(0,wy.A)(Tb.prototype,"isShowNewSize",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"isShowNewSize"),Tb.prototype),Ov=(0,wy.A)(Tb.prototype,"selectLocationId",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Lv=(0,wy.A)(Tb.prototype,"initSelectLocationId",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.selectLocationId||(this.selectLocationId=this.sizeSpecModule?.selectLocationId)}}}),Wv=(0,wy.A)(Tb.prototype,"updateSelectLocationId",[Ty.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.selectLocationId=e}}}),(0,wy.A)(Tb.prototype,"isSupportNewCustomized",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"isSupportNewCustomized"),Tb.prototype),zv=(0,wy.A)(Tb.prototype,"promotionUnderThePriceModule",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fv=(0,wy.A)(Tb.prototype,"promotionUnderThePriceModuleV2",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Uv=(0,wy.A)(Tb.prototype,"richTextBlockUnderThePriceModule",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gv=(0,wy.A)(Tb.prototype,"payBenefit",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,wy.A)(Tb.prototype,"isShowPayBenefit",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"isShowPayBenefit"),Tb.prototype),(0,wy.A)(Tb.prototype,"supportActivityAtmosphere",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"supportActivityAtmosphere"),Tb.prototype),Hv=(0,wy.A)(Tb.prototype,"activityInfo",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,wy.A)(Tb.prototype,"buyNowButton",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"buyNowButton"),Tb.prototype),(0,wy.A)(Tb.prototype,"supportFreeShippingInWaistBanner",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"supportFreeShippingInWaistBanner"),Tb.prototype),Vv=(0,wy.A)(Tb.prototype,"waistBannerFreightType",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jv=(0,wy.A)(Tb.prototype,"commitment",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qv=(0,wy.A)(Tb.prototype,"video",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kv=(0,wy.A)(Tb.prototype,"shipping",[Ty.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,wy.A)(Tb.prototype,"isShowAgePopup",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"isShowAgePopup"),Tb.prototype),(0,wy.A)(Tb.prototype,"soldoutPicSpecValueIds",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"soldoutPicSpecValueIds"),Tb.prototype),(0,wy.A)(Tb.prototype,"showSpecSoldoutTagV1",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"showSpecSoldoutTagV1"),Tb.prototype),(0,wy.A)(Tb.prototype,"showSpecSoldoutTagV2",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"showSpecSoldoutTagV2"),Tb.prototype),(0,wy.A)(Tb.prototype,"isGoodsDetailRecSupportU2i",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"isGoodsDetailRecSupportU2i"),Tb.prototype),(0,wy.A)(Tb.prototype,"isEnhanceSpecStyle",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"isEnhanceSpecStyle"),Tb.prototype),(0,wy.A)(Tb.prototype,"isEnhancedStockGroupClearanceStyle",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"isEnhancedStockGroupClearanceStyle"),Tb.prototype),(0,wy.A)(Tb.prototype,"explicitlySelected",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"explicitlySelected"),Tb.prototype),(0,wy.A)(Tb.prototype,"showGoodsDetailModuleOptimized",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"showGoodsDetailModuleOptimized"),Tb.prototype),(0,wy.A)(Tb.prototype,"skuSoldOutToast",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"skuSoldOutToast"),Tb.prototype),(0,wy.A)(Tb.prototype,"showActivityPriceWrap",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"showActivityPriceWrap"),Tb.prototype),(0,wy.A)(Tb.prototype,"buttonTextStyle",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"buttonTextStyle"),Tb.prototype),(0,wy.A)(Tb.prototype,"titleSpecHighlight",[Ty.EW],Object.getOwnPropertyDescriptor(Tb.prototype,"titleSpecHighlight"),Tb.prototype),Tb);const Zv=(0,Xt.A)((0,N.HF)({store:Xv},xn.jd),i.PA)((()=>{(0,p.B)(["goods","global","comments","bec-fe.web-pay","bec-fe.web-share","bec-fe.web-card-bind","bec-fe.web-address"]);const e=(0,N.Pj)(),{$axiosHttp:t,isNormalStatus:n,isSEOSoldOut:r,goods:i,query:h,triggerGlobalResize:P,webLayoutData:R,goodsSection:M,relatedSearches:D,showRelatedSearches:B,isRobot:O,countryIndexMap:L,favStore:W,matchingOutfits:z,crawlerType:F,setSupportTouch:U,isGiftGoods:G,skuShow:H,sku:V,switches:j,error:q,useLoginRisk:K,useRiskShowDialog:$,webLayoutError:J,addOrderInfoStore:Y,isShowAgePopup:Q,showGoodsDetailModuleOptimized:X,hideBottomRec:Z,activityRecStore:ee,initIsSupportTouch:te,moduleMap:ne}=e,{isAddOrderScene:ae,order:re}=Y,oe=(0,a.useRef)(null);(0,T.Z)({$axiosHttp:t,pageName:"shopping_cart"}),(0,a.useEffect)((()=>{te()}),[]),(0,a.useEffect)((()=>{(0,_.eY)()}),[]),(0,l.A)(),(0,c.A)((()=>{(0,d.e3)(),E.x.close()})),(0,u.A)((()=>{(0,b.YY)(),W.refreshFavState(),(0,d.g5)(),E.x.connect()})),(0,a.useEffect)((()=>{"ontouchstart"in window&&U(!0)}),[]),(0,nn.T)((()=>{const{auto_show_sku_panel:e}=h||{},{disableAutoShowSku:t=!1}=j||{},{popup:a}=ne?.ageConfirmationPopupModule?.data||{};!(!t&&"1"===e&&n&&V?.length>1)||G||ae||Q||a?.popupType&&a?.popupRich||(H({addType:xn.H$.addCart,cartScene:xn.xi.MainGoods,needInitCheckSpec:!0,pageSource:xn.Xh.addCart,frontControl:{supportPersonalize:!0}}),(0,A.A)("autoShowSkuPanel"))})),(0,a.useEffect)((()=>{const{pay_success:e,...t}=h;if("1"===e){const e=(0,m.rE)(t,location.pathname);(0,Zt.ci)(e)}else(0,k.f)();const n=["thumb_url","_web_cover","pic_h","pic_w","auto_show_sku_panel","auto_show_popup"].reduce(((e,t)=>(h[t]&&(e[t]=null),e)),{});Object.keys(n).length&&(0,Zt.ci)((0,m.rE)(n,location.href))}),[]),(0,a.useEffect)((()=>{(0,C.A)();const e=()=>{(0,en.x)()>0&&((0,tn.Tn)({op:"up_slide"}),document.removeEventListener("scroll",e))};document.addEventListener("scroll",e),(0,s.Wz)(t,"goods_detail_page");const n=window.navigator.userAgent,a=[y.YK.BingBot,y.YK.BingBotIp,y.YK.BingBotIpShopping,`${y.YK.BingBotIp}Shopping`],r=(0,y.EU)(n),o=n.indexOf("HeadlessChrome")>-1||n.indexOf("bingbot")>-1||n.indexOf("adidxbot")>-1||n.indexOf("MicrosoftPreview")>-1;F&&a.includes(F)||a.includes(r)||o?(0,f.ZM)():(0,f.Vi)()}),[]),function(){const e=(0,a.useRef)(),t=(0,a.useRef)(),n=(0,a.useCallback)((function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!async function(){const a=await(0,f.im)();(0,f.Ay)({tags:{type:"report_pwa_install_status",status:e.current,reason:t.current,hasManifestLink:!!document.querySelector('link[rel="manifest"]'),registered:a,pageName:"w/goods",inPWA:(0,f.WX)(),...n}})}()}),[]);(0,a.useEffect)((()=>{const a=(0,f.SU)().subscribe(((a,r)=>{if(e.current=a,t.current=r,a===f.qP.UnInstalled){const e=Date.now()-window.performance.timing.loadEventEnd;n({time_past:(e/1e3).toFixed(0)})}}));return()=>{a()}}),[]),(0,a.useEffect)((()=>{const e=[],t=()=>{n({time:"load"}),e.push(setTimeout((()=>n({time:"2s"})),2e3)),e.push(setTimeout((()=>n({time:"5s"})),5e3)),e.push(setTimeout((()=>n({time:"10s"})),1e4))};return window.addEventListener("load",t),()=>{window.removeEventListener("load",t),e.forEach((e=>clearTimeout(e)))}}),[])}(),(0,a.useEffect)((()=>{const e=e=>{const{target:t,key:n}=e||{};"Enter"===n&&"1"===t?.dataset?.ariaEnter&&(e.preventDefault(),t?.click?.(e))};return window.addEventListener("keyup",e),()=>{window.removeEventListener("keyup",e)}}),[]);const ie=(0,a.useMemo)((()=>({enableSidebarLayout:!re?.allowPurchase,enableFullSidebar:!0})),[re]),se=(0,a.useRef)(S.f.None),le=(0,a.useMemo)((()=>({getContentType:e=>{const t=e?.sidebarWidth;return t!==se.current&&(se.current=t,Promise.resolve().then((()=>{P(),oe.current&&(t===S.f.Double?oe.current.className=o()($g().wrap,"doubleSideCart"):oe.current.className=$g().wrap)}))),t>0}})),[]),ce=(0,a.useMemo)((()=>!(!R?.headerData?.cartNum||(0,S.N)(R.headerData.cartNum)!==S.f.Double)),[R?.headerData?.cartNum]),ue=(0,a.useMemo)((()=>!!O||(M||{})[vy.bottom_recommend_section]),[M,O]);if((0,a.useEffect)((()=>{e.goodsId||(0,A.A)("goodsUrlMissingGoodsId",{groupId:"90647"})}),[]),K){if([w.D.LoginRisk].includes(q?.errorCode)&&t)return a.createElement(ly,{error:q,scene:hy,$axiosHttp:t});if([w.D.LoginRisk].includes(J?.errorCode)&&t)return a.createElement(ly,{error:J,scene:fy,$axiosHttp:t})}if($){if([w.D.VerifyRisk].includes(q?.errorCode))return a.createElement(yy,{error:q,scene:hy});if([w.D.VerifyRisk].includes(J?.errorCode))return a.createElement(yy,{error:J,scene:fy})}return Q?a.createElement(Jg,null):a.createElement(v.y.Provider,{value:ie},a.createElement(Na,{enableScale:!0,enableScaleTo768:!0,allInCenterLayout:le,pageSn:xn.LM},a.createElement(la,null),n||r?a.createElement(a.Fragment,null,a.createElement(Rh,null),a.createElement("div",{className:o()($g().wrap,ce&&"doubleSideCart"),ref:oe},a.createElement(I.H1,{"aria-label":i?.goodsName,className:$g().goodsName},i?.goodsName),a.createElement("div",{className:$g().left,id:"leftContent"},a.createElement(Ug,null),a.createElement(g.zj,null),a.createElement(Xf,null),B&&D?.tagList?.length?a.createElement(my,null):null,!O&&a.createElement(Qt.A,null),z?a.createElement($f,null):null,a.createElement(Uf,null),X?a.createElement(bh,null):a.createElement(oh,null),a.createElement(pf,null),X?a.createElement(kh,null):a.createElement(Ch,null),ee?.showActivityRec?a.createElement(Hn,null):null),a.createElement(rg,null)),!!ue&&!Z&&a.createElement(sy,null)):a.createElement(a.Fragment,null,a.createElement(Rh,null),a.createElement(qg,null),a.createElement(g.zj,null),!!ue&&!Z&&a.createElement(sy,{isSoldout:!0})),!!O&&a.createElement(Sy,null),!!L&&a.createElement(x.A,{data:L}),!O&&a.createElement(Yt,{pageSn:xn.LM}),!O&&a.createElement(ia,null)))}));Zv.initClient=()=>{const e=(0,m.mA)(window.location.search),t=(0,h.H_)(window.navigator.userAgent);e.srsltid&&!t&&(0,Zt.ci)((0,m.rE)({_x_ads_id:147168009798},location.href))},Zv.renderStart4LinkHtml=e=>function(e){const{__req:t,isSupportWebp:n,isCSR:r}=e||{};if(r)return;const{top_gallery_url:o}=t.query,i=Array.isArray(o)?o[0]:o;return i?a.createElement(ty,{url:i,isSupportWebp:n}):void 0}(e),Zv.renderEnd44LinkHtml=e=>{try{ay(e)}catch(e){}};var eI=Zv;const{page:tI,startClient:nI}=(0,N.a3)(eI)}},function(e){e.O(0,[1459],(function(){[6903,7302,8096,545,8544,6726,2873].map(e.E)}),5);e.O(0,[7302,8096,7682,8518,5656,5025,8315,4261,9502,8669,2881,8886],(function(){return t=64416,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=http://temudebug.com/sourcemaps/assets/modernjs/goods_51a6eaf05a47b77154ff.js.map