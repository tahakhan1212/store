(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[2881],{2556:function(e){e.exports={errorTip:"_8tjbVzcs",iconWrap:"_1__CrPWY",icon:"_1-RP6Q-y"}},35113:function(e){e.exports={estimate:"_3ls1slGp",estimateText:"_28Mi8iup",estimatesSubtitle:"_3IxALfcn",estimateTitle:"_1skiCBca",estimateArrow:"_1bVr0dyf",table:"_22pX4LX1",column:"_2bMpIvGP",esLeft:"_2AXfKYGy",progress:"_2oSVAneY",progressBar:"bl9IJIK8",esRight:"_2VlQAb7M"}},98209:function(e){e.exports={inputGroup:"UK8QupsN",clearInput:"_3hHzcjhc",mailContainer:"wZ6CZe55",mailBox:"_2IwPUru7",mailItem:"_28047Tyh",on:"_36gJ3ANX",account:"_3i5l6KgC",mailSuffix:"_2fs1HZ92"}},80930:function(e){e.exports={wrap:"_2vCv8hMP",head:"_1UyxUkMe",emptyWrap:"Sd4JwKlV",empty:"nhUHjrWR",emptyDesc:"_2Cdn1cna"}},37584:function(e){e.exports={title:"_1GVURVFa",icon:"_2ZNLxACI",sizePupup:"_33Ytu5h_",content:"_239NeRYu",mail:"_1bn1UOWB",btn:"_1TwUnDgU"}},74573:function(e){e.exports={popup:"_3mhcXcmK",codePanelContainer:"_2yB1Xvjf",header:"_3sChSRYb",sendTo:"VjPWi6Vv",mail:"_1DsJhtEm",codeInputContainer:"_3cIWe-np",inputBoxCursor:"kVw5HhPc",cursorBlink:"_1h8nwL24",codeStyle:"_1aAj1qlE",codeInput:"_3HrQ1Zij",sendCode:"_3OQMC43u",timerSendCode:"_2QUkbFxt",resendCode:"_2bdd_v11",errorMsg:"_3A14vrM_",warningIcon:"_395lf54j"}},76988:function(e){e.exports={container:"_1lhQHvup",core:"_2oHKUXxN",header:"_15OqpuQi",none:"_1u-5UUGa",body:"_2nrpyooI",topTitle:"_22X-4WPd",successIcon:"_2ZniRu7B",successDesc:"_1ud-O-DR",closeIcon:"Cyjt3RS_",desc:"_3W4XB5qN",mail:"_27aZ0LMR",emailTitle:"_3lkhw4-8",emailInputWrap:"n017pjFr",submit:"_21xrUNr0",line:"_2Izyb0Jh",sendTo:"_1efgk-eA"}},41177:function(e){e.exports={globaleText:"_27pKplA0"}},54198:function(e){e.exports={dialogWrap:"_2qm-Tftk",scroll:"_2mA2u74U",empty:"_147_Lhp7",similarTitle:"_1dA8m5lq"}},61708:function(e){e.exports={dialogWrap:"_3Rsl6Owq",scroll:"HVCrPqZh",empty:"_26Kb3O1C",globaleText:"_161Jl0Eq",scoreRate:"_3rgB-zke"}},92129:function(e){e.exports={headerWarp:"_3qyMpYnn"}},13742:function(e){e.exports={wrap:"_3jKq3hMX",pageWrap:"_3bznalLy",left:"_1yYdNZhh",scoreText:"_2fJoIUUF",pointer:"eGaxnL4V",reviews:"_2DS4do0d",right:"_3bbiUwx6",coreItem:"TpeHroUE",progressWarp:"_4RrL1Qjd",progress:"_2KE4zlSD",progressBar:"_3xPXxwzh",percentStr:"_17_P26tO",activeAnimation:"_1IvElnoT"}},22560:function(){},8160:function(e){e.exports={empty:"_2jzsppBG",svg:"_1IS-Rf1t"}},81490:function(e){e.exports={wrap:"_2mjWF32-",content:"_2O3BrzXA",head:"sTj4Q8Du",container:"_2DLyGMWi",contentText:"_1QWnKP1R",confirmBtn:"zIJokLxS",activeAnimation:"_2xGq6-rA"}},36162:function(e){e.exports={noGoodsReviewTips:"-dA9Cd4i",noGoodsReviewTipTitle:"_1H7Z2wHW",noGoodsReviewTipContent:"_1XQNlyup",similarReviews:"BHlaNXE5",noGoodsItemTipsArrow:"_19kBTkhu",arrowUp:"_3ioR99d4",borderMagin:"_2JTv_UQ4",showBottomBorder:"_1D_g3xwf",showSimilarReviews:"_3Z45C1lp"}},2635:function(e){e.exports={warp:"LHcdAhlF",overlayWarp:"_1ySfVZ3V",totalText:"_1Ydnyl5N",text:"_3myjvBTf",progressWarp:"fVyLT8PK",progress:"_1YFYddtz",progressBar:"rCImaCi3",percentStr:"_2a9dGWWp",iconWarp:"_7aGToHrD",icon:"_3IX7qe-e",isSelected:"_1AfNvR0l",isSelectedProgress:"_2hLwhUpm",gridItem:"_1l4tJdGW",hover:"_21KRz-jw",weakItem:"_32G4yUfo",weakLabel:"NosYztcG"}},58231:function(e){e.exports={reviewListWrapper:"_46rO8bke"}},33765:function(e){e.exports={moreWarp:"_2nOneDag",sort:"_1KBsk92T",twoLine:"_3DXSW5jb",heightAuto:"HV8-CY1y"}},60446:function(e){e.exports={wrap:"_2nDhj6Re",content:"_2cxNNkqt",left:"_3_dqy1vG",desc:"_2kRvcPo8",label:"FOqavBW2",right:"_2zgqsYP0",progress:"_1cbiYeOT",progressBar:"_2BWB-ruh",num:"_32XNKLyl",progressV2:"_2QEXmKe9",progressItem:"dndmFkhW",labelV2:"S1p3AFfO",clothfitTip:"_2DvYsffD"}},3187:function(e){e.exports={sortWrap:"_2oK2hVAW",noLableSort:"lPVkoeBK",twoLineLabel:"_3Wo_1c5d",staticSort:"_3u4UukHA",selectSort:"_1hzRxS1N",noPointer:"bUNGfyPM",arrow:"_1FVKYgUY",weakWrap:"_3cM8yYSE",boldWrap:"_3Jg7lZ-O",line:"_3JO1PAiM",moreBtn:"_1hiJah0o",bottomArrow:"cCcP7qyU",scrollWrap:"_249ByA-d",arrowScrollWrap:"_1nbyn8yb",splitSortWrap:"_3fqYZg3I",sortLable:"_3T27k1hG",sortSelect:"_3ehNToXF",sortLine:"_2mdAyTY_",recommendRich:"flxlMpAn",splitTagRecommend:"FyJe6A4H",yiwenIcon:"_15byM1KM",mostRencent:"_23HuOazG",sortPopupContent:"_8mo8sLHg",tabLine:"_251Sp8EL",activeAnimation:"_3tskuXnn"}},15471:function(e){e.exports={reviewTabItem:"_1OdXCJ1j",active:"_2xBci-uL",topContainer:"_3SkH3F-o",top:"_2ay-QyCM",topLabelSeperator:"P2m5wTAm",topLable:"KcrWz8z4",isGcTab:"DGYp5Wbe",subtitleText:"yLkMleNW"}},50874:function(e){e.exports={simillarReviewListWrap:"_31Bp8qoD",simillarTitle:"_22LkdKNs",header:"S2LleQUV",title:"_2qwtGT3l",shcdowIcon:"bGMn8_vp",linkRewiew:"_1BVr64uA",activeAnimation:"_2_dkc4hJ"}},32640:function(e){e.exports={simillarReviewListWrap:"_3Y7BPb1k",similarTitle:"_21Q-lZpd"}},91950:function(e){e.exports={topWrap:"_1AFVb_qh",top:"UadtlhRd",title:"pkFBdEpJ",line:"_12qnGlQR",score:"dkJHVAVx",scoreText:"_377jlZDR",startCn:"uziolf7-",activeStar:"_2LjjmduM",linkRewiew:"_25XsRCLp",afterBtnWarp:"_1xLJgJFf",rightArrowIcon:"_1Xfhe9ma",providerRating:"_19ME6rxN",titleScoreWrap:"o4_SJXJJ",richText:"_1yKgvogg"}},81482:function(e){e.exports={wrap:"_3tM09D8L",titleWrap:"_3wpQA-lT",baseLine:"_22rziQFH"}},99759:function(e,t,i){"use strict";i.d(t,{r:function(){return re}});var a=i(33514),n=i(32485),r=i.n(n),o=i(63815),s=i(44798),l=i(34477),c=i(95789),m=i(97582),u=i(7638),d=i(76280),p=i(10147),h=i(1528),g=i(59661),w=i(52248),v=i(76475),f=i(91828),b=i(49318),S=i(80907),I=i(2556),E=i.n(I);const y=e=>{let{error:t}=e;return t?a.createElement("div",{className:E().errorTip},a.createElement("span",{className:E().iconWrap},a.createElement(w.JE,{className:E().icon})),a.createElement("span",null,t)):null};var L=i(14825),_=i(35113),x=i.n(_);const A=(0,a.memo)((e=>{let{percent:t}=e;return a.createElement("span",{className:x().progress},a.createElement("i",{className:x().progressBar,style:{width:`${t}%`}}))})),R=e=>{let{data:t,trackingInfo:i}=e;const[n,r]=(0,a.useState)(!1),{title:o,content:s,restockTimeDistributed:l}=t;return l?a.createElement("div",{className:x().estimate},!!o&&a.createElement("div",{className:x().estimateTitle},o),!!s&&a.createElement(S.Ay,{page_el_sn:205636,useClick:!1,payload:i},a.createElement("div",{className:x().estimatesSubtitle,onClick:()=>{(0,L.r_)({page_el_sn:205636,...i}),!n&&r(!0)}},s,!n&&a.createElement(w.hu,{direction:"bottom",className:x().estimateArrow}))),n&&a.createElement("table",{className:x().table},l.map(((e,t)=>{const{name:i,percentage:n,percentageStr:r}=e||{};if(!i||"number"!=typeof n)return null;const o=(n/100).toFixed(2),s=r||`${o}%`;return a.createElement("tr",{className:x().column,key:t},a.createElement("td",{className:x().esLeft},i),a.createElement("td",null,a.createElement(A,{percent:o})),a.createElement("td",{className:x().esRight},s))})))):null};var C=(0,a.memo)(R),T=i(14242);const P=["@gmail.com","@yahoo.com","@hotmail.com","@aol.com","@outlook.com","@icloud.com","@live.com","@mac.com","@msn.com","@zoho.com","@mail.com","@gmx.com","@fastmail.com","@gawab.com","@protonmail.com"];var N=e=>a.createElement("svg",(0,T.A)({xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 1024 1024"},e),a.createElement("path",{d:"M512 149.3c212.1 0 384 171.9 384 384 0 212.1-171.9 384-384 384-212.1 0-384-171.9-384-384 0-212.1 171.9-384 384-384z m133.3 250.8c-9.4-9.4-24.2-10.4-34.7-2.9l-3.3 2.9-95.3 95.3-95.3-95.3-3.3-2.9c-10.5-7.5-25.2-6.6-34.7 2.9-9.4 9.4-10.4 24.2-2.8 34.6l2.8 3.3 95.3 95.3-95.3 95.3-2.8 3.4c-7.5 10.5-6.6 25.2 2.8 34.6 9.4 9.4 24.2 10.4 34.7 2.8l3.3-2.8 95.3-95.3 95.3 95.3 3.3 2.8c10.5 7.5 25.2 6.6 34.7-2.8 9.4-9.4 10.4-24.2 2.8-34.6l-2.8-3.4-95.3-95.3 95.3-95.3 2.8-3.3c7.5-10.5 6.6-25.2-2.8-34.6z"})),k=i(98209),M=i.n(k);const D=e=>{const{type:t="text",containerClsName:i,onChange:n,showClear:o=!0,onBlur:s,...l}=e,c=(0,a.useRef)(),m=(0,a.useRef)(null),[u,d]=(0,a.useState)(o),[p,h]=(0,a.useState)(!1),[g,w]=(0,a.useState)(""),[v,f]=(0,a.useState)(0),[b,S]=(0,a.useState)([]);(0,a.useEffect)((()=>{const e=e=>{m.current&&!m.current.contains(e.target)&&S([])};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[]);const I=(0,a.useCallback)((e=>{const t=`${g}${e}`;w(t),n(t),S([]),c.current&&(c.current.value=t)}),[g,w,n,S]);(0,a.useEffect)((()=>{let e,t=0;const i=b.length;return i&&(f(0),e=e=>{13===e.keyCode?I(b[t]):38===e.keyCode?(t=t-1<0?i-1:t-1,f(t),m.current?.scrollTo(0,38*t)):40===e.keyCode&&(t=t+1>=i?0:t+1,f(t),m.current?.scrollTo(0,38*t))}),document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[b,I,f]);const E=(0,a.useCallback)((e=>{const t=e.target?.value||"";if(d(t?.length>0&&o),n(t),w(t),t){const e=t.lastIndexOf("@");if(e<0)S(P);else if("@"===t||e!==t.indexOf("@"))S([]);else{const i=t.slice(e);S(P.filter((e=>e.indexOf(i)>=0)).map((e=>e.slice(i.length))))}}else S([])}),[n]),y=(0,a.useCallback)((e=>{e?.preventDefault(),c?.current&&(c.current.value=""),d(!1),w(""),n(""),S([])}),[n,c,S,w]),_=(0,a.useCallback)((()=>{(0,L.b9)({op:"click",page_el_sn:201594}),h(!0),d(g?.length>0&&o)}),[]),x=g&&!!b.length;return a.createElement("div",{className:r()(M().inputGroup,i,{[M().inputOnFocus]:p})},a.createElement("input",(0,T.A)({ref:c,type:t,onChange:E},l,{onFocus:_,onBlur:()=>{h(!1),s&&s()}})),u&&p&&a.createElement(N,{className:M().clearInput,onMouseDown:y}),x&&a.createElement("div",{className:M().mailContainer},a.createElement("ul",{className:M().mailBox,ref:m},b.map(((e,t)=>a.createElement("li",{key:e,className:r()(M().mailItem,{[M().on]:t===v}),onClick:()=>I(e)},a.createElement("span",{className:M().account},g),a.createElement("span",{className:M().mailSuffix},e)))))))};var z=(0,a.memo)(D),H=i(27114),F=i(54403),B=i(23450),q=i(57610),O=i(80930),G=i.n(O);function W(){const{t:e}=(0,m.B)("bec-fe.web-sku-selector"),{data:t={},loadMoreData:i,isInit:n}=(0,a.useContext)(v.oU),{goodsList:r,hasMore:o}=t;return o||r?.length||n.current?a.createElement("div",{className:G().wrap},a.createElement("div",{className:G().head},a.createElement("span",null,t.title)),a.createElement(B.A,{datasource:r,hasMore:o,loadMoreData:i,renderItem:q.A,showLoading:!1,loadMoreText:e("view_more")||"View more",bottomWrapperClass:G().bottomBtn})):a.createElement("div",{className:G().emptyWrap},a.createElement(F.A,{className:G().empty,customButton:a.createElement("div",{className:G().emptyDesc},e("similarEmpty")),imageConfigs:{svg:a.createElement(H.A,{style:{width:140,height:140}}),width:"140px",height:"140px"}}))}var V=i(37584),U=i.n(V);const j=e=>{let{email:t,onClose:i}=e;const{t:n}=(0,m.B)("bec-fe.web-sku-selector",{keyPrefix:"Success"});return a.createElement(g.Ay,{onClick:i,useSplitBg:!0},a.createElement("div",{className:U().sizePupup},a.createElement("div",{className:U().title},a.createElement(w.ib,{path:"M512 0c282.8 0 512 229.2 512 512 0 282.8-229.2 512-512 512-282.8 0-512-229.2-512-512 0-282.8 229.2-512 512-512z m0 42.1c-259.5 0-469.9 210.4-469.9 469.9 0 259.5 210.4 469.9 469.9 469.9 259.5 0 469.9-210.4 469.9-469.9 0-259.5-210.4-469.9-469.9-469.9z m263 310.5l1.5 1.4c7.9 7.8 8.4 20.2 1.6 28.7l-1.4 1.5-319.4 322.7c-7.6 7.7-19.7 8.4-28.2 1.9l-1.5-1.3-164.1-152.4c-8.6-8-9.2-21.5-1.2-30.2 7.5-8.1 19.9-9 28.6-2.4l1.6 1.3 148.9 138.4 305-308.1c7.8-7.9 20.2-8.4 28.6-1.5z",className:U().icon})),a.createElement("div",{className:U().content}," ",n("prefix_tip")," ",a.createElement("span",{className:U().mail},t)," ",n("suffix_tip")),a.createElement(p.A,{className:U().btn,onClick:i,type:"main"},n("btn"))))};var X=(0,a.memo)(j),$=(i(25440),i(8515));const K=e=>{const{seconds:t=60,onFinished:i}=e,[n,r]=(0,a.useState)(t-1);return(0,a.useEffect)((()=>r(t-1)),[t]),(0,a.useEffect)((()=>{if(n>=0){const e=setTimeout((()=>r((e=>e-1))),1e3);return()=>{e&&clearTimeout(e)}}n<0&&i&&i()}),[n,i]),a.createElement("span",null,`${n}s `)};K.defaultProps={seconds:60};var Q=(0,a.memo)(K),J=i(74573),Y=i.n(J);var Z=e=>{const{t:t}=(0,m.B)("bec-fe.web-sku-selector",{keyPrefix:"VerifyCodeInput"}),{handleCode:i,onCodeChange:n,errMsg:o,reSendCode:s,expireTime:l=60,pageElSn:c,handleClick:u,email:d}=e,[p,h]=(0,a.useState)(!1),[v,f]=(0,a.useState)(l||60),b=(0,a.useRef)(null),I=(0,a.useRef)(null),[E,y]=(0,a.useState)(""),[_,x]=(0,a.useState)(!0);(0,a.useEffect)((()=>{b?.current&&(b?.current?.focus(),h(!0))}),[]),(0,a.useEffect)((()=>{f(l)}),[l]),(0,a.useLayoutEffect)((()=>{I?.current&&(I.current.scrollLeft=1e3)}),[]);const A=(0,a.useCallback)((async e=>{let t=e.target.value;t=t.replace(/[^\d]/g,""),y(t),n&&n(),6===t.length&&(await i(t),y(""))}),[i,n]),R=()=>{b?.current?.focus(),u&&u()},C=(0,a.useCallback)((async()=>{if(_)return;(0,L.r_)({page_el_sn:c||200324});await s({resend:!0})&&(x(!0),(0,$.A)(t("resend_successfully")))}),[_,s,c]);return a.createElement(g.Ay,{onClick:e.onClose},a.createElement("div",{className:Y().popup},a.createElement("div",{className:Y().header},a.createElement("span",null,t("header_tip"))),a.createElement("div",{className:Y().sendTo},t("send_to_tip"),a.createElement("span",{className:Y().mail},d),"."),a.createElement("input",{autoFocus:!0,ref:b,type:"tel",value:E,onChange:A,maxLength:6,className:Y().codeInput,autoComplete:"off",onFocus:()=>h(!0),onBlur:()=>h(!1)}),a.createElement("div",{className:Y().codePanelContainer,onClick:R,ref:I,role:"button",tabIndex:0},E.padEnd(6," ").split("").map(((e,t)=>a.createElement("div",{key:t,role:"button",tabIndex:0,className:r()(Y().codeInputContainer,{[Y().inputBoxCursor]:p&&t===E.length}),onClick:R},a.createElement("span",{className:Y().codeStyle},e))))),!!o&&a.createElement("div",{className:Y().errorMsg},a.createElement(w.ib,{path:"M512 0c282.8 0 512 229.2 512 512 0 282.8-229.2 512-512 512-282.8 0-512-229.2-512-512 0-282.8 229.2-512 512-512z m0 78.8c-239.3 0-433.2 194-433.2 433.2 0 239.3 194 433.2 433.2 433.2 239.3 0 433.2-194 433.2-433.2 0-239.3-194-433.2-433.2-433.2z m3.9 590.7c32.6 0 59.1 26.4 59.1 59.1 0 32.6-26.4 59.1-59.1 59.1-32.6 0-59.1-26.4-59-59.1 0-32.6 26.4-59.1 59-59.1z m-3.9-463.4c23.5 0 43 17.1 46.6 39.6l0.7 7.6 0 307.3c0 26.1-21.2 47.3-47.3 47.3-23.5 0-43-17.1-46.6-39.6l-0.7-7.7 0-307.3c0-26.1 21.2-47.3 47.3-47.2z",className:Y().warningIcon}),o),a.createElement("div",{className:Y().sendCode},_&&a.createElement("div",{className:Y().timerSendCode},a.createElement(Q,{onFinished:()=>x(!1),seconds:v}),a.createElement("span",null,t("resend_code"))),!_&&a.createElement(S.Ay,{page_el_sn:c||200324,useClick:!1},a.createElement("div",{className:Y().resendCode,onClick:C,role:"button",tabIndex:0},t("resend_code"))))))},ee=i(76988),te=i.n(ee);var ie=function(e){return e[e.INIT=0]="INIT",e[e.CODE=1]="CODE",e[e.SUCCESS=2]="SUCCESS",e}(ie||{});const ae=e=>{let{info:t}=e;return a.createElement("span",{className:te().mail},t)},ne=e=>{const{t:t}=(0,m.B)("bec-fe.web-sku-selector"),[i,n]=(0,a.useState)(),d=(0,a.useRef)(),{tracking:b,userEmail:I,userMobile:E,onClose:L,params:_,restockTimeInfo:x}=e,[A,R]=(0,a.useState)(ie.INIT),[T,P]=(0,a.useState)(""),[N,k]=(0,a.useState)(""),[M,D]=(0,a.useState)(""),H=(0,a.useRef)(null),F=(0,a.useRef)(!1),B=(0,a.useRef)({}),q=(0,a.useRef)(!0),O=(0,a.useRef)(`find_similar_${Date.now()}_${(0,s.A)()}`);(0,a.useEffect)((()=>(G(_.request),B.current=_.request,()=>{})),[_]);const G=(0,a.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B.current;return new Promise((t=>{F.current||(0,f.hL)({page_size:20,offset:d.current?.goodsList?.length||0,scene:"subscribe_sold_out_similar",...e,list_id:O.current}).then((e=>{if(e){const a={...d.current||{},hasMore:e.hasMore&&e?.goodsList?.length,title:e.title,goodsList:[...d.current?.goodsList||[],...e.goodsList||[]]};e.mainGoodsList?.length>0&&(a.mainGoodsInfo=e.mainGoodsList[0]),i=a,d.current=i,n(a),t(e)}else t(!1);var i})).catch((e=>{t(!1),(0,l.fL)(e,{error_message:"requestSimilarGoods error"})})).finally((()=>{q.current&&(q.current=!1)}))}))}),[]),V=(0,a.useMemo)((()=>{let e=4;return E&&I?e=1:E&&!I?e=2:!E&&I&&(e=3),{notify_sku_id:b?.skuId,reply_type:e}}),[b?.skuId,E,I]),U=async()=>{if(T)try{(0,o.WU)();const e=await(0,f.YR)({email:T});if(e?.success){R(ie.CODE);const e=(0,c.A)(a.createElement(Z,{email:T,reSendCode:async()=>{await(0,f.YR)({email:T,resend:!0})},expireTime:60,handleCode:j,onClose:()=>{e?.()}}));H.current=e}else k(e?.errorMsg||t("email_error_tip"));(0,o.jD)()}catch{(0,o.jD)()}else k(t("email_error_tip"))},j=async e=>{if(e&&T)try{(0,o.WU)();const i=await(0,f.fP)({email:T,code:e});if(i?.success){R(ie.SUCCESS),H.current&&H.current();const e=(0,c.A)(a.createElement(X,{email:T,onClose:()=>{e?.()}}))}else D(i?.errorMsg||t("incorrect_verification_code"));(0,o.jD)()}catch{(0,o.jD)()}};return a.createElement(g.US,{onClick:()=>{L()}},a.createElement(S.Ay,{page_el_sn:205397,useClick:!1,others:V},a.createElement("div",{className:te().container},a.createElement("div",{className:te().core},a.createElement(a.Fragment,null,a.createElement("div",{className:r()(te().header,A===ie.SUCCESS&&te().none)},a.createElement(w.ib,{path:"M512 13.2c275.5 0 498.8 223.3 498.8 498.8 0 275.5-223.3 498.8-498.8 498.8-275.5 0-498.8-223.3-498.8-498.8 0-275.5 223.3-498.8 498.8-498.8z m0 66.7c-238.6 0-432.1 193.4-432.1 432.1 0 238.6 193.4 432.1 432.1 432.1 238.6 0 432.1-193.4 432.1-432.1 0-238.6-193.4-432.1-432.1-432.1z m273.2 265.3c11.9 11.8 13 30.4 3.4 43.5l-3.3 3.7-320 322.2c-11.3 11.4-29 13-42 4.4l-4.2-3.2-164.4-149.9c-13.6-12.4-14.6-33.5-2.1-47.1 11.3-12.4 29.8-14.3 43.2-5.3l3.9 3.1 140.8 128.3 297.5-299.5c13-13.1 34.1-13.2 47.2-0.2z",className:te().successIcon}),a.createElement("span",null,t("subscribed_successfully"))),a.createElement("div",{className:r()(te().body,A===ie.SUCCESS&&te().none)},E&&I&&a.createElement("div",{className:te().desc},a.createElement(u.x,{t:t,ns:"bec-fe.web-sku-selector",i18nKey:"mobile_email",components:[a.createElement(ae,{info:E}),a.createElement(ae,{info:I})]})),!E&&I&&a.createElement("div",{className:te().desc},a.createElement(u.x,{t:t,ns:"bec-fe.web-sku-selector",i18nKey:"email_tip_v2",components:[a.createElement(ae,{info:I})]})),E&&!I&&a.createElement("div",{className:te().desc},a.createElement(u.x,{t:t,ns:"bec-fe.web-sku-selector",i18nKey:"mobile_tip",components:[a.createElement(ae,{info:E})]}),t("mobile_suffix_tip")),!E&&!I&&a.createElement("div",{className:te().desc},t("stock_tip")),!I&&a.createElement(a.Fragment,null,a.createElement("div",{className:te().emailTitle},t("email_address")),a.createElement("div",{className:te().emailInputWrap},a.createElement(z,{value:T,onChange:e=>{P(e),k("")}}),a.createElement(y,{error:N})),a.createElement(S.Ay,{page_el_sn:205400,useImpr:!1},a.createElement(p.A,{className:te().submit,onClick:U,type:h.el.main},t("verify_email")))),!!x&&a.createElement(C,{data:x,trackingInfo:V})),a.createElement(v.oU.Provider,{value:{data:i,loadMoreData:G,isInit:q,..._.config||{}}},a.createElement(W,null)))))))},re=(0,b.A)((async e=>{const[t,i]=await Promise.all([(0,f.OW)({scene:"sold_out_subscribe"}),e?.goods?.goodsId?(0,f.$h)({goods_id:e.goods.goodsId}):null]);(0,d.x0)?.();const n=(0,c.A)(a.createElement(ne,{params:e,userEmail:t.result?.mail,userMobile:t.result?.mobile,visible:!0,tracking:{skuId:e?.request?.skuId,goodsId:e?.goods?.goodsId,...e.tracking||{}},restockTimeInfo:i,onClose:()=>{n()}}))}))},41866:function(e,t,i){"use strict";i.d(t,{$p:function(){return _},CV:function(){return h},Ez:function(){return u},H$:function(){return d},Jm:function(){return g},LM:function(){return r},Oe:function(){return y},QH:function(){return f},Sw:function(){return c},Xh:function(){return p},au:function(){return I},be:function(){return b},bv:function(){return l},h$:function(){return L},jd:function(){return o},l_:function(){return w},nG:function(){return v},qf:function(){return m},sN:function(){return n},vs:function(){return E},xi:function(){return S}});var a=i(9454);const n="goods",r=10032,o={requireLogin:!1,title:"Temu",pageProperty:{pageName:n,pageSN:r,pv:{keys:["goods_id",{key:"main_goods_id",mapping:["goods_id"]},{key:"main_sku_id",mapping:["sku_id"]}]},pagePath:"/w/goods.html"},pageRegExp:a.am.GoodsDetail.pageRegExp,loadable:!0},s=["refer_msgid","msgid"],l=e=>e?Object.keys(e).reduce(((t,i)=>{const a=Array.isArray(e[i])?e[i][e[i].length-1]:e[i];return i.startsWith("_x_")&&(t[i.slice(1)]=a,t[i]=a),i.startsWith("_oak_")&&(t[i]=a),s.includes(i)&&(t[i]=a),t}),{}):{};const c={TRANSLATE:201946,VIEW_BIG_IMAGE:201948,BIG_IMAGE_TRANSLATE:201950};let m=function(e){return e[e.ITEM=0]="ITEM",e[e.SHOP=1]="SHOP",e}({}),u=function(e){return e[e.shoppingCart=1]="shoppingCart",e[e.listAddCart=2]="listAddCart",e[e.addToOrder=3]="addToOrder",e[e.goodsDetail=4]="goodsDetail",e}({}),d=function(e){return e[e.addOrder=1]="addOrder",e[e.addCart=2]="addCart",e[e.addList=3]="addList",e[e.addGift=4]="addGift",e[e.addWish=5]="addWish",e[e.buyNow=6]="buyNow",e[e.redeemPoints=7]="redeemPoints",e}({}),p=function(e){return e[e.addCart=410]="addCart",e}({});const h={wishlistFloatShowTime:"wishlist_float_show_time",chatBtnTipShowedTimes:"chat_btn_tip_showed_times"},g={wishlistDelGoodsIds:"WISHLIST_DEL_GOODIDS"},w=60,v=500,f={resizeWidth:180,quality:70},b={...f,resizeWidth:800};let S=function(e){return e[e.MainGoods=1003200]="MainGoods",e[e.BigPicture=1003201]="BigPicture",e[e.BigPictureComment=1003202]="BigPictureComment",e[e.FrequentlyBought=1003203]="FrequentlyBought",e[e.SimilarGoods=1003204]="SimilarGoods",e[e.MallRecommend=1003205]="MallRecommend",e[e.BottomRecommend=1003206]="BottomRecommend",e[e.AddOrder=1003207]="AddOrder",e[e.MatchingOutfits=1003208]="MatchingOutfits",e[e.InStockSimilarItems=1003210]="InStockSimilarItems",e[e.Outfits=1003211]="Outfits",e[e.SkuCapsule=1003214]="SkuCapsule",e[e.MallSelector=1003212]="MallSelector",e[e.PurchaseBenefit=335]="PurchaseBenefit",e[e.LocalInfoPopupRec=389]="LocalInfoPopupRec",e[e.LocalGoodsSimilarRec=383]="LocalGoodsSimilarRec",e[e.BestPricePopup=619]="BestPricePopup",e}({});const I=5,E={PRODUCT_GUIDES:"1",SIZE_GUIDE:"2"},y={SOLD_OUT:"goods_detail_sold_out_similar",NORMAL:"goods_detail_like",NORMAL4U2i:"goods_detail_like_u2i"};let L=function(e){return e.A="A",e.B="B",e.C="C",e.D="D",e}({}),_=function(e){return e[e.UnSubscribe=0]="UnSubscribe",e[e.Subscribe=1]="Subscribe",e}({})},34760:function(e,t,i){"use strict";i(44114);var a=i(33514),n=i(87837),r=i(60446),o=i.n(r);const s=(0,a.memo)((e=>{let{percent:t}=e;return a.createElement("span",{className:o().progress},a.createElement("i",{className:o().progressBar,style:{width:`${t}%`},"aria-hidden":!0}))}));t.A=(0,a.memo)((e=>{let{clothFitReviewInfoList:t,isShowReviewProgress:i,clothFitTipV2:r,reviewClothFitReviewText:l,progressElSn:c,visible:m}=e;const[u,d]=(0,a.useState)([]);if((0,a.useEffect)((()=>{if(!m)return;const e=Array.from(document.querySelectorAll(`.${o().label}`)),t=[];e.forEach((e=>{const{height:i}=e?.getBoundingClientRect()||{};i&&t.push(i)})),t?.length===e?.length&&d(t)}),[t,i,m]),!t?.length||!i)return null;const p=t.some((e=>2!==e.level&&e.percent>=15)),h=t?.map((e=>e.text));return"1"===r?a.createElement("div",null,a.createElement("div",{className:o().progressV2},t.map((e=>{let{text:t,percent:i,level:r}=e,s="";2!==r&&i>=15?s="#000000":2!==r||p||(s="#0A8800");const l=a.createElement("div",{className:o().progressItem,role:"document","aria-label":`${t} ${i}%`,style:{backgroundColor:s,width:`${i}%`}});return a.createElement(a.Fragment,{key:t},c?a.createElement(n.Rp,{page_el_sn:c,key:t},l):l)}))),a.createElement("div",{className:o().labelV2},t.map((e=>{let{percentageStr:t,text:i}=e;return a.createElement("span",{key:i},t," ",i)}))),!!l&&a.createElement("p",{className:o().clothfitTip},l)):a.createElement("div",{className:o().wrap},a.createElement("div",{className:o().content},a.createElement("div",{className:o().left},h.map(((e,t)=>a.createElement("div",{className:o().label,key:e,"aria-hidden":!0},e)))),a.createElement("div",{className:o().right},t.map(((e,t)=>{let{text:i,percent:r}=e;const l=u?.[t],d=a.createElement("div",{className:o().desc,tabIndex:0,role:"link","aria-label":`${i} ${r}%`,style:m&&l?{height:l}:void 0},a.createElement(s,{percent:r}),a.createElement("span",{className:o().num,"aria-hidden":!0},a.createElement("span",null,r),a.createElement("span",null,"%")));return a.createElement(a.Fragment,{key:i},c?a.createElement(n.Rp,{page_el_sn:c,key:i},d):d)})))))}))},3055:function(e,t,i){"use strict";i.d(t,{A:function(){return pt}});var a=i(33514),n=i(47116),r=i(14511),o=i(96704),s=i(63962),l=i(80924),c=i(78545),m=i(8587),u=i(15031);var d=(0,n.PA)((e=>{let{expParams:t,control:i,reviewStore:n,commonCommentStore:r,CartScene:o,pageSN:s,commentBigPictureStore:l}=e;const{supportReviewBulletComment:d}=i?.supportExperimentControl||{},{activeTopIndex:p,goodsInfo:h,newToggleAnonymous:g,noGoodsReviewHasShopReview:w}=n,{reportReview:v,setIsHelpfulInfo:f,helpfulInfoMap:b,onHelpful:S}=r||{},{removeCommentBigPicture:I,reviewIndex:E,popData:y,isShowPrev:L,isShowNext:_,onClickPrev:x,onClickNext:A,onTogglePopupAnonymous:R}=l||{},C=(0,a.useMemo)((()=>{if(y?.goodsInfo?.type===u.Gd.showSimilarGoodsLink)return{...y?.goodsInfo||{},cart_scene:o.BigPictureComment};return p===u.qf.ITEM&&!w?{cart_scene:o.BigPictureComment,...h}:{...y?.goodsInfo||{},cart_scene:o.BigPictureComment}}),[p,w,o.BigPictureComment,h,y?.goodsInfo]),T=(0,m.w)((async e=>{const t=await R(e);t&&g(e,t)}));return y?a.createElement(c.A,{data:{...y,goodsInfo:C},pageSn:s,closeCb:I,isShowPrev:L,isShowNext:_,onClickNext:A,onClickPrev:x,activeIndex:E,showBullet:!!d,requestParams:{_oak_page_source:413,goods_id:C.goodsId},activeTopIndex:p,reportReview:v,onHelpful:S,setIsHelpfulInfo:f,helpfulInfoMap:b,onToggleAnonymous:T,reviewExpParams:t}):null})),p=i(41866),h=i(97582),g=i(68797),w=i(34678),v=i(87837),f=i(74344),b=i(40565),S=i(92129),I=i.n(S);var E=(0,n.PA)((e=>{let{data:t,activeTopIndex:i,onDeleteReview:n,onToggleAnonymous:r,pageSn:o,expParams:s,index:l,trackingInfo:c,hasImages:m=!0,hasBtnAndFit:d=!0,isSimilarDialogItem:p=!1,itemShowType:h="",purchasedCard:g=!1}=e;return a.createElement(b.A,{originData:t,pageSn:o,onDeleteReview:n,onToggleAnonymous:r,activeTopIndex:i,trackingInfo:c,reviewExpParams:s,isSimilarDialogItem:p,smallCardSize:!0,index:l,addCartInfo:i===u.qf.SHOP?{cartScene:"259",cartType:1,pageElSn:"200061"}:void 0,hasImages:m,hasBtnAndFit:d,headerClass:I().headerWarp,itemShowType:h,purchasedCard:g})})),y=i(32485),L=i.n(y),_=i(3428),x=i(99117),A=i(50453),R=i(46694),C=i(27092),T=i(73572),P=i(73035),N=i(881),k=i(77140),M=i(84750),D=i(91950),z=i.n(D);const H=async(e,t)=>{if(e&&(0,x.E0)({page_el_sn:228677}),!t)return;const{title:i,confirmBtnText:n,content:r,richContent:o,learnMoreLinkText:s,learnMoreLinkUrl:l}=t||{},c=r?.split("\n")||[],m=()=>{(0,N.AI)(228697,{}),A.Ay.openWindow(l)};(0,P.P)({popupNode:a.createElement(w.A,{onClose:()=>{(0,P.L)({}),(0,N.AI)(228695,{})},title:i,subTitle:o?.textRich?a.createElement(T.l5,{newRichText:o}):c.map(((e,t)=>a.createElement(a.Fragment,null,e,t!==c.length-1&&a.createElement("br",null)))),confirmButtonLabel:n,onConfirm:()=>{(0,P.L)({}),(0,N.AI)(228696,{})},contentAfterBtn:!o&&s&&l?a.createElement("div",{className:z().afterBtnWarp,onClick:m,role:"button",tabIndex:0},s,a.createElement(C.A,{className:z().rightArrowIcon})):null})})};var F=(0,n.PA)((function(e){let{reviewStore:t,lang:i,reviewListLength:n,reviewsExpParams:r,className:o}=e;const{showScore:s,showScoreStr:l,mallReviewNum:c,mallReviewNumStr:u,reviewNum:d,reviewAuthenticityPopupVo:p,ratingGuidelinesPopupVo:g,reviewNumStr:w,onlyShowSimilarReviews:f,nativeScore:b,$root:S}=t||{},{goodsScoreText:I,scoreNumInfoList:E}=t.$root?.review?.reviewData||{},{isRTL:y}=(0,R.Sz)(),{t:x}=(0,h.B)("goods",{keyPrefix:"review"}),{t:A}=(0,h.B)("goods"),{t:C}=(0,h.B)("comments"),{globalReview:T,noReviewInfo:P}=r||{},N=S?.isSpecialRegion,D=u>0?`(${A(N?"providerRatings":"providerRatings2",{replace:"0",interpolation:{prefix:"{",suffix:"}"},0:u})})`:null,F=(0,a.useMemo)((()=>T?w?`${w} ${C(d>1?"globalRatings":"globalRating")}`:"":w?d>1?x("reviews1",{0:w,interpolation:{prefix:"{",suffix:"}"}}):x("review1"):""),[T,w,d,C,x]),B=!!b?.textRich?.length,q=C("allyScoreText",{interpolation:{prefix:"{",suffix:"}"},0:s})||l,O=(0,m.w)((()=>{H(B,g)})),G=c>0||d>0,W=!!I&&!!E?.length,V="1"===P,U=["3","4"].includes(P);return!G||!F||W&&f?null:a.createElement(v.Rp,{useClick:!1,page_el_sn:200226,others:{review_type:n>1?0:1}},a.createElement("div",{className:L()(z().topWrap,o)},!W&&a.createElement("div",{className:L()({[z().top]:!0,[z().localReviewTop]:B})},B?a.createElement(a.Fragment,null,a.createElement("div",{className:z().titleScoreWrap,onClick:O},a.createElement("div",{className:z().title,tabIndex:0,role:"link"},x("reviews")),!!s&&!U&&a.createElement(v.Rp,{page_el_sn:228677,useClick:!1},a.createElement("div",{className:z().score,tabIndex:0,role:"link","aria-label":q},a.createElement("span",{className:z().scoreText},l),a.createElement(_.A,{cur:s,activeStarClass:z().activeStar,className:z().startCn,total:1,size:"24px",ariaHidden:!0})))),!V&&a.createElement(k.A,{className:z().richText,concatRichText:b,isRTL:y})):a.createElement(a.Fragment,null,!V&&a.createElement(a.Fragment,null,a.createElement("div",{className:z().title,tabIndex:0,role:"link"},F),!!s&&!U&&a.createElement("div",{className:z().line})),!!s&&!U&&a.createElement(v.Rp,{page_el_sn:228677},a.createElement("div",{className:z().score,onClick:O,tabIndex:0,role:"link","aria-label":q},a.createElement("span",{className:z().scoreText},l),a.createElement(_.A,{cur:s,activeStarClass:z().activeStar,className:z().startCn,size:"24px",ariaHidden:!0}))),f?a.createElement("div",{className:z().providerRating},D):null)),f?null:a.createElement(M.A,{text:x("purchasesTips"),reviewAuthenticityPopupVo:p,pageSnEl:228678})))})),B=i(13742),q=i.n(B);const O=(0,a.memo)((e=>{let{data:t}=e;const{score:i,percent:n=0,percentStr:r=0,percentageStr:o}=t||{};return a.createElement("div",{className:q().coreItem},a.createElement(_.A,{cur:i,className:q().rate,size:"18px",tabIndex:-1}),a.createElement("div",{className:q().progressWarp},a.createElement("div",{className:q().progress},a.createElement("i",{className:q().progressBar,style:{width:`${n}%`},"aria-hidden":!0}))),a.createElement("div",{className:q().percentStr},o?a.createElement("span",null,o):a.createElement(a.Fragment,null,a.createElement("span",null,r),a.createElement("span",null,"%"))))}));var G=(0,n.PA)((e=>{let{className:t,isPage:i,style:n,reviewsExpParams:r}=e;const{t:o}=(0,h.B)("goods",{keyPrefix:"review"}),{t:l}=(0,h.B)("comments"),{review:c,reviewStore:u}=(0,s.Pj)(),{reviewNum:d,reviewNumStr:p,goodsScoreText:g,scoreNumInfoList:w}=c?.reviewData||{},{scoreNumInfoList:f,goodsScoreText:b,ratingGuidelinesPopupVo:S}=u||{},I=i?w:f,E=i?g:b,y=d||p,_=r?.globalReview?`${y} ${l(y>1?"globalRatings":"globalRating")}`:"",x=!!S,A=(0,m.w)((()=>{x&&H(!1,S)}));return E&&I?.length?a.createElement("div",{className:L()({[q().wrap]:!0,[q().pageWrap]:i},t),style:n},a.createElement("div",{className:L()({[q().left]:!0,[q().pointer]:x}),onClick:A},a.createElement(v.Rp,{page_el_sn:228677},a.createElement("div",{className:q().scoreText},E)),!!i&&!!_&&a.createElement("p",{className:q().reviews},_)),a.createElement("div",{className:q().right},I.map((e=>a.createElement(O,{key:e.score,data:e}))))):null})),W=i(46272),V=i(35396),U=i(52248),j=i(95733),X=i(7427),$=i(40639),K=i(92943),Q=i(65033),J=i(2635),Y=i.n(J);const Z=(0,a.memo)((e=>{const{score:t,percent:i,percentStr:n,percentageStr:r,text:o,isSelected:s,changeFilterStar:l}=e,[c,m]=(0,a.useState)(!1),u=()=>{l(t),(0,x.E0)({page_el_sn:229181,star_filter_type:0===t?"6":String(t)})},d=()=>{m(!0)},p=()=>{m(!1)};return a.createElement(a.Fragment,null,r||n?a.createElement(a.Fragment,null,a.createElement("div",{className:L()(Y().text,Y().gridItem,s&&Y().isSelected,c&&Y().hover),onClick:u,onMouseEnter:d,onMouseLeave:p},o),a.createElement("div",{className:L()(Y().progressWarp,Y().gridItem,c&&Y().hover),onClick:u,onMouseEnter:d,onMouseLeave:p},a.createElement("div",{className:Y().progress},a.createElement("i",{className:L()(Y().progressBar,s&&Y().isSelectedProgress),style:{width:`${i}%`},"aria-hidden":!0}))),a.createElement("div",{className:L()(Y().percentStr,Y().gridItem,s&&Y().isSelected,c&&Y().hover),onClick:u,onMouseEnter:d,onMouseLeave:p},r?a.createElement("span",null,r):a.createElement(a.Fragment,null,a.createElement("span",null,n),a.createElement("span",null,"%")))):a.createElement("div",{className:L()(Y().totalText,Y().gridItem,s&&Y().isSelected,c&&Y().hover),onClick:u,onMouseEnter:d,onMouseLeave:p},o),a.createElement("div",{className:L()(Y().iconWarp,Y().gridItem,c&&Y().hover),onClick:u,onMouseEnter:d,onMouseLeave:p},!!s&&a.createElement($.A,{className:Y().icon})))}));var ee=(0,n.PA)((e=>{let{reviewStore:t,placement:i}=e;const{scoreNumInfoList:n,selectFilterStar:r,changeFilterStar:o,ratingFiltersInfo:s,curReviewStore:l}=t||{},{allRatingsText:c,button:m}=s||{},{text:u}=m||{},{onChangeFilterStar:d}=l||{},[p,h]=(0,a.useState)(!1),[g,w]=(0,a.useState)(!1),[v,f]=(0,a.useState)(i||"bottom"),b=(0,a.useRef)(null),S=p||g&&0!==r,{twoLineLabel:I,scrollLabel:E,weakBorderLabel:y}=(0,X.eI)(),L=(0,a.useCallback)((()=>{if(p&&(0,x.E0)({page_el_sn:229181,star_filter_type:"0"}),h((e=>!e)),!b.current)return;const e=Math.abs(b.current.getBoundingClientRect().bottom-window.innerHeight);f(e<200?"top":i||"bottom")}),[p]),_=(0,a.useCallback)((e=>{h(!1),w(!0),o(e)}),[o,d]);return u&&n&&s&&Array.isArray(n)&&n.length?a.createElement("div",{ref:b,className:y?Y().weakItem:""},a.createElement(K.A,{visible:p,className:Y().warp,overlay:a.createElement("div",{className:Y().overlayWarp},a.createElement(Z,{score:0,text:c||"",isSelected:0===r,changeFilterStar:_}),(n||[]).map((e=>{if(!e)return null;const{score:t,percent:i,percentStr:n,percentageStr:o,text:s}=e,l=t===r;return a.createElement(Z,{score:t,percent:i,percentStr:n,percentageStr:o,isSelected:l,text:s,changeFilterStar:_})}))),placement:v,hideArrow:!0,trigger:["click"],appendToBody:I||E},a.createElement(Q.A,{text:u||"",onClick:L,isSelected:S,pageSn:229181,loggerParams:{star_filter_type:"0"},useClick:!1,className:y?Y().weakLabel:""}))):null})),te=i(2397),ie=i(3187),ae=i.n(ie);const ne=(0,n.PA)((e=>{let{className:t,isShowSortSelector:i,onReviewSortChange:n,labels:r,onLabelToggle:o,selectedLabelId:s,sortType:l,sortTypeInfoList:c,pageElSn:m,reviewStore:u,showRateFilter:d,showSortStaticLable:p,handleStaticSortClick:g,defaultSortVisible:f,isPage:b,onMouseDownFunc:S,onMouseLeaveFunc:I,mostRecentHandle:E,reviewsExpParams:y,sortTypeInfoExtra:_,isItemReview:x}=e;const{t:A}=(0,h.B)("comments"),{weakBorderLabel:R,twoLineLabel:C,scrollLabel:N}=(0,X.eI)(),[k,M]=(0,a.useState)(!1),[D,z]=(0,a.useState)(!1),H=(0,a.useRef)();(0,a.useEffect)((()=>{const e=H.current;if(e&&C){const t=e.scrollHeight-e.offsetHeight>30;M(t)}}),[]);const F=(0,a.useCallback)((()=>{z(!0)}),[]),B=(e,t)=>{const{title:i,content:n,confirmText:r}=t?.content||{};n&&r&&(e?.stopPropagation(),(0,P.P)({popupNode:a.createElement(w.A,{onClose:P.L,title:i,confirmButtonLabel:r,onConfirm:P.L},a.createElement("p",{className:ae().sortPopupContent},n))}))},{text:q,code:O,richText:G}=c?.[0]||{},$=!!p&&!!q,{text:K,code:J}=_?.[0]||{},{sortTypeStyle:Y}=x&&y||{},Z=!!K&&!!Y,ie="2"===Y,ne=(0,W.A)((()=>{E?.(J)}));return r&&r.length||c&&c.length&&(i||p)?a.createElement(v.Rp,{page_el_sn:m?.pageSn,useClick:!1},a.createElement("div",{className:C?ae().arrowScrollWrap:""},!!ie&&a.createElement("div",{className:ae().splitSortWrap},a.createElement("span",{className:ae().sortLable},A("sortBy"),":"),b?a.createElement("div",{className:L()({[ae().splitTagRecommend]:!0,[ae().sortSelect]:l===O}),onClick:g,role:"button",tabIndex:0},G?a.createElement(T.l5,{className:ae().recommendRich,newRichText:G,customRenderWhiteList:[V.E.tips],customRenderTextRichItem:e=>{const{type:t,value:i,action:n}=e||{};return 100===t&&i?a.createElement(j.A,{src:i,className:ae().yiwenIcon,onClick:e=>B(e,n),alt:""}):null}}):a.createElement(a.Fragment,null,a.createElement("span",null,q),a.createElement(U.hu,{className:ae().arrow,direction:""})),a.createElement("div",{className:ae().sortLine})):a.createElement(te.A,{source:c,sortType:l,selectCallback:n,pageElSn:m?.selectSn,placement:"bottomLeft",style:{right:"100%",left:0},innerStyle:{transform:"none"},sortTypeStyle:Y}),a.createElement("span",{className:L()({[ae().mostRencent]:!b,[ae().sortSelect]:l===J}),onClick:ne,role:"button",tabIndex:0},K)),a.createElement("div",{ref:H,className:L()(ae().sortWrap,{[ae().weakWrap]:R,[ae().twoLineLabel]:C&&!D,[ae().scrollWrap]:N,[ae().noLableSort]:!r?.length&&!d&&ie},t)},!!$&&!ie&&a.createElement("div",{className:L()(ae().staticSort,{[ae().selectSort]:f||0===l&&!!Y,[ae().noPointer]:Y}),onClick:g,tabIndex:0,role:"button"},G?a.createElement(T.l5,{className:ae().recommendRich,newRichText:G,customRenderWhiteList:[V.E.tips],customRenderTextRichItem:e=>{const{type:t,value:i,action:n}=e||{};return 100===t&&i?a.createElement(j.A,{src:i,className:ae().yiwenIcon,onClick:e=>B(e,n),alt:""}):null}}):a.createElement(a.Fragment,null,a.createElement("span",null,q),a.createElement(U.hu,{className:ae().arrow,direction:""}))),!!i&&!ie&&a.createElement(te.A,{source:c,sortType:l,selectCallback:n,pageElSn:m?.selectSn,placement:"bottomLeft",style:{right:"100%",left:0},innerStyle:{transform:"none"},sortTypeStyle:Y}),!!Z&&!ie&&a.createElement(Q.A,{pageSn:m?.labelSn,text:K,labelId:J,onClick:ne,isSelected:l===J,isPage:b,readableText:K}),!!Y&&!ie&&!(!r?.length&&!d)&&a.createElement("div",{className:ae().tabLine}),!!d&&a.createElement(ee,{reviewStore:u,placement:"2"===Y?"bottomLeft":void 0}),(r||[]).map(((e,t)=>{const{text:i,labelId:n,textFormat:r,iconFormat:l,needHighlight:c,richText:u,readableText:d}=e||{},p=n===String(s);return a.createElement(Q.A,{key:`${n}${i}`,pageSn:l?226149:m?.labelSn,text:i,needHighlight:c,labelId:n,textFormat:r,iconFormat:l,index:t,onClick:o,isSelected:p,concatRichText:u,isPage:b,readableText:d,onMouseDownFunc:S,onMouseLeaveFunc:I})}))),!!k&&!D&&a.createElement("div",{className:ae().moreBtn,onClick:F,role:"button",tabIndex:0},a.createElement(U.hu,{className:ae().bottomArrow,direction:"bottom"})))):null}));var re=ne,oe=i(22560),se=i.n(oe);var le=(0,n.PA)((e=>{let{reviewStore:t,className:i,isPage:n,interaction:r,onMouseDownFunc:o,onMouseLeaveFunc:s,reviewsExpParams:l}=e;const{showCommentDialog:c,handleCommentDialogByLable:m,activeTopIndex:d,onReviewSortChange:p,labelsInfo:h,pageLabelsInfo:g,onReviewLabelChange:w,selectedSortLabelId:v,selectedLabelId:f,goodsInfoExpParams:b,querySimilarCommentList:S,handleStaticSort:I,dialogFrom:E,mostRecentHandle:y}=t,_=d===u.qf.ITEM,{sortTypeInfoList:x,labels:A,sortTypeInfoExtra:R}=(n?g:h)[d]||{},C=_?u.A8:u.O7,T=!n&&x&&Array.isArray(x)&&x.length>0,P=n&&Array.isArray(x)&&x.length>0,N=E===u.a7.SORT,k=(0,a.useCallback)((e=>{c?w(e):(r&&r.start({type:"click"}),S(!0),m(e,r))}),[m,S,r,w,c]),M=(0,W.A)((async e=>{await(y?.(e,r))})),D=(0,W.A)((async()=>{await(I?.(r))})),{showRatingFilters:z}=b||{},H=t.$root?.expParams?.noReviewInfo,F=!n&&_&&"true"===z&&"4"!==H;return d===u.qf.SHOP&&n?null:a.createElement(re,{labels:A,sortType:v,sortTypeInfoList:x,isShowSortSelector:T,selectedLabelId:f,onReviewSortChange:p,onLabelToggle:k,pageElSn:C,reviewStore:t,className:L()(se().warp,i),showRateFilter:F,showSortStaticLable:P,handleStaticSortClick:D,defaultSortVisible:N,isPage:n,onMouseDownFunc:o,onMouseLeaveFunc:s,mostRecentHandle:M,reviewsExpParams:l,sortTypeInfoExtra:R,isItemReview:_})})),ce=i(14242),me=i(67388);const ue=a.forwardRef(((e,t)=>{const{t:i,i18n:n}=(0,h.B)("bec-fe.svg-icons-pc");return a.createElement(me.i,(0,ce.A)({ref:t,fill:"#cdcdcd"},e,{path:["M738.2 200.5c23.6 0 42.7 19.1 42.6 42.7l0 452.3c0 75.4-61.1 136.5-136.5 136.5l-366.9 0c-23.6 0-42.7-19.1-42.7-42.7l0-546.1c0-23.6 19.1-42.7 42.7-42.7l460.8 0z m0 17.1l-460.8 0c-14.1 0-25.6 11.5-25.6 25.6l0 546.1c0 14.1 11.5 25.6 25.6 25.6l366.9 0c66 0 119.5-53.5 119.5-119.4l0-452.3c0-14.1-11.5-25.6-25.6-25.6z m-345.6 418.1l0 17.1-59.7 0 0-17.1 59.7 0z m93.9 0l0 17.1-59.8 0 0-17.1 59.8 0z m87.3 0l0 17.1-53.2 0 0-17.1 53.2 0z m-181.2-128l0 17.1-59.7 0 0-17.1 59.7 0z m93.9 0l0 17.1-59.8 0 0-17.1 59.8 0z m93.8 0l0 17.1-59.7 0 0-17.1 59.7 0z m93.9 0l0 17.1-59.7 0 0-17.1 59.7 0z m-281.6-128l0 17.1-59.7 0 0-17.1 59.7 0z m93.9 0l0 17.1-59.8 0 0-17.1 59.8 0z m93.8 0l0 17.1-59.7 0 0-17.1 59.7 0z m93.9 0l0 17.1-59.7 0 0-17.1 59.7 0z"],"aria-label":e["aria-label"]??(n.exists("aria-label.KongtaiPingjiakong",{ns:"bec-fe.svg-icons-pc"})?i("aria-label.KongtaiPingjiakong"):void 0),rtlPath:["M285.8 200.5c-23.6 0-42.7 19.1-42.6 42.7l0 452.3c0 75.4 61.1 136.5 136.5 136.5l366.9 0c23.6 0 42.7-19.1 42.7-42.7l0-546.1c0-23.6-19.1-42.7-42.7-42.7l-460.8 0z m0 17.1l460.8 0c14.1 0 25.6 11.5 25.6 25.6l0 546.1c0 14.1-11.5 25.6-25.6 25.6l-366.9 0c-66 0-119.5-53.5-119.5-119.4l0-452.3c0-14.1 11.5-25.6 25.6-25.6z m345.6 418.1l0 17.1 59.7 0 0-17.1-59.7 0z m-93.9 0l0 17.1 59.8 0 0-17.1-59.8 0z m-87.3 0l0 17.1 53.2 0 0-17.1-53.2 0z m181.2-128l0 17.1 59.7 0 0-17.1-59.7 0z m-93.9 0l0 17.1 59.8 0 0-17.1-59.8 0z m-93.8 0l0 17.1 59.7 0 0-17.1-59.7 0z m-93.9 0l0 17.1 59.7 0 0-17.1-59.7 0z m281.6-128l0 17.1 59.7 0 0-17.1-59.7 0z m-93.9 0l0 17.1 59.8 0 0-17.1-59.8 0z m-93.8 0l0 17.1 59.7 0 0-17.1-59.7 0z m-93.9 0l0 17.1 59.7 0 0-17.1-59.7 0z"]}))}));ue.supportRtl=!0;var de=ue,pe=i(54403),he=i(8160),ge=i.n(he);function we(e){let{className:t,onSecondaryButtonClick:i}=e;const{t:n}=(0,h.B)("comments");return a.createElement("div",{className:L()(ge().empty,t)},a.createElement(pe.A,{title:n("emptyTitle"),desc:n("emptySubtitle"),imageConfigs:{svg:a.createElement(de,{className:ge().svg})},secondaryButtonLabel:n("seeAllReviews"),onSecondaryButtonClick:i}))}var ve=(0,a.memo)(we),fe=i(41177),be=i.n(fe);var Se=(0,n.PA)((e=>{let{reviewStore:t,className:i}=e;const{activeTopIndex:n,selectFilterStar:r,selectedLabelId:o,itemReviewInfo:s,mallReviewInfo:l,scoreNumInfoList:c,labelsInfo:m,commentHasMore:d}=t,p=n===u.qf.ITEM,{emptyReviewFoldText:h}=(p?s:l)||{};let g;if(r){if(!p)return null;const e=c?.find((e=>e.score===r));g=e?.emptyReviewFoldText}else if(o){const e=m?.[n]?.labels?.find((e=>e.labelId===o));g=e?.emptyReviewFoldText}else g=h;return!g||d?null:a.createElement("div",{className:L()(be().globaleText,i)},g)})),Ie=i(95789),Ee=i(72620),ye=i(1528),Le=i(59661),_e=i(10147),xe=i(81490),Ae=i.n(xe),Re=(0,a.memo)((e=>{let{closePopup:t,buttonType:i=ye.el.primary,dialogData:n}=e;const{title:r="",content:o="",confirmBtnText:s=""}=n||{};return r?a.createElement(Le.Ay,{onClick:t},a.createElement("div",{className:Ae().wrap},a.createElement("div",{className:Ae().content},a.createElement("div",{className:Ae().head},r),a.createElement("div",{className:Ae().container},a.createElement("div",{className:Ae().contentText},o),a.createElement(_e.A,{className:Ae().confirmBtn,type:i,onClick:t},s))))):null})),Ce=i(50874),Te=i.n(Ce);var Pe=(0,n.PA)((e=>{let{title:t="",className:i,reviewStore:n,similarReviewGuidelinesPopup:r}=e;const{onlyShowSimilarReviews:o,reviewAuthenticityPopupVo:s}=n||{},{t:l}=(0,h.B)("goods",{keyPrefix:"review"});return t?a.createElement("div",{className:L()(Te().simillarReviewListWrap,i)},a.createElement("div",{className:Te().header},a.createElement("div",{className:Te().simillarTitle},a.createElement("div",{className:Te().title},t),a.createElement("div",{onClick:()=>{const e=(0,Ie.A)(a.createElement(Re,{dialogData:r,closePopup:()=>{e?.()}}),{})},className:Te().shcdowIcon,tabIndex:0,role:"button"},a.createElement(Ee.A,{className:Te().icon,"aria-hidden":!0,style:{width:"14px",height:"14px"}}))),o?a.createElement(M.A,{text:l("purchasesTips"),reviewAuthenticityPopupVo:s,pageSnEl:228678}):null)):null})),Ne=i(54198),ke=i.n(Ne);const Me=()=>null,De=(0,n.PA)((e=>{let{data:t,index:i}=e;const n=(0,s.Pj)(),{reviewStore:r,expParams:o={},pageSN:l,trackingInfo:c}=n||{},{toggleAnonymousSimilar:u,activeTopIndex:d,newDeleteReview:p}=r||{},h=(0,m.w)((async(e,t,i)=>{await u(e,t,!1,i)})),g=(0,m.w)((async(e,t)=>{await p(e,t)}));return a.createElement(E,{data:t,pageSn:l,activeTopIndex:d,onDeleteReview:g,onToggleAnonymous:(e,t)=>h(e,i,t),expParams:o,index:i,isSimilarDialogItem:!0,trackingInfo:c,itemShowType:b.J.GOODS_DIALOG})}));var ze=(0,n.PA)((e=>{let{reviewStore:t,hideSimilarTitle:i}=e;const{querySimilarCommentList:n,tabIndexTitle:r,activeTopIndex:o,similarCommentHasMore:s,similarCommentList:l,similarDialogInfo:c,listShowSimilarReviews:m}=t,d=!l?.length&&s,{similarReviewSubTitle:p,similarReviewGuidelinesPopup:h}=c||{},w=Object.keys(r).length>1&&o===u.qf.SHOP;return l?.length&&m&&!w?a.createElement("div",{className:ke().wrap},i?null:a.createElement(Pe,{className:ke().similarTitle,reviewStore:t,title:p,similarReviewGuidelinesPopup:h}),a.createElement(g.A,{wrapperClass:ke().list,datasource:l,hasMore:!!s,itemKey:"reviewId",loadMoreData:n,renderItem:De,showLoading:!d,ListEndView:Me,loadingText:"",autoOptimize:!1})):null})),He=i(61708),Fe=i.n(He);const Be=(0,n.PA)((e=>{let{data:t,index:i}=e;const n=(0,s.Pj)(),{reviewStore:r,expParams:o={},pageSN:l,trackingInfo:c}=n||{},{activeTopIndex:u,newToggleAnonymous:d,newDeleteReview:h}=r||{},g=(0,m.w)((async(e,t,i)=>{await d(e,t,!1,i)})),w=(0,m.w)((async(e,t)=>{await h(e,t)})),v=(0,m.w)(((e,t)=>{g(e,i,t)}));return a.createElement(E,{data:t,pageSn:l,activeTopIndex:u,onDeleteReview:w,onToggleAnonymous:v,expParams:o,index:i,trackingInfo:c,itemShowType:b.J.GOODS_DIALOG,purchasedCard:u===p.qf.ITEM})})),qe=()=>null,Oe=(0,n.PA)((e=>{let{reviewStore:t}=e;const{queryCommentList:i,commentHasMore:n,commentList:r}=t,o=!r?.length&&n;return r?.length?a.createElement("div",{className:Fe().wrap},a.createElement(g.A,{wrapperClass:Fe().list,datasource:r,hasMore:!!n,itemKey:"reviewId",loadMoreData:i,renderItem:Be,showLoading:!o,ListEndView:qe,loadingText:"",autoOptimize:!1})):null}));var Ge=(0,l.A)((0,r.W4)(),n.PA)((e=>{let{reviewStore:t,interaction:i}=e;const{showCommentDialog:n,closeCommentDialog:r,activeTopIndex:o,reviewAuthenticityPopupVo:s,showAllReviews:l,commentList:c,similarDialogInfo:m,similarCommentList:u,listShowSimilarReviews:d,selectedLabelId:g,selectFilterStar:b,tabIndexTitle:S,goodsInfoExpParams:I,$root:E}=t,{isSpecialRegion:y}=E||{},{t:L}=(0,h.B)("comments"),{t:_}=(0,h.B)("goods",{keyPrefix:"review"}),x=o===p.qf.ITEM,A=m?.similarReviewTitle,R=!c?.length,C=!g&&!b,T=Object.keys(S||{}).length,P=d&&(T<2||x)&&!!u?.length,N=R&&C&&P;let k=!1;R&&(k=!C||!P);let D=L("itemReviews");if(!k&&R&&A)D=A;else{const e=L(y?"shopReviews":"shopReviews2");D=x?L("itemReviews"):e}return(0,a.useEffect)((()=>{n&&(0,f.A)("open_comment_dialog_open")}),[n]),n?a.createElement(a.Fragment,null,a.createElement(w.A,{onClose:r,title:D,size:"l",baseDialogProps:{dialogProps:{className:Fe().dialogWrap}},scrollContainerProps:{scrollClassName:Fe().scroll}},a.createElement(v.Rp,{useClick:!1,page_el_sn:227612,others:{review_type:o}},a.createElement("div",{className:Fe().dialogWrap},a.createElement(M.A,{text:_("purchasesTips"),reviewAuthenticityPopupVo:s,isDialog:!0}),!!x&&a.createElement(G,{className:Fe().scoreRate,reviewsExpParams:I}),!N&&a.createElement(le,{reviewStore:t,reviewsExpParams:I}),k?a.createElement(a.Fragment,null,a.createElement(Se,{reviewStore:t,className:Fe().globaleText}),a.createElement(ve,{className:Fe().empty,onSecondaryButtonClick:l})):a.createElement(a.Fragment,null,a.createElement(Oe,{reviewStore:t}),!R&&a.createElement(Se,{reviewStore:t})),a.createElement(ze,{hideSimilarTitle:!!R&&!k,reviewStore:t})))),a.createElement(i.End,{name:"pc_goods_CommentListDialog"})):null})),We=i(82370),Ve=i(53938),Ue=i(36162),je=i.n(Ue);var Xe=(0,n.PA)((function(e){let{reviewStore:t,reviewListLength:i,setHideShopReview:n,hideShopReview:r}=e;const o=(0,Ve.d)(),{t:s}=(0,h.B)("goods",{keyPrefix:"review"}),{newSetActiveIndex:l,mallReviewNum:c,mallReviewNumStr:m,needShowSimilarReviews:d,noGoodsReviewHasShopReview:p,mallReview:g,similarReview:w,$root:f}=t||{},b=f?.isSpecialRegion,{withoutReviewTitle:S,withoutReviewText:I}=g||{},{withoutReviewText:E,withoutReviewTitle:y}=w||{},_=(d?y:S)||s("noItemReviewYet"),x=m,A=s(c>1?b?"shopItems":"shopItems2":b?"shopItem":"shopItem2",{reviewNumber:x}),R=d?E:I||A,C=i<2&&d,T=p||C,P=s(b?"checkOutShopItem":"checkOutShopItem2");return T?a.createElement("div",{className:L()(je().noGoodsReviewTips,je().borderMagin,{[je().showBottomBorder]:!r,[je().showSimilarReviews]:C})},a.createElement("div",{className:je().noGoodsReviewTipTitle,tabIndex:0,role:"link"},_),a.createElement(v.Rp,{useClick:!0,page_el_sn:207847,others:{check_out_shop_reviews:r?0:1}},a.createElement("div",{className:L()(je().noGoodsReviewTipContent,{[je().similarReviews]:d}),onClick:()=>{d||(n(!r),l(u.qf.SHOP))},tabIndex:0,role:"button","aria-label":`${R}${P}`},a.createElement("span",{"aria-hidden":!0},R," "),d?null:a.createElement("span",{"aria-hidden":!0},P),d?null:a.createElement(We.Ay,(0,ce.A)({className:L()(je().noGoodsItemTipsArrow,{[je().arrowUp]:!r}),src:"https://aimg.kwcdn.com/upload_aimg/tm/3b58a9b5-bfbe-43e2-9729-b7b5598fece1.png","aria-hidden":!0,alt:""},o))))):null})),$e=i(58231),Ke=i.n($e);var Qe=(0,n.PA)((e=>{let{expParams:t,reviewStore:i,pageSN:n,trackingInfo:r,openCommentDialog:o}=e;const{activeTopIndex:s,initPageReviewListMap:l,onlyShowSimilarReviews:c,newToggleAnonymous:u,newDeleteReview:d,onMouseDownPreloadData:p,onMouseLeaveClearPreloadPromise:h}=i,g=(0,m.w)((async(e,t,i)=>{await u(e,t,!0,i)})),w=(0,m.w)((async(e,t)=>{await d(e,t,!0)})),v=l[s]||[];return c?null:a.createElement("div",{role:"button",tabIndex:0,onClick:o,onMouseDown:p,onMouseLeave:h,className:Ke().reviewListWrapper},v.map(((e,i)=>{const{reviewId:o}=e||{};return a.createElement(E,{key:o,data:e,pageSn:n,activeTopIndex:s,onDeleteReview:w,onToggleAnonymous:(e,t)=>g(e,i,t),expParams:t,index:i,trackingInfo:r,hasImages:!1,hasBtnAndFit:!1,itemShowType:b.J.GOODS_PAGE})})))})),Je=i(32640),Ye=i.n(Je);var Ze=(0,n.PA)((e=>{let{expParams:t,reviewStore:i,pageSN:n,trackingInfo:r,openCommentDialog:o}=e;const{activeTopIndex:s,similarReview:l,tabIndexTitle:c,needShowSimilarReviews:d,toggleAnonymousSimilar:p,newDeleteReview:h,onMouseDownPreloadData:g,onMouseLeaveClearPreloadPromise:w}=i,v=Object.keys(c).length>1&&s===u.qf.SHOP,{reviewInfoList:f,similarReviewSubTitle:S,similarReviewGuidelinesPopup:I}=l||{},y=(0,m.w)((async(e,t,i)=>{await p(e,t,!0,i)})),L=(0,m.w)((async(e,t)=>{await h(e,t,!0)}));return!d||v?null:a.createElement("div",{role:"button",tabIndex:0,className:Ye().simillarReviewListWrap,onClick:o,onMouseDown:g,onMouseLeave:w},a.createElement(Pe,{reviewStore:i,className:Ye().similarTitle,title:S,similarReviewGuidelinesPopup:I}),a.createElement("div",{className:Ye().simillarReviewList},f.map(((e,i)=>{const{reviewId:o}=e||{};return a.createElement(E,{key:o,data:e,pageSn:n,activeTopIndex:s,onDeleteReview:L,onToggleAnonymous:(e,t)=>y(e,i,t),expParams:t,index:i,trackingInfo:r,hasImages:!1,hasBtnAndFit:!1,itemShowType:b.J.GOODS_PAGE})}))))})),et=i(33765),tt=i.n(et);var it=(0,n.PA)((function(e){let{hideShopReview:t,reviewStore:i,pageSN:n,trackingInfo:r,reviewsExpParams:o,interaction:s}=e;const{t:l}=(0,h.B)("comments"),{weakBorderLabel:c,twoLineLabel:u,scrollLabel:d}=(0,X.eI)(),{handleCommentDialog:p,noGoodsReviewHasShopReview:g,needShowSimilarReviews:w,onMouseDownPreloadData:b,onMouseLeaveClearPreloadPromise:S}=i||{},I=(0,m.w)((()=>{(0,f.A)("click_open_comment_dialog_button"),s.start({type:"click"}),p(s)}));return g&&t&&!w?null:a.createElement(a.Fragment,null,a.createElement(le,{reviewStore:i,isPage:!0,className:L()({[tt().sort]:!u&&!d,[tt().heightAuto]:!!c}),interaction:s,reviewsExpParams:o,onMouseDownFunc:b,onMouseLeaveFunc:S}),a.createElement(Qe,{expParams:o,reviewStore:i,pageSN:n,trackingInfo:r,openCommentDialog:I}),a.createElement(Ze,{expParams:o,reviewStore:i,pageSN:n,trackingInfo:r,openCommentDialog:I}),a.createElement(v.Rp,{page_el_sn:200451},a.createElement(_e.A,{onClick:I,onMouseDown:b,onMouseLeave:S,type:ye.el.border,size:"lg",className:tt().moreWarp,accessibility:!0},l("seeAllReviews"))))})),at=i(34760),nt=i(40822),rt=i(81411),ot=i(15471),st=i.n(ot);const lt=(0,a.memo)((e=>{let{text:t,onClick:i,className:n,dataIdx:r,isActive:o}=e;const[s,l,,c]=(0,rt.A)(),m=(0,a.useCallback)((e=>{o?c?.(void 0):l?.onMouseLeave?.(e)}),[l,o,c]);return a.createElement(nt.H2,{role:"tab",tabIndex:0,"aria-label":t,"aria-selected":o,text:t,onClick:i,className:L()(n,!o&&s,st().reviewTabItem),"data-idx":r,onMouseEnter:l.onMouseEnter,onMouseLeave:m},t)}));var ct=(0,n.PA)((e=>{let{reviewStore:t,reviewListLength:i}=e;const{activeTopIndex:n,setTopActiveIndex:r,subtitleText:o,tabIndexTitle:s}=t||{},l=(0,a.useCallback)((e=>{const t=+e.currentTarget.dataset.idx;r(t)}),[r]);return i<2?null:a.createElement("div",{className:st().topContainer},a.createElement("div",{className:st().top,role:"tablist"},Object.keys(s).map(((e,t)=>{const i=s[e];return a.createElement(a.Fragment,{key:t},!!t&&a.createElement("div",{className:st().topLabelSeperator}),a.createElement(lt,{key:e,className:L()(st().topLable,n===Number(e)&&st().active),dataIdx:e,onClick:l,text:i,isActive:n===Number(e)}))}))),!!o&&n===p.qf.ITEM&&a.createElement("div",{className:st().subtitleText,dangerouslySetInnerHTML:{__html:o}}))})),mt=i(63669),ut=i(81482),dt=i.n(ut);var pt=(0,l.A)((0,r.W4)({name:"Review"}),n.PA)((()=>{const e=(0,s.Pj)(),{query:t={},reviewStore:i,commonCommentStore:n,commentBigPictureStore:r,globalResizeTrigger:l,lang:c,expParams:m={},control:p,pageSn:h,CartScene:g,trackingInfo:w,$axiosHttp:v,isRobot:f}=e||{},{activeTopIndex:b,goodsInfoExpParams:S,tabIndexTitle:I,clothFitReviewInfoList:E,needShowSimilarReviews:y,mallReviewNum:L,reviewNum:_,showReview:x,reviewClothFitReviewText:A,clothFitTipV2:R}=i||{},C=(0,a.useMemo)((()=>({...m,...S})),[m,S]),T="1"===m?.removePcMallReviewInGoodsDetail,P=(0,a.useMemo)((()=>{const e=C?.reviewLabelStyle;return{reviewLabelStyle:e,boldLabel:"1"===e,weakBorderLabel:["1","2","3","4"].includes(e),twoLineLabel:"5"===e,scrollLabel:"6"===e}}),[C]),N=Object.keys(I).length,{_anchoring_review:k}=t||{},M=0===b,[D,z]=(0,a.useState)(!0),H=(0,o.Mj)(),B=L>0||_>0,q=(0,a.useRef)(null);return(0,a.useEffect)((()=>{k===u.NO&&q.current&&q.current.scrollIntoView&&q.current.scrollIntoView()}),[k,l]),(0,a.useEffect)((()=>{(0,mt.G)(v)}),[v]),(N&&x||y)&&!f?a.createElement(X.pP,{value:P},a.createElement("div",{className:dt().wrap,id:"reviewContent",ref:q,"data-nosnippet":!0},a.createElement(F,{reviewStore:i,lang:c,reviewListLength:N,reviewsExpParams:C}),T?null:a.createElement(ct,{reviewStore:i,reviewListLength:N}),B?a.createElement("div",{className:dt().baseLine}):null,!!M&&a.createElement(G,{isPage:!0,reviewsExpParams:C}),a.createElement(at.A,{clothFitReviewInfoList:E,isShowReviewProgress:M,clothFitTipV2:R,reviewClothFitReviewText:A}),a.createElement(Xe,{reviewStore:i,reviewListLength:N,setHideShopReview:z,hideShopReview:D}),a.createElement(it,{reviewStore:i,trackingInfo:w,reviewsExpParams:C,hideShopReview:D,pageSN:h,interaction:H}),a.createElement(Ge,{reviewStore:i,interaction:H}),a.createElement(d,{expParams:C,commonCommentStore:n,commentBigPictureStore:r,control:p,reviewStore:i,pageSN:h,CartScene:g}))):a.createElement(F,{reviewStore:i,lang:c,reviewListLength:N,reviewsExpParams:C,className:dt().titleWrap})}))},63669:function(e,t,i){"use strict";i.d(t,{G:function(){return v}});var a=i(63962),n=i(90230);i(44114);const r=e=>{const t=e?.isSimilarReview||!1,i=(e?.data||e||[]).map((e=>{const i=[];let{pictures:a,video:n,specs:r,goodsInfo:o,goodsName:s,goodsLinkUrl:l,goodsSeoLinkUrl:c,...m}=e||{};if(n){const t=e.video,a={url:t.coverImageUrl,width:t.coverImageWidth,height:t.coverImageHeight,videoUrl:t.url,videoHeight:t.height,videoWidth:t.width};i.push(a)}return(l||c)&&(o={...o||{},linkUrl:c||l,goodsName:s}),o?.seoLinkUrl&&(o.linkUrl=o.seoLinkUrl),m.goodsInfo=o,a&&i.push(...e.pictures),m.isSimilarReview=t,m.list=i,m.specs=r?JSON.parse(r):[],m})),a=e.maxListSize??0,n=e.popupTitle??"",r=e?.expParams;return{list:i,reviewMaxListSize:a,popupTitle:n,expParams:r}};function o(e){e.isSimilarReview=!0;const t=r(e);return{...e,...t}}function s(e){const{sortTypeInfoList:t}=e||{},i={sortTypeInfoList:(t||[]).map(((e,t)=>{const{code:i,text:a}=e||{};return{...e||{},labelId:t?i:0,id:i,name:a}}))};return{...e,...i}}const l="/api/bg/engels/reviews/info",c="/api/bg/engels/reviews/list",m="/api/bg/engels/reviews/mall/info",u="/api/bg/engels/reviews/mall/list",d="/api/bg/engels/reviews/delete/review",p="/api/bg/engels/reviews/anonymous/review",h="/api/bg/engels/reviews/similar/list";class g extends a.dD{getItemsLabels(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getRisk({url:l,params:e,format:s})}getShopLabels(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getRisk({url:m,params:e,format:s})}queryReviewList(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{activeTopIndex:t}=e;return this.getRisk({url:t?u:c,params:e,format:r})}querySimilarReviewList(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getRisk({url:h,params:e,format:o})}deleteReview(e){return this.postRiskNew({url:d,params:e})}changeAnonymousReview(e){return this.postRisk({url:p,params:{...e,...(0,n.L8)()}})}}let w;const v=e=>w||(w=new g(e),w)},27427:function(e,t,i){"use strict";i.d(t,{Ay:function(){return xe}});var a,n,r,o,s,l,c,m,u,d,p,h,g,w,v,f,b,S,I,E,y,L,_,x,A,R,C,T,P,N,k,M,D,z,H,F,B,q,O,G,W,V,U,j,X,$,K,Q,J,Y,Z,ee,te,ie,ae,ne,re,oe,se,le,ce,me,ue=i(13425),de=i(60055),pe=(i(35639),i(44114),i(64894)),he=i.n(pe),ge=i(37451),we=i(63815),ve=i(84912),fe=i(20162),be=i(63962),Se=i(89747),Ie=i(11775),Ee=i(15031),ye=i(63669);const Le=function(){let e=arguments.length>1?arguments[1]:void 0;const t={},i=[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((a=>{const n=e(a);t[n]||(i.push(a),t[n]=!0)})),i},_e=async function(e){if(!e||"function"!=typeof e)return null;const t=setTimeout((()=>(0,we.WU)("")),arguments.length>1&&void 0!==arguments[1]?arguments[1]:300),i=await e();return clearTimeout(t),(0,we.jD)(),i};let xe=(a=class extends be.zw{constructor(e){var t;super(e),t=this,(0,ue.A)(this,"activeTopIndex",n,this),this.nativeScore=void 0,this.showScore=void 0,this.showScoreStr=void 0,this.reviewNum=void 0,this.mallReviewNum=void 0,this.reviewNumStr=void 0,this.mallReviewNumStr=void 0,(0,ue.A)(this,"dialogFrom",r,this),(0,ue.A)(this,"noGoodsReviewHasShopReview",o,this),(0,ue.A)(this,"goodsInfo",s,this),(0,ue.A)(this,"goodsInfoExpParams",l,this),(0,ue.A)(this,"mallInfoExpParams",c,this),(0,ue.A)(this,"subtitleText",m,this),(0,ue.A)(this,"scoreNumInfoList",u,this),(0,ue.A)(this,"ratingFiltersInfo",d,this),(0,ue.A)(this,"itemReviewInfo",p,this),(0,ue.A)(this,"mallReviewInfo",h,this),(0,ue.A)(this,"goodsScoreText",g,this),(0,ue.A)(this,"getLabels",w,this),this.getLabelsListPromise=null,this.transferGetLabels=async()=>{const{goodsId:e}=this.$root||{},t={goods_id:e,need_fill_goods_info:!0};let i;return this.mouseDownPreload?(this.getLabelsListPromise||(this.getLabelsListPromise=this.reviewService.getItemsLabels(t)),i=await this.getLabelsListPromise):i=await this.reviewService.getItemsLabels(t),i},(0,ue.A)(this,"getShopLabels",v,this),(0,ue.A)(this,"mallReview",f,this),(0,ue.A)(this,"ratingGuidelinesPopupVo",b,this),(0,ue.A)(this,"reviewAuthenticityPopupVo",S,this),(0,ue.A)(this,"clothFitReviewInfoList",I,this),(0,ue.A)(this,"showReview",E,this),(0,ue.A)(this,"showGoodsScore",y,this),(0,ue.A)(this,"similarReview",L,this),this.reviewDisplayNum=2,(0,ue.A)(this,"listShowSimilarReviews",_,this),(0,ue.A)(this,"needShowSimilarReviews",x,this),this.mixedReview=!1,(0,ue.A)(this,"reviewClothFitReviewText",A,this),(0,ue.A)(this,"clothFitTipV2",R,this),(0,ue.A)(this,"resetStoreData",C,this),(0,ue.A)(this,"initDataAction",T,this),(0,ue.A)(this,"setTopActiveIndex",P,this),(0,ue.A)(this,"newSetActiveIndex",N,this),(0,ue.A)(this,"showCommentDialog",k,this),(0,ue.A)(this,"commentList",M,this),(0,ue.A)(this,"commentPage",D,this),(0,ue.A)(this,"commentHasMore",z,this),this.loadCommentMoreLock=!1,(0,ue.A)(this,"selectedSortLabelId",H,this),(0,ue.A)(this,"selectedLabelId",F,this),(0,ue.A)(this,"selectFilterStar",B,this),(0,ue.A)(this,"labelsInfo",q,this),(0,ue.A)(this,"pageLabelsInfo",O,this),(0,ue.A)(this,"pageReviewListMap",G,this),(0,ue.A)(this,"tabIndexTitle",W,this),(0,ue.A)(this,"initPageReviewListMap",V,this),(0,ue.A)(this,"handleCommentDialog",U,this),this.mouseDownPreload=!1,this.preloadSelectedLabelId="",this.onMouseDownPreloadData=e=>{this.clearPreloadPromise(),!e||"string"!=typeof e&&"number"!=typeof e||(this.preloadSelectedLabelId=e),this.mouseDownPreload=!0,this.transferQueryCommentList(!0),this.trasferQuerySimilarCommentList(!0),this.transferGetLabels(),this.preloadSelectedLabelId=""},this.onMouseLeaveClearPreloadPromise=()=>{setTimeout(this.clearPreloadPromise,300)},this.clearPreloadPromise=()=>{this.preloadSelectedLabelId="",this.mouseDownPreload=!1,this.getQueryCommentListPromise=null,this.getLabelsListPromise=null,this.querySimilarCommentListPromise=null},(0,ue.A)(this,"handleCommentDialogByLable",j,this),(0,ue.A)(this,"closeCommentDialog",X,this),(0,ue.A)(this,"clearCommentList",$,this),(0,ue.A)(this,"onReviewSortChange",K,this),this.changeSortLableAndJudgeIfNeedRequestData=e=>{const t=!(this.selectedSortLabelId===e||this.loadCommentMoreLock);return t&&(this.selectedSortLabelId=e??this.selectedSortLabelId),t},(0,ue.A)(this,"onReviewLabelChange",Q,this),this.changeSelectedLable=e=>{const t=this.selectedLabelId===e;this.selectedLabelId=t?"":e,this.selectFilterStar=0},(0,ue.A)(this,"changeFilterStar",J,this),(0,ue.A)(this,"showAllReviews",Y,this),this.commentSize=10,(0,ue.A)(this,"onlyShowSimilarReviews",Z,this),(0,ue.A)(this,"queryCommentList",ee,this),this.getQueryCommentListPromise=null,this.transferQueryCommentList=async function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{goodsId:a,goods:n,mallId:r}=t.$root;e&&(t.commentPage=1);const o=i.activeTopIndex?i.activeTopIndex:t.activeTopIndex,s=t.commentPage,l=o===Ee.qf.ITEM?{goods_review_label_show:!0,...t.selectFilterStar?{filter_score:t.selectFilterStar}:{}}:{mall_id:n?.mallId||r,activeTopIndex:t.activeTopIndex,source:2},c={goods_id:a,page:s,size:t.commentSize,need_max_size:!0,sort_type:t.selectedSortLabelId,...l,...t.preloadSelectedLabelId||t.selectedLabelId?{label_id:t.preloadSelectedLabelId||t.selectedLabelId||""}:{},...i};let m;return t.mouseDownPreload?(t.getQueryCommentListPromise||(t.getQueryCommentListPromise=t.reviewService.queryReviewList(c)),m=await t.getQueryCommentListPromise):m=await t.reviewService.queryReviewList(c),m},this.setAssignCommentList=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=a.activeTopIndex?a.activeTopIndex:t.activeTopIndex,{list:r,reviewMaxListSize:o,expParams:s}=e,l=he()(r)?r:[],c=n===Ee.qf.ITEM;(0,ge.h5)((()=>{if(!c&&"100000000"===String(a?.label_id||t.selectedLabelId)){let e=(t.commentPage-1)*t.commentSize+1;l.forEach((t=>{t.picListIndex=e++}))}const e=i?l:[...t.commentList,...l];t.commentHasMore=o>e.length&&o>10,t.commentList=Le(e,(e=>e?.reviewId)),i&&t.commentList.length&&(t.pageReviewListMap[n]=t.commentList),t.initPageReviewListMap[n].length||(t.initPageReviewListMap[n]=t.pageReviewListMap[n]),t.loadCommentMoreLock=!1,t.commentPage+=1}))},(0,ue.A)(this,"similarCommentHasMore",te,this),this.loadSimilarCommentMoreLock=!1,(0,ue.A)(this,"similarCommentPage",ie,this),(0,ue.A)(this,"similarCommentList",ae,this),(0,ue.A)(this,"similarDialogInfo",ne,this),(0,ue.A)(this,"querySimilarCommentList",re,this),this.querySimilarCommentListPromise=null,this.trasferQuerySimilarCommentList=async e=>{e&&(this.similarCommentPage=1);const t={goods_id:this.$root.goodsId,page:this.similarCommentPage,size:this.commentSize,need_max_size:!0};let i;return this.mouseDownPreload?(this.querySimilarCommentListPromise||(this.querySimilarCommentListPromise=this.reviewService.querySimilarReviewList(t)),i=await this.querySimilarCommentListPromise):i=await this.reviewService.querySimilarReviewList(t),i},(0,ue.A)(this,"newDeleteReview",oe,this),(0,ue.A)(this,"newToggleAnonymous",se,this),(0,ue.A)(this,"toggleAnonymousSimilar",le,this),(0,ue.A)(this,"handleStaticSort",ce,this),(0,ue.A)(this,"mostRecentHandle",me,this),(0,ge.Gn)(this)}get reviewService(){return(0,ye.G)(this.$root.$axiosHttp)}},n=(0,de.A)(a.prototype,"activeTopIndex",[ge.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ee.qf.ITEM}}),r=(0,de.A)(a.prototype,"dialogFrom",[ge.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ee.a7.EMPTY}}),o=(0,de.A)(a.prototype,"noGoodsReviewHasShopReview",[ge.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s=(0,de.A)(a.prototype,"goodsInfo",[ge.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=(0,de.A)(a.prototype,"goodsInfoExpParams",[ge.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),c=(0,de.A)(a.prototype,"mallInfoExpParams",[ge.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),m=(0,de.A)(a.prototype,"subtitleText",[ge.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=(0,de.A)(a.prototype,"scoreNumInfoList",[ge.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=(0,de.A)(a.prototype,"ratingFiltersInfo",[ge.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=(0,de.A)(a.prototype,"itemReviewInfo",[ge.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=(0,de.A)(a.prototype,"mallReviewInfo",[ge.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=(0,de.A)(a.prototype,"goodsScoreText",[ge.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,de.A)(a.prototype,"getLabels",[ge.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async()=>{if(this.labelsInfo[Ee.qf.ITEM])return;const{labels:e,sortTypeInfoList:t,goodsInfo:i,expParams:a,scoreNumInfoList:n,ratingFiltersInfo:r,emptyReviewFoldText:o,goodsScoreText:s,sortTypeInfoExtra:l}=await this.transferGetLabels()||{},c={labels:e,sortTypeInfoList:t,sortTypeInfoExtra:l};(0,ge.h5)((()=>{this.labelsInfo[Ee.qf.ITEM]=c,this.goodsInfo=i||{},this.goodsInfoExpParams=a||{},this.scoreNumInfoList=n,this.ratingFiltersInfo=r,this.itemReviewInfo={emptyReviewFoldText:o},this.goodsScoreText=s}))}}}),v=(0,de.A)(a.prototype,"getShopLabels",[ge.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{if(this.labelsInfo[Ee.qf.SHOP])return;const{getMallId:t}=this.$root||{},i=e||t?.();if(!i)return;const{labels:a,sortTypeInfoList:n,expParams:r,emptyReviewFoldText:o,sortTypeInfoExtra:s}=await this.reviewService.getShopLabels({mall_id:i})||{},l={labels:a,sortTypeInfoList:n,sortTypeInfoExtra:s};(0,ge.h5)((()=>{this.labelsInfo[Ee.qf.SHOP]=l,this.pageLabelsInfo[Ee.qf.SHOP]={labels:a},this.mallInfoExpParams=r||{},this.mallReviewInfo={emptyReviewFoldText:o}}))}}}),f=(0,de.A)(a.prototype,"mallReview",[ge.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),b=(0,de.A)(a.prototype,"ratingGuidelinesPopupVo",[ge.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,de.A)(a.prototype,"reviewAuthenticityPopupVo",[ge.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=(0,de.A)(a.prototype,"clothFitReviewInfoList",[ge.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,de.A)(a.prototype,"showReview",[ge.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),y=(0,de.A)(a.prototype,"showGoodsScore",[ge.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),L=(0,de.A)(a.prototype,"similarReview",[ge.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),_=(0,de.A)(a.prototype,"listShowSimilarReviews",[ge.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=(0,de.A)(a.prototype,"needShowSimilarReviews",[ge.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),A=(0,de.A)(a.prototype,"reviewClothFitReviewText",[ge.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=(0,de.A)(a.prototype,"clothFitTipV2",[ge.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,de.A)(a.prototype,"resetStoreData",[ge.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.labelsInfo={},this.pageLabelsInfo={[Ee.qf.ITEM]:{},[Ee.qf.SHOP]:{}},this.commentHasMore=!0,this.loadCommentMoreLock=!1,this.similarCommentHasMore=!0,this.loadSimilarCommentMoreLock=!1,this.tabIndexTitle={},this.activeTopIndex=Ee.qf.ITEM,this.reviewDisplayNum=2,this.showReview=!0,this.closeCommentDialog(),this.clearPreloadPromise()}}}),T=(0,de.A)(a.prototype,"initDataAction",[ge.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&e.resetStoreData(),e.noGoodsReviewHasShopReview=!1;const{reviewInfoList:i=[],reviewNum:a,reviewNumStr:n,mallReview:r={},reviewNumText:o,goodsScore:s,goodsScoreText:l,labels:c,ratingGuidelinesPopupVo:m,reviewAuthenticityPopupVo:u,clothFitReviewInfoList:d,subtitleText:p,expParams:h,similarReview:g,nativeScore:w,sortTypeInfoList:v,reviewClothFitReviewText:f,sortTypeInfoExtra:b}=t||{},S=r?.reviewNum,I=r?.reviewNumStr,E=r?.reviewInfoList||[],{reviewDisplayNum:y,showGoodsScore:L,listShowSimilarReviews:_,clothFitTipV2:x,mixedReview:A}=h||{},R=g?.reviewInfoList?.length>0,C="string"==typeof _&&!!_;(0,ge.h5)((()=>{Object.assign(e,{reviewNum:a,reviewNumStr:n,mallReviewNum:S,mallReviewNumStr:I,mallReview:r,subtitleText:p,nativeScore:w,reviewClothFitReviewText:f,clothFitTipV2:x,mixedReview:"1"===A}),e.needShowSimilarReviews=R,e.listShowSimilarReviews=C,e.similarReview=g||{},e.commentList=i||E||[],e.ratingGuidelinesPopupVo=m,e.reviewAuthenticityPopupVo=u,e.pageReviewListMap[Ee.qf.ITEM]=i||[],e.pageReviewListMap[Ee.qf.SHOP]=E||[],e.initPageReviewListMap[Ee.qf.ITEM]=i||[],e.initPageReviewListMap[Ee.qf.SHOP]=E||[],e.pageLabelsInfo[Ee.qf.ITEM]={labels:c,sortTypeInfoList:v||[],sortTypeInfoExtra:b},e.clothFitReviewInfoList=d,e.showGoodsScore="1"===L,e.showScore=e.showGoodsScore?s:r?.mallScore||s,e.showScoreStr=e.showGoodsScore?l||s:r?.mallScoreText||s,Number.isNaN(Number(y))||(e.reviewDisplayNum=Number(y)),0===i.length&&0===E.length&&(e.showReview=!1),!a&&S&&(e.noGoodsReviewHasShopReview=!0,e.activeTopIndex=Ee.qf.SHOP),a&&(e.tabIndexTitle[Ee.qf.ITEM]=o),S&&(e.tabIndexTitle[Ee.qf.SHOP]=r.reviewNumText);const t=Object.keys(e.tabIndexTitle).length;e.onlyShowSimilarReviews=t<2&&R}))}}}),P=(0,de.A)(a.prototype,"setTopActiveIndex",[ge.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{e!==this.activeTopIndex&&(this.pageReviewListMap[e]=this.initPageReviewListMap[e],this.pageReviewListMap[e].length?this.commentList=this.pageReviewListMap[e]:await _e((async()=>{await this.queryCommentList(!0,{activeTopIndex:e,size:this.reviewDisplayNum,label_id:"",sort_type:0,...e===Ee.qf.SHOP?{source:null}:{}})})),this.selectedSortLabelId=0,this.selectedLabelId="",this.selectFilterStar=0,this.activeTopIndex=e)}}}),N=(0,de.A)(a.prototype,"newSetActiveIndex",[ge.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.activeTopIndex=e}}}),k=(0,de.A)(a.prototype,"showCommentDialog",[ge.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),M=(0,de.A)(a.prototype,"commentList",[ge.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=(0,de.A)(a.prototype,"commentPage",[ge.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),z=(0,de.A)(a.prototype,"commentHasMore",[ge.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),H=(0,de.A)(a.prototype,"selectedSortLabelId",[ge.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),F=(0,de.A)(a.prototype,"selectedLabelId",[ge.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),B=(0,de.A)(a.prototype,"selectFilterStar",[ge.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),q=(0,de.A)(a.prototype,"labelsInfo",[ge.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),O=(0,de.A)(a.prototype,"pageLabelsInfo",[ge.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{[Ee.qf.ITEM]:{},[Ee.qf.SHOP]:{}}}}),G=(0,de.A)(a.prototype,"pageReviewListMap",[ge.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{[Ee.qf.ITEM]:[],[Ee.qf.SHOP]:[]}}}),W=(0,de.A)(a.prototype,"tabIndexTitle",[ge.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),V=(0,de.A)(a.prototype,"initPageReviewListMap",[ge.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{[Ee.qf.ITEM]:[],[Ee.qf.SHOP]:[]}}}),U=(0,de.A)(a.prototype,"handleCommentDialog",[ge.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{_e((async()=>{e.stageStart("api"),await Promise.all([this.queryCommentList(!0),this.querySimilarCommentList(!0),this.activeTopIndex===Ee.qf.ITEM?this.getLabels():this.getShopLabels()]),e.stageEnd("api"),this.dialogFrom=Ee.a7.ALL_BUTTON,this.showCommentDialog=!0,this.clearPreloadPromise()}))}}}),j=(0,de.A)(a.prototype,"handleCommentDialogByLable",[ge.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async(e,t)=>{_e((async()=>{t&&t.stageStart("api");const i=[this.getLabels()];this.changeSelectedLable(e),this.loadCommentMoreLock||i.push(this.queryCommentList(!0)),await Promise.all(i),t&&t.stageEnd("api"),this.dialogFrom=Ee.a7.LABEL,this.showCommentDialog=!0,this.mouseDownPreload=!1,this.getQueryCommentListPromise=null,this.getLabelsListPromise=null,this.querySimilarCommentListPromise=null}))}}}),X=(0,de.A)(a.prototype,"closeCommentDialog",[ge.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showCommentDialog=!1,this.selectedSortLabelId=0,this.selectedLabelId="",this.selectFilterStar=0,this.dialogFrom=Ee.a7.EMPTY}}}),$=(0,de.A)(a.prototype,"clearCommentList",[ge.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.commentList=[],this.commentPage=1,this.commentHasMore=!0}}}),K=(0,de.A)(a.prototype,"onReviewSortChange",[ge.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.changeSortLableAndJudgeIfNeedRequestData(e)&&_e((async()=>{await this.queryCommentList(!0)}))}}}),Q=(0,de.A)(a.prototype,"onReviewLabelChange",[ge.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{this.loadCommentMoreLock||(this.changeSelectedLable(e),await _e((async()=>{await this.queryCommentList(!0)})))}}}),J=(0,de.A)(a.prototype,"changeFilterStar",[ge.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.loadCommentMoreLock||this.selectFilterStar===e||(this.selectFilterStar=e,this.selectedLabelId="",_e((async()=>{await this.queryCommentList(!0)})))}}}),Y=(0,de.A)(a.prototype,"showAllReviews",[ge.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{_e((async()=>{await this.queryCommentList(!0,{sort_type:0,label_id:void 0,filter_score:void 0}),this.selectFilterStar=0,this.selectedSortLabelId=0,this.selectedLabelId=""}),4)}}}),Z=(0,de.A)(a.prototype,"onlyShowSimilarReviews",[ge.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ee=(0,de.A)(a.prototype,"queryCommentList",[ge.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return async function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.onlyShowSimilarReviews)return;if(!e.commentHasMore&&!t)return;if(e.loadCommentMoreLock)return;e.loadCommentMoreLock=!0;const a=await e.transferQueryCommentList(t,i);e.setAssignCommentList(a,t,i)}}}),te=(0,de.A)(a.prototype,"similarCommentHasMore",[ge.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ie=(0,de.A)(a.prototype,"similarCommentPage",[ge.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ae=(0,de.A)(a.prototype,"similarCommentList",[ge.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ne=(0,de.A)(a.prototype,"similarDialogInfo",[ge.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),re=(0,de.A)(a.prototype,"querySimilarCommentList",[ge.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{if(!this.similarCommentHasMore&&!e)return;const t=Object.keys(this.tabIndexTitle).length>1&&this.activeTopIndex===Ee.qf.SHOP;if(this.loadSimilarCommentMoreLock||t||!this.listShowSimilarReviews)return;this.loadSimilarCommentMoreLock=!0;const i=await this.trasferQuerySimilarCommentList(e),{list:a,reviewMaxListSize:n,...r}=i||{},o=he()(a)?a:[];(0,ge.h5)((()=>{const t=e?o:[...this.similarCommentList,...o];this.similarCommentHasMore=n>t.length&&n>10,this.similarCommentList=Le(t,(e=>e?.reviewId)),this.similarDialogInfo=r||{},this.loadSimilarCommentMoreLock=!1,this.similarCommentPage+=1}))}}}),oe=(0,de.A)(a.prototype,"newDeleteReview",[ge.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return async function(t,i){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t!==Se.jF.DELETE_REVIEW)return;const n=a?e.initPageReviewListMap[e.activeTopIndex]:e.commentList,r=n.findIndex((e=>e.reviewId===i)),o=await e.reviewService.deleteReview({review_id:i}),{success:s,resultMessage:l}=o||{};(0,ge.h5)((()=>{if(s){if((0,Ie.I)(l||(0,ve.t)("store.deletedSuccessfullyToast",{ns:"goods"})),n.splice(r,1),!a){e.commentList=[...n];const t=e.initPageReviewListMap[e.activeTopIndex].findIndex((e=>e.reviewId===i));t>-1&&e.initPageReviewListMap[e.activeTopIndex].splice(t,1)}}else(0,Ie.I)(l||(0,ve.t)("store.deleteFailedToast",{ns:"goods"}))}))}}}),se=(0,de.A)(a.prototype,"newToggleAnonymous",[ge.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return async function(t,i){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;const r=a?e.initPageReviewListMap[e.activeTopIndex]:e.commentList;if("object"==typeof i){const t=r.findIndex((e=>e.reviewId===i.reviewId));t>-1&&(0,ge.h5)((()=>{r.splice(t,1,i),e.commentList=[...r];const a=e.initPageReviewListMap[e.activeTopIndex].findIndex((e=>e.reviewId===i.reviewId));a>-1&&e.initPageReviewListMap[e.activeTopIndex].splice(a,1,i)}))}else{const o=r[i],{reviewId:s,viewMoreList:l}=o,c=await e.reviewService.changeAnonymousReview({review_id:s,update_type:2===t?0:1,op_scene:n}),{nickNameOperateType:m,name:u,resultMessage:d,avatar:p,success:h}=c||{};if(h){const n={...o,viewMoreList:l.map((e=>e.type===t?m:e)),name:u,avatar:p};return(0,ge.h5)((()=>{if(r.splice(i,1,n),!a){e.commentList=[...r];const t=e.initPageReviewListMap[e.activeTopIndex].findIndex((e=>+e.reviewId==+n.reviewId));t>-1&&e.initPageReviewListMap[e.activeTopIndex].splice(t,1,n)}})),d&&fe.A.success(d),n}d&&fe.A.error(d)}return null}}}),le=(0,de.A)(a.prototype,"toggleAnonymousSimilar",[ge.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return async function(t,i){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;const r=a?e.similarReview?.reviewInfoList:e.similarCommentList;if(!r?.length)return null;if("object"==typeof i){const t=r.findIndex((e=>e.reviewId===i.reviewId));t>-1&&(0,ge.h5)((()=>{r.splice(t,1,i),e.similarReview=[...r];const a=e.similarReview?.reviewList?.findIndex((e=>e.reviewId===i.reviewId));a>-1&&e.similarReview.reviewList.splice(a,1,i)}))}else{const o=r?.[i];if(!o)return null;const{reviewId:s,viewMoreList:l}=o,c=await e.reviewService.changeAnonymousReview({review_id:s,update_type:2===t?0:1,op_scene:n}),{nickNameOperateType:m,name:u,resultMessage:d,avatar:p,success:h}=c||{};if(h){const n={...o,viewMoreList:l.map((e=>e.type===t?m:e)),name:u,avatar:p};return(0,ge.h5)((()=>{if(r.splice(i,1,n),!a){e.similarCommentList=[...r];const t=e.similarReview?.reviewList?.findIndex((e=>+e.reviewId==+n.reviewId));t>-1&&e.similarReview.reviewList.splice(t,1,n)}})),d&&fe.A.success(d),n}d&&fe.A.error(d)}return null}}}),ce=(0,de.A)(a.prototype,"handleStaticSort",[ge.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.$root.expParams?.sortTypeStyle||(this.dialogFrom=Ee.a7.SORT,_e((async()=>{e.stageStart("api"),await Promise.all([this.queryCommentList(!0),this.querySimilarCommentList(!0),this.activeTopIndex===Ee.qf.ITEM?this.getLabels():this.getShopLabels()]),e.stageEnd("api"),this.selectedSortLabelId=this.pageLabelsInfo?.[0]?.code||0,this.showCommentDialog=!0})))}}}),me=(0,de.A)(a.prototype,"mostRecentHandle",[ge.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async(e,t)=>{if(this.selectedSortLabelId!==e&&!this.loadCommentMoreLock)if(this.selectedSortLabelId=e,this.showCommentDialog){if(this.loadCommentMoreLock)return;await _e((async()=>{await this.queryCommentList(!0)}))}else this.dialogFrom=Ee.a7.MOST_RECENT,this.handleCommentDialog(t)}}}),a)},11263:function(e,t,i){"use strict";i.d(t,{D:function(){return a}});let a=function(e){return e[e.VerifyRisk=54001]="VerifyRisk",e[e.LoginRisk=40001]="LoginRisk",e}({})}}]);
//# sourceMappingURL=http://temudebug.com/sourcemaps/assets/modernjs/2881_4fec043413dab995395f.js.map