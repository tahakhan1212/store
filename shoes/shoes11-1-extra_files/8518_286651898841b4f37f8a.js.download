(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[8518],{28854:function(t,e,n){"use strict";function r(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;return t&&e&&e.scene?`${t}${t.includes("?")?"&":"?"}scene=${e.scene}`:t}n.d(e,{w:function(){return r}})},96074:function(t,e,n){"use strict";n.d(e,{W1:function(){return u},qi:function(){return i},wu:function(){return c},yp:function(){return a}});n(44114),n(25440);const r=["p_search","p_rec","m_rec"];function o(t,e,n){if(Array.isArray(e))n=n||[],e.forEach((function(e,r){"object"==typeof e&&null!==e?n.push(o(t,e)):null!==e&&n.push(e)}));else{n=n||{};for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(r.includes(s)){n[t(s)]="string"==typeof e[s]?e[s]:JSON.stringify(e[s]);continue}"object"==typeof e[s]&&null!==e[s]?n[t(s)]=o(t,e[s],Array.isArray(e[s])?[]:{}):null!==e[s]&&(n[t(s)]=e[s])}}return n}function s(t){return t.replace(/([A-Z])/g,(function(t,e){return"_"+e.toLowerCase()}))}function i(t,e){return o(s,t,e)}function a(t){return t.replace(/_(\w)/g,(function(t,e){return e.toUpperCase()}))}function c(t,e){return o(a,t,e)}function u(t,e){return function t(n,o,s){if(Array.isArray(o))s=s||[],o.forEach((function(e,r){"object"==typeof e&&null!==e?s.push(t(n,e)):null!==e&&s.push(e)}));else{s=s||{};for(const i in o)if(Object.prototype.hasOwnProperty.call(o,i)){if(e?.includes(i)){s[n(i)]=o[i];continue}if(r.includes(i)){s[n(i)]="string"==typeof o[i]?o[i]:JSON.stringify(o[i]);continue}"object"==typeof o[i]&&null!==o[i]?s[n(i)]=t(n,o[i],Array.isArray(o[i])?[]:{}):null!==o[i]&&(s[n(i)]=o[i])}}return s}(a,t)}},90230:function(t,e,n){"use strict";n.d(e,{L8:function(){return l},N:function(){return u},Vm:function(){return c}});var r=n(33514),o=n(94971),s=n(95789),i=n(47739),a=n(53075);function c(t){let{onClose:e=()=>{},onSuccess:n=()=>{},axiosHttp:a,loginScene:c,moduleConfig:u}=t;const l=()=>{f(),e?.()},p=(0,o.Ri)("region"),f=(0,s.A)(r.createElement(i.Ay,{modalVisible:!0,axiosHttp:a,onCloseClick:l,regionId:p,loginScene:c,onSuccess:async()=>{await(n?.()),l()},moduleConfig:u}))}function u(){return{errorCodeHandlers:{40001:()=>{}}}}function l(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:601;return{errorCodeHandlers:{40001:()=>{c({loginScene:t,onSuccess:()=>{(0,a.Qw)()}})}}}}},36513:function(t,e,n){"use strict";function r(t,e){try{return t()}catch(t){return e}}n.d(e,{T:function(){return r}})},5220:function(t,e,n){"use strict";n.d(e,{Bv:function(){return w},Et:function(){return _},Gs:function(){return S},Nw:function(){return f},R5:function(){return v},RP:function(){return k},Yh:function(){return D},cQ:function(){return H},eM:function(){return g},ft:function(){return C},hk:function(){return b},k6:function(){return y},lQ:function(){return A},nF:function(){return d},pY:function(){return P},vd:function(){return x},x6:function(){return h},xQ:function(){return p},yQ:function(){return m}});n(16280),n(25440),n(3296),n(48408),n(44114);var r=n(13852),o=n(34477),s=(n(70074),n(84912)),i=n(68009),a=n(64423),c=n(20162),u=n(53075),l=n(56733);const p=async t=>{let{loader:e,errLoader:n}=t;try{const{default:t}=await e();return t}catch(t){const e=function(){return null};if(n){const{default:t}=await n();return t}return e}},f=t=>{try{return(0,r.Si)(t)}catch(t){return(0,o.fL)(t,{error_message:"getPathnameWithSearchAndHash error"}),""}};function h(t,e){if(!t)return e;try{return JSON.parse(t)||e}catch(t){return e}}const d=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=null;return function(){n&&clearTimeout(n),n=setTimeout((()=>{t.apply(this,arguments),n=null}),e)}};function g(t,e){let{successToastInfo:n,failToastInfo:r,onSuccessCb:o,onFailCb:u}=e;const l=(0,i.tb)(),p=document.createElement("textarea");let f,h;p.style.position="fixed",p.style.top="0",p.style.left="0",p.value=t,p.hasAttribute("readonly")||p.setAttribute("readonly",""),document.body.appendChild(p),l.system===a.IJ.IOS?(f=document.createRange(),f.selectNodeContents(p),h=window.getSelection(),h&&(h.removeAllRanges(),h.addRange(f)),p.setSelectionRange(0,999999)):p.select();try{if(!document.execCommand("copy"))throw new Error;o?o():c.A.success(n||(0,s.t)("CopiedSuccessfully",{ns:"global"}))}catch(t){u?u():c.A.success(r||(0,s.t)("CopyFailed",{ns:"global"}))}finally{document.body.removeChild(p)}}const m=(t,e)=>{const{goodsId:n,uniqueId:r}=e||{};return r?!t[r]&&(t[r]=r,(!t[n]||!t[n]?.noUniqueId)&&(t[n]=n,!0)):!t[n]&&(t[n]={noUniqueId:!0},!0)},y=(()=>{const t={},e=(t,e)=>e?.filter((e=>m(t,e)));return n=>{let{scene:r,filter:o,data:s}=n;s=s||[],t[r]||(t[r]={});const i=t[r];o=o||e;return{res:o(i,s),destroy:()=>{delete t[r]}}}})(),w=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0).toString().replace(/\d+/,(function(t){return t.replace(/(\d)(?=(?:\d{3})+$)/g,"$1,")}))},b=(t,e)=>t?.length&&e?t.length*e:0,_=t=>"number"==typeof t,A=()=>{},v=(t,e)=>{if(!t)return;const n=t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>t.HAVE_CURRENT_DATA;e&&!n&&t.play()?.catch(A),e||t.pause()},C=t=>t?.map?.((t=>t.text))?.join(""),P=t=>t?.map?.((t=>t?.value)).join("")||"",S=function(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return()=>{n&&t?.stopPropagation?.(),"Enter"!==t?.key&&13!==t?.keyCode||e?.(t)}};function D(t){return/windows|win32/i.test(t)}const k=t=>Object.entries(t).every((t=>{let[e,n]=t;return e&&n})),H=t=>{1===t&&(0,u.Qw)(location.href)},x=t=>[l.gq.au,l.gq.nz].includes(t)},13338:function(t,e,n){"use strict";n.d(e,{Ew:function(){return s},QL:function(){return o},Z7:function(){return r}});const r=(0,n(77668).MN)({key:"GetActionsAtom",createActions(t){let{getActions:e,getAtomValue:n}=t;return{getActions:e,getAtomValue:n}}});function o(){return r.useActions().getActions}function s(){return r.useActions().getAtomValue}},63962:function(t,e,n){"use strict";n.d(e,{zw:function(){return O.zw},dD:function(){return ut},LP:function(){return O.LP},HF:function(){return a},a3:function(){return B},Pj:function(){return O.Pj}});var r=n(33514),o=n(47116),s=n(14511),i=n(34243);function a(t,e){let{store:n}=t;return t=>{class a extends r.Component{constructor(){super(...arguments),this.state={hasError:!1}}static createStore(){return new n}componentDidMount(){const t=this.props.store;t&&t.prepareClientData&&t.prepareClientData()}render(){return r.createElement(t,this.props)}}return a.displayName=`appProvider(${t.displayName||t.name})`,a.Store=n,a.pageConfig={...e},(0,s.eE)(i.A)((0,o.PA)(a))}}n(16280);var c=n(43360),u=n(28523),l=n(50453),p=n(2212),f=n(32370),h=n(96007),d=n(34477),g=n(31426);const m=["goods","mall","all_review_detail","goods_video"];var y=async(t,e)=>{if(!window.rawData&&!window.__SEO__REDIRECT__API__REQUESTED__){const{pageConfig:n,Store:r}=t,o=n?.pageProperty?.pageName,s=(window?.location?.pathname||"").endsWith("/goods.html");if(m.includes(o)&&!s)try{const t=n?.metaParams||r?.metaParams,o=n?.createMetaParams||r?.createMetaParams,s=t||o?.(e.query),i=await(0,g.gp)({params:s,http:e.store.$axiosHttp});[g.cY.nf,g.cY.tr,g.cY.mp,g.cY.tmr].includes(i)&&await new Promise((()=>{}))}catch(t){(0,d.fL)(t)}}},w=n(37451),b=n(47450),_=n(25728),A=n(92717),v=n(73569),C=n(98089),P=n(29863);let S;const D=t=>{S=t};n(44114);let k,H=[];function x(){return"undefined"==typeof window?Promise.resolve():"undefined"==typeof MessageChannel?new Promise((t=>{setTimeout(t,0)})):(k||(k=new MessageChannel,k.port1.onmessage=()=>{H.forEach((t=>t(null))),H=[]}),new Promise((t=>{H.push(t),k.port2.postMessage(null)})))}const L=["bec-fe.web-ui","bec-fe.web-sku-selector","bec-fe.login-dialog","bec-fe.chat","bec-fe.popup-sms-modal-coupon-pc","bec-fe.bui-web-goods-list","bec-fe.web-card-bind","bec-fe.web-pay","bec-fe.web-payment-list","bec-fe.web-add-to-order","bec-fe.bg-cui-empty","bec-fe.bg-cui-dialog","bec-fe.bg-fun-web-widgets"];var I={debug:!1,defaultNS:"global",supportedLngs:["en","en-GB","es","es-ES","fr","de","it","ja","pt","pt-BR","ko","sv","nl","cs","pl","el","ar","he","da","sk","ro","fi","nb","hu","sl","hr","bg","lv","et","lt","pt-US","zu","ru","uk","tr","zh-TW","fil","kk","ka","ms","az","pt-PR","pt-GU","pt-MP","pt-VI","hy","th","zh-Hans","sr","is","ga","mt","zh-Hant","uz","es-DE","es-IT","es-MA","es-AD","bs","ur","pt-IE","es-FR","vi","es-GB","sq","mk","mn","si"],extraSumerNs:{bgp_similar_rec:["goods","global",...L],collect:["error","global","collect","bec-fe.tree-menu",...L],goods:["goods","global","comments","bec-fe.web-pay","bec-fe.web-share","bec-fe.popup-download-ui-pc","bec-fe.web-reviews",...L],goods_snapshot:["goods","global","comments","bec-fe.web-pay","bec-fe.web-reviews",...L],mall:["global","mall","comments","goods","bec-fe.web-reviews",...L],"shop-collect":["global","error","collect","bec-fe.tree-menu",...L],shopping_cart:["shopping_cart","global",...L],"csr/shopping_cart_skeleton":["shopping_cart","global"],review_guidelines:["guidelines"],bgm_popular_shops:["global","mall",...L],shopping_cart_share:["shopping_cart_share","global",...L],wishlist:["wishlist","global",...L],goods_appeal:["goods_appeal","error","global",...L]}},O=n(87650),$=n(63560),E=n.n($);var R=n(13852),T=n(82701);window.Proxy||(0,w.jK)({useProxies:"never"});const q=["/w/shopping_cart.html"];async function j(t){(0,b.Om)();const{Component:e}=t;e?.initClient?.();const n=e.pageConfig||{},r=n.pageProperty||{};window.__pmmPagePath=r.pagePath;const o=q.includes(r.pagePath)&&["A","C"].includes(function(){let t="";return t=(0,P.Ay)("execute_script_with_split"),t||""}());window.__IS__HIT__JS__SPLIT=o,o&&await x(),function(t){const e=t.pageProperty?.pv?.keys;if(!e)return;const n=t.pageRegExp,r=(0,R.Xe)(location.search);if(n){const t=[].concat(n).concat(n.map((t=>`/csr${t}`))).reduce(((t,e)=>t||new c.A(e).exec(location.pathname)),null);t&&t.groups&&Object.assign(r,{...r,...t.groups})}const o=e.reduce(((t,e)=>{let n,o;return"string"==typeof e?(n=e,o=r[n]):"object"==typeof e&&(n=e.key,o=r[n],e.mapping&&e.mapping.forEach((function(t){null!=r[t]&&(o=r[t])})),null==o&&null!=e.default&&(o=e.default)),null!=n&&null!=o&&(t[n]=o),t}),{});delete t.pageProperty.pv,0!==Object.keys(o).length&&(t.pageProperty.extraPvParams=o,(0,T.As)(o))}(n);const s=window.pmmAppInfo,i=s?.extraTags||{},{spiderType:a,importantIT:u,...l}=i||{};let p=a;if(!a){const t=(0,_.EU)(window.navigator.userAgent);p=_.Tw[t]}const{pageInfo:f}=await(0,v.K)(t,{pmmAppInfo:{...s,extraTags:{...l,...p?{spiderType:p,importantIT:u}:{}}},commonErrorLoggerParams:t=>("unhandledrejection reason:"===t?.page&&(t.extraInfo={errorCode:5e5,errorMsg:"page boot unhandledrejection reason is null"}),t),...n,i18nConfig:I});D(f),o&&await x();const h=window.rawData||{};if(h.store){const t=window.__CHUNK_DATA__||{};Object.keys(t).forEach((e=>{!function(t,e,n){const r=e.split(".");r.pop();const o=r.join(".");(0,w.h5)((()=>{Object.entries(n||{}).forEach((e=>{let[n,r]=e;o?E()(t,`${o}.${n}`,r):t[n]=r}))}))}(h.store,e,t[e].data)}));const n=e.createStore(),r=(0,A.b)({pageInfo:f});n.fromJS(h.store,r),window.__INITIAL_PROPS__={...window.rawData,...window.__INITIAL_PROPS__,store:n},(0,C.q)(n?.webLayoutData)}o&&await x()}var N=n(4146),M=n.n(N),F=n(77668),z=n(36513),Q=n(13338),J=n(22284);function V(){const t=(0,O.Pj)();return t.getAtomActions=(0,Q.QL)(),t.getAtomValue=(0,Q.Ew)(),null}const U=t=>{const e=e=>{const{$atomValue:n,$ctx:s}=e.store||{};return(0,r.useEffect)((()=>()=>{(0,J.A)({eventType:1,scene:1,event:"withMobx_unmount",tags:{sessionId:(0,z.T)((()=>sessionStorage.getItem("x-session-id")))}})}),[]),r.createElement(o.Kq,e,r.createElement(F.a,{value:n,ctx:s},r.createElement(V,null),r.createElement(t,e)))},n=t.displayName||t.name;return e.displayName=`withMobx(${n})`,M()(e,t),e};n(69841);const G=t=>(0,p.r)(t,(t=>({alreadyCriticalCSS:!!t?.__res?.locals?.leoUseCritical}))),B=t=>{const e=(0,f.o)({Component:U(t?.pageConfig?.loadable?G(t):t),getInitialProps:async e=>{const n=e.store=e.store||t.createStore(),{pageRegExp:r}=t.pageConfig;if(r){const t=r.reduce(((t,n)=>t||new c.A(n).exec(e.pathname)),null);if(t&&t.groups){const n=Object.getOwnPropertyDescriptor(e,"query").get;Object.defineProperty(e,"query",{get(){return{...n(),...t.groups}}})}}const{__req:o,__res:s}=e||{};return await Promise.all([n.initData(e),y(t,e)]),o?.monitor?.logFirstScreenDataLoad(),n.isRobot&&n.isMetaRefresh&&!s.__seo__redirect__tag&&l.Ay.uniformForward("/too_many_requests.html"),{store:n}},getChunkDataFetcher:async(e,n)=>{const r=e.store=e.store||window.__INITIAL_PROPS__?.store||t.createStore();return r.getChunkDataFetcher?.(e,n)||{}},title:e=>{const{title:n}=t.pageConfig||{};return"function"==typeof n?n(e):n},metaParams:e=>{const{pageConfig:n,Store:r}=t,o=n?.metaParams||r?.metaParams,s=n?.createMetaParams||r?.createMetaParams;return o||s?.(e.query)}});return{page:e,startClient:async()=>{if(window.isMetaRefresh)throw Error("do not contiune");return(0,u.c)(),t?.pageConfig?.loadable&&await(0,h.ai)(),j(e)}}};var K=n(38095),W=n(64423),Y=n(20162),X=n(28854),Z=n(96074);const tt=["p_rec","prec","pRec","p_search","psearch","pSearch"];function et(t,e){if(Array.isArray(t))e=e||[],t.forEach((t=>{"object"==typeof t&&null!==t?e.push(et(t)):e.push(t)}));else{e=e||{};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(tt.includes(n)?delete e[n]:"object"==typeof t[n]&&null!==t[n]?e[n]=et(t[n],Array.isArray(t[n])?[]:{}):e[n]=t[n])}return e}var nt=n(68009),rt=n(5220);const ot=()=>{const{isNativePlatform:t}=(0,nt.tb)();return t};var st=n(53826);function it(t){5e4!==t.errorCode&&t.errorMsg&&Y.A.error(t.errorMsg)}function at(t,e){return e?e(t):{error:(0,st.nD)(t)}}const ct={$riskControlCrawler:null,lock:null};class ut{constructor(t,e){var n=this;this.$axiosHttp=void 0,this.get=(t,e,n,r,o)=>{const{useAntiToken:s=!1,...i}=e;return this.$axiosHttp.get(t,{params:i,timeout:o,useAntiToken:s}).then((t=>{const r=(0,Z.wu)(t);return n?n(r,e):r})).catch((t=>at(t,r)))},this.post=function(t){let{useNativeAntiToken:e=!1,useAntiToken:r=!1,useRawResponse:o=!1,defaultErrorHandler:s=it,errorCodeHandlers:i,excludedKeys:a=[],...c}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,p=arguments.length>4?arguments[4]:void 0;return n.$axiosHttp.post(t,c,{useNativeAntiToken:e,useAntiToken:r,useRawResponse:o,defaultErrorHandler:s,errorCodeHandlers:i,timeout:p,excludedKeys:a}).then((t=>{const e=(0,Z.W1)(t,a);return u?u(e,c):e})).catch((t=>at(t,l)))},this.baseGet=t=>{let{url:e,params:n,format:r,errorHandler:o,timeout:s}=t;return this.get(e,n,r,o,s)},this.basePost=t=>{let{url:e,params:n,format:r,errorHandler:o,timeout:s}=t;return this.post(e,n,r,o,s)},this.getRisk=async t=>{let{url:e,params:n,format:r,errorHandler:o,timeout:s}=t;return n.useAntiToken=!0,this.get(e,n,r,o,s)},this.postRisk=async t=>{let{url:e,params:n={},format:r,errorHandler:o,timeout:s}=t;n.useAntiToken=!0;try{return ot()?n.useNativeAntiToken=!0:n.anti_content=await this.getRiskInfo(),this.basePost({url:e,params:n,format:r,errorHandler:o,timeout:s})}catch(t){return Promise.reject(t)}},this.postRiskNew=async t=>{let{url:e,params:n={},format:r,errorHandler:o,timeout:s}=t;return n.useAntiToken=!0,this.basePost({url:e,params:n,format:r,errorHandler:o,timeout:s})},this.queryUserInfo=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.errorCodeHandlers={40001:()=>null},n.postRisk({url:"/api/bg-barbera-api/user/short/profile",params:t,errorHandler:()=>null}).then((t=>t?.result||null))},this.queryCartNum=()=>(0,W.H_)(window.navigator.userAgent)?Promise.resolve(0):this.postRisk({url:"/api/bg/bg-uranus-api/uranus_cart/user_cart_num",params:{shipping_scene:2}}).then((t=>t?.result?.allAmountSum||0)),this.querySearchShade=()=>{const t={scene:"shade_words"};return this.postRisk({url:(0,X.w)("/api/poppy/v1/shade_words",t),params:t}).then((t=>t?.result?.data?.shadeWords))},this.queryFooterData=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.baseGet({url:"/api/bg/buffon/fuji/region/pay/icon",params:t}).then((t=>t?.supportedPayIconList||null))},this.queryCategoryData=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.postRisk({url:"/api/poppy/v1/opt_list",params:{scene:"opt_list_all",...t}})},this.queryTopActivityInfo=()=>{const t="activity_info_v2";return this.basePost({url:"/api/alexa/pc/homepage/module_query",params:{module_names:[t]}}).then((e=>(e?.result?.homeModuleList||[]).find((e=>e?.moduleName===t))?.data))},this.queryTitleBarList=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.postRisk({url:"/api/poppy/v1/title_bar_list",params:{scene:"home_title_bar_list",offset:0,pageSize:0,pageSn:"",...t}}).then((t=>t?.result?.data?.titleBarList||[]))},this.$axiosHttp=t;const{requestContext:r}=e||{},{userAgent:o}=r||{};let s=!1;r&&(s=((0,P.Ay)("switches",r,"")||{}).removePrecPsearch);const i=s&&(0,W.H_)(o);this.addPlugins(e,i),ot()||this.initRiskControl()}addPlugins(t,e){const n=[];n.push({request:t=>{const e=(t.query,{});return"get"===t.method?t.params=Object.assign(e,t.params||{}):t.data=Object.assign(e,t.data||{}),t}}),e&&n.push({response(t){if(t?.config?.useRawResponse){const e=et(t.data);return t.data=e,t}return et(t)}}),((t,e)=>{e.forEach((e=>{t.interceptors.request.use(e.request),t.interceptors.response.use(e.response,e.responseError)}))})(this.$axiosHttp,n)}async initRiskControl(){if(ct.lock)return ct.lock;let t;ct.lock=new Promise((e=>{t=e}));const[e,r]=await Promise.all([(0,K.Fm)(),(0,rt.xQ)({loader:()=>n.e(7523).then(n.bind(n,76503))})]);ct.$riskControlCrawler=new r({serverTime:e}),t()}async getRiskInfo(){return ct.$riskControlCrawler||await this.initRiskControl(),ct.$riskControlCrawler.messagePackSync?.()}queryCreditBalance(){return this.postRisk({url:"/api/bg/buffon/asset/centre/balance",params:{errorCodeHandlers:{40001:()=>null}},errorHandler:()=>null})}queryServerTime(){return(0,K.Fm)()}}},53826:function(t,e,n){"use strict";n.d(e,{OQ:function(){return o},mi:function(){return r},nD:function(){return s}});n(27208);const r=t=>40001===parseInt(t.errorCode,10)||"needLogin"===t.errorMsg||"needLogin"===t.errorCode,o=t=>54001===parseInt(t.errorCode,10),s=t=>t||{}},87650:function(t,e,n){"use strict";n.d(e,{zw:function(){return b},LP:function(){return L},Pj:function(){return I}});var r,o,s=n(33514),i=n(47116),a=n(13425),c=n(60055),u=(n(35639),n(27208),n(37451)),l=n(76038),p=n(29863),f=n(98701),h=n(37374),d=n(24517),g=n(90230),m=n(13338);const y=Object.prototype.hasOwnProperty,w="__ItemType__";let b=(r=class{static list(){const t=u.sH.array([],{deep:!1});return t[w]=this,t}constructor(t){this.getParent=void 0,(0,a.A)(this,"setStoreData",o,this),(0,u.Gn)(this),this.getParent=()=>t}get $service(){return this.$root.$service}get $parent(){return this.getParent()}get $root(){return this.$parent.$root||this.$parent}fromJS(t){return _(this,t,arguments.length>1&&void 0!==arguments[1]&&arguments[1])}},(0,c.A)(r.prototype,"$service",[u.EW],Object.getOwnPropertyDescriptor(r.prototype,"$service"),r.prototype),o=(0,c.A)(r.prototype,"setStoreData",[u.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(t,e)=>{this[t]=e}}}),r);function _(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e)for(const r in e)if(y.call(e,r)){if(n&&!(r in t))continue;const o=t[r];o instanceof b?o.fromJS(e[r],n):o instanceof Array&&o.length&&o[0]instanceof b?t[r]=(e[r]||[]).map((e=>new o[0].constructor(t).fromJS(e,n))):t[r]=o instanceof Array&&w in o?(e[r]||[]).map((e=>new o[w](t).fromJS(e,n))):e[r]}return t}var A,v,C,P,S,D,k,H;async function x(t,e,n){if("function"!=typeof t)return Promise.all(Object.entries(t).map((async t=>{let[r,o]=t;"function"==typeof o&&(o={dump:!1,loader:o});const s=o.loader,i=await Promise.resolve(s(e,n));(0,u.h5)((()=>{o.dump?Object.assign(n,i):n[r]=i}))})));{const r=await t(e,n);(0,u.h5)((()=>Object.assign(n,r)))}}let L=(A=u.XI.bound,v=class{constructor(){this.$axiosHttp=null,this.$service=void 0,this.$ctx=void 0,this.$atomValue=void 0,(0,a.A)(this,"lang",C,this),this.getAtomActions=void 0,this.getAtomValue=void 0,(0,a.A)(this,"headAndFootStaticConfigs",P,this),this.pageSn=void 0,this.needHeadData=!0,this.needFootData=!0,(0,a.A)(this,"webLayoutData",S,this),this.graySceneList=[],this.commonGraySceneList=[],(0,a.A)(this,"grayConfig",D,this),this.initQueryLayoutData=!0,this.userAgent="",this.footerLinkNoFollow=!1,this.layoutDataOptions=void 0,this.seoData=void 0,(0,a.A)(this,"queryLayoutData",k,this),this.afterQueryLayoutData=(t,e)=>{},this.beforeQueryLayoutData=t=>{},(0,a.A)(this,"setStoreData",H,this),this.checkAndPopLogin=async t=>{let{onSuccess:e,loginScene:n,useCookie:r}=t,o=!1;return o=r?!!await(0,d.mQ)():await this.$service.queryUserInfo(),!!o||(this.popLogin({onSuccess:e,loginScene:n}),!1)},this.hasOneLogin=!1,this.popLogin=t=>{if(this.hasOneLogin)return;this.hasOneLogin=!0;(0,g.Vm)({onClose:()=>{this.hasOneLogin=!1,t?.onClose?.()},onSuccess:()=>{this.hasOneLogin=!1,t?.onSuccess?.()},axiosHttp:this.$axiosHttp,loginScene:t.loginScene})},(0,u.Gn)(this)}initAxiosHttp(t){var e;this.$axiosHttp=t.$axiosHttp,this.$ctx=(e=t,{...e,toJSON(){return null}})}initServices(t,e){}getDatasource(){return[]}async loadDatasource(t,e){return Array.isArray(t)?t.reduce(((t,n)=>t.then((()=>x(n,e,this)))),Promise.resolve()):x(t,e,this)}initData(t){this.initAxiosHttp(t),this.initServices(this.$axiosHttp,t);const e=(0,f.h8)(void 0,this.$ctx);this.$atomValue=e,e.toJSON=()=>({atoms:e.atoms}),m.Z7.__init(e),this.getAtomActions=e.atoms[m.Z7.__key].actions.getActions,this.getAtomValue=e.atoms[m.Z7.__key].actions.getAtomValue,this.lang=this.getAtomValue(l.M).resolvedLanguage||t?.cookies?.language;const n=this.getDatasource();return Promise.all([this.loadDatasource(n,t),this.initQueryLayoutData?this.queryLayoutData(t):Promise.resolve(null)])}async queryCommonConfigData(t){const e=(0,p.Ay)("commonConfigs",t.__res)||{};(0,u.h5)((()=>{this.headAndFootStaticConfigs=e}))}prepareClientData(){}getChunkDataFetcher(t,e){}fromJS(t,e){const n={},r=t=>t instanceof b,o=t=>t instanceof Array&&t.length&&t[0]instanceof b,s=t=>t instanceof Array&&w in t;if(t){for(const t in this){const e=this[t];(r(e)||o(e)||s(e))&&(n[t]=e)}Object.assign(this,t)}for(const t in n){const e=n[t];r(e)?this[t]=e.fromJS(this[t]):o(e)?this[t]=(this[t]||[]).map((t=>new e[0].constructor(this).fromJS(t))):s(e)&&(this[t]=(this[t]||[]).map((t=>new e[w](this).fromJS(t))))}this.initAxiosHttp(e),this.initServices(this.$axiosHttp,e)}toJSON(){return(0,u.HO)(this)}},C=(0,c.A)(v.prototype,"lang",[u.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,c.A)(v.prototype,"headAndFootStaticConfigs",[u.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),(0,c.A)(v.prototype,"queryCommonConfigData",[A],Object.getOwnPropertyDescriptor(v.prototype,"queryCommonConfigData"),v.prototype),S=(0,c.A)(v.prototype,"webLayoutData",[u.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),D=(0,c.A)(v.prototype,"grayConfig",[u.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),k=(0,c.A)(v.prototype,"queryLayoutData",[u.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async t=>{this.beforeQueryLayoutData(t);const e=await(0,h.T)(t,{needHeadData:this.needHeadData,needFootData:this.needFootData,extendHeaderData:this.extendHeaderData,$axiosHttp:this.$axiosHttp,getRiskInfo:this.$service.getRiskInfo.bind(this.$service),pageSn:this.pageSn,store:this,graySceneList:this.commonGraySceneList.concat(this.graySceneList),extendFooterData:this.footerLinkNoFollow?{footerLinkRel:"nofollow"}:{},options:{needPreloadImage:!0,shoppingCartSidebar:[10032,10040].includes(this.pageSn),...this.layoutDataOptions}});(0,u.h5)((()=>{this.webLayoutData=e,this.grayConfig=e.commonData?.expConfig||{}})),this.afterQueryLayoutData?.(e,t)}}}),H=(0,c.A)(v.prototype,"setStoreData",[u.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(t,e)=>{this[t]=e}}}),v);function I(){const{store:t}=s.useContext(i.Db);return t||{}}},85829:function(t,e,n){"use strict";n.d(e,{A:function(){return o}});var r=n(67402);function o(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=window.pmmAppInfo?.reportPath||window.__pmmPagePath,{isEnforceRobot:n}=window.leoConfig||{};if(!e||n)return;const o=function(t,e){return["/w/goods.html"].includes(t)&&"string"==typeof window.leoConfig?.use_prefetch_size?{grayTag:`goods_did_load_video_${window.leoConfig.use_prefetch_size}`}:["/w/mall.html"].includes(t)?e?.query?.refer_page_sn||e?.query?._x_src?{grayTag:"mall_with_ref"}:{grayTag:"mall_no_ref"}:{}}(e,t),s={groupId:"11",pn:e,pagePath:e,pc:!0,...o};r.H.init(s)}},24828:function(t,e,n){"use strict";n.d(e,{B:function(){return o}});var r=n(32036);function o(t){const e=t.metaParams||t.constructor.metaParams||t.constructor.createMetaParams?.(t.query);e&&(0,r.A)({...e,origin_url:window.location.pathname},t.$axiosHttp)}},50477:function(){},42634:function(){}}]);
//# sourceMappingURL=http://temudebug.com/sourcemaps/assets/modernjs/8518_286651898841b4f37f8a.js.map